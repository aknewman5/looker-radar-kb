!function(){"use strict";function t(t){const n=document.createElement("template");return n.innerHTML=t,document.importNode(n.content,!0)}function n(t){const n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.innerHTML=t,n}const e=Object.assign(lt(t,t=>{if(null===t.firstChild)return null;if(t.firstChild===t.lastChild)return t.removeChild(t.firstChild);const n=document.createElement("span");return n.appendChild(t),n}),{fragment:lt(t,t=>t)}),r=Object.assign(lt(n,t=>null===t.firstChild?null:t.firstChild===t.lastChild?t.removeChild(t.firstChild):t),{fragment:lt(n,t=>{const n=document.createDocumentFragment();for(;t.firstChild;)n.appendChild(t.firstChild);return n})}),i=9,o=10,a=12,c=13,l=32,s=65,u=90,f=97,h=122,d=60,p=62,g=47,y=45,m=33,b=61,v=34,_=39,x=63,w=1,k=2,M=3,E=4,C=5,N=6,T=7,R=8,A=9,$=10,S=11,L=12,U=13,O=14,Y=15,D=16,I=17,F=18,P=19,z=20,B=21,j=22,W=23,H=24,q=25,V=26,X=27,G=28,Z=29,K=128,Q=1,J=8,tt=1,nt="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xlink",rt="http://www.w3.org/XML/1998/namespace",ot="http://www.w3.org/2000/xmlns/",at=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),ct=new Map([["xlink:actuate",et],["xlink:arcrole",et],["xlink:href",et],["xlink:role",et],["xlink:show",et],["xlink:title",et],["xlink:type",et],["xml:lang",rt],["xml:space",rt],["xmlns",ot],["xmlns:xlink",ot]]);function lt(t,n){return function({raw:e}){let r,i,o,a,c=w,l="",s=0;for(let t=0,n=arguments.length;t<n;++t){const n=e[t];if(t>0){const r=arguments[t];switch(c){case V:if(null!=r){const t=`${r}`;if(pt(i))l+=t.replace(/[<]/g,st);else{if(new RegExp(`</${i}[\\s>/]`,"i").test(l.slice(-i.length-2)+t))throw new Error("unsafe raw text");l+=t}}break;case w:null==r||(r instanceof Node||"string"!=typeof r&&r[Symbol.iterator]||/(?:^|>)$/.test(e[t-1])&&/^(?:<|$)/.test(n)?(l+="\x3c!--::"+t+"--\x3e",s|=K):l+=`${r}`.replace(/[<&]/g,st));break;case A:{let i;if(c=L,/^[\s>]/.test(n)){if(null==r||!1===r){l=l.slice(0,o-e[t-1].length);break}if(!0===r||""==(i=`${r}`)){l+="''";break}if("style"===e[t-1].slice(o,a)&&ht(r)||"function"==typeof r){l+="::"+t,s|=Q;break}}if(void 0===i&&(i=`${r}`),""===i)throw new Error("unsafe unquoted empty string");l+=i.replace(/^['"]|[\s>&]/g,st);break}case L:l+=`${r}`.replace(/[\s>&]/g,st);break;case S:l+=`${r}`.replace(/['&]/g,st);break;case $:l+=`${r}`.replace(/["&]/g,st);break;case N:if(ht(r)){l+="::"+t+"=''",s|=Q;break}throw new Error("invalid binding");case I:break;default:throw new Error("invalid binding")}}for(let t=0,e=n.length;t<e;++t){const e=n.charCodeAt(t);switch(c){case w:e===d&&(c=k);break;case k:e===m?c=q:e===g?c=M:ut(e)?(r=t,i=void 0,c=E,--t):e===x?(c=C,--t):(c=w,--t);break;case M:ut(e)?(c=E,--t):e===p?c=w:(c=C,--t);break;case E:ft(e)?(c=N,i=gt(n,r,t)):e===g?c=O:e===p&&(i=gt(n,r,t),c=dt(i)?V:w);break;case N:ft(e)||(e===g||e===p?(c=T,--t):e===b?(c=R,o=t+1,a=void 0):(c=R,--t,o=t+1,a=void 0));break;case R:ft(e)||e===g||e===p?(c=T,--t,a=t):e===b&&(c=A,a=t);break;case T:ft(e)||(e===g?c=O:e===b?c=A:e===p?c=dt(i)?V:w:(c=R,--t,o=t+1,a=void 0));break;case A:ft(e)||(e===v?c=$:e===_?c=S:e===p?c=dt(i)?V:w:(c=L,--t));break;case $:e===v&&(c=U);break;case S:e===_&&(c=U);break;case L:ft(e)?c=N:e===p&&(c=dt(i)?V:w);break;case U:ft(e)?c=N:e===g?c=O:e===p?c=dt(i)?V:w:(c=N,--t);break;case O:e===p?c=w:(c=N,--t);break;case C:e===p&&(c=w);break;case Y:e===y?c=D:e===p?c=w:(c=I,--t);break;case D:e===y?c=W:e===p?c=w:(c=I,--t);break;case I:e===d?c=F:e===y&&(c=j);break;case F:e===m?c=P:e!==d&&(c=I,--t);break;case P:e===y?c=z:(c=I,--t);break;case z:e===y?c=B:(c=W,--t);break;case B:c=W,--t;break;case j:e===y?c=W:(c=I,--t);break;case W:e===p?c=w:e===m?c=H:e!==y&&(c=I,--t);break;case H:e===y?c=j:e===p?c=w:(c=I,--t);break;case q:e===y&&n.charCodeAt(t+1)===y?(c=Y,++t):(c=C,--t);break;case V:e===d&&(c=X);break;case X:e===g?c=G:(c=V,--t);break;case G:ut(e)?(r=t,c=Z,--t):(c=V,--t);break;case Z:ft(e)&&i===gt(n,r,t)?c=N:e===g&&i===gt(n,r,t)?c=O:e===p&&i===gt(n,r,t)?c=w:ut(e)||(c=V,--t);break;default:c=void 0}}l+=n}const u=t(l),f=document.createTreeWalker(u,s,null,!1),h=[];for(;f.nextNode();){const t=f.currentNode;switch(t.nodeType){case tt:{const n=t.attributes;for(let e=0,r=n.length;e<r;++e){const{name:i,value:o}=n[e];if(/^::/.test(i)){const n=arguments[+i.slice(2)];mt(t,i),--e,--r;for(const e in n){const r=n[e];null==r||!1===r||("function"==typeof r?t[e]=r:"style"===e&&ht(r)?bt(t[e],r):yt(t,e,!0===r?"":r))}}else if(/^::/.test(o)){const n=arguments[+o.slice(2)];mt(t,i),--e,--r,"function"==typeof n?t[i]=n:bt(t[i],n)}}break}case J:if(/^::/.test(t.data)){const n=t.parentNode,e=arguments[+t.data.slice(2)];if(e instanceof Node)n.insertBefore(e,t);else if("string"!=typeof e&&e[Symbol.iterator])if(e instanceof NodeList||e instanceof HTMLCollection)for(let r=e.length-1,i=t;r>=0;--r)i=n.insertBefore(e[r],i);else for(const r of e)null!=r&&n.insertBefore(r instanceof Node?r:document.createTextNode(r),t);else n.insertBefore(document.createTextNode(e),t);h.push(t)}}}for(const t of h)t.parentNode.removeChild(t);return n(u)}}function st(t){return`&#${t.charCodeAt(0).toString()};`}function ut(t){return s<=t&&t<=u||f<=t&&t<=h}function ft(t){return t===i||t===o||t===a||t===l||t===c}function ht(t){return t&&t.toString===Object.prototype.toString}function dt(t){return"script"===t||"style"===t||pt(t)}function pt(t){return"textarea"===t||"title"===t}function gt(t,n,e){return t.slice(n,e).toLowerCase()}function yt(t,n,e){t.namespaceURI===nt&&(n=n.toLowerCase(),n=at.get(n)||n,ct.has(n))?t.setAttributeNS(ct.get(n),n,e):t.setAttribute(n,e)}function mt(t,n){t.namespaceURI===nt&&(n=n.toLowerCase(),n=at.get(n)||n,ct.has(n))?t.removeAttributeNS(ct.get(n),n):t.removeAttribute(n)}function bt(t,n){for(const e in n){const r=n[e];e.startsWith("--")?t.setProperty(e,r):t[e]=r}}function vt(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function _t(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function xt(t){let n,e,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=vt,e=(n,e)=>vt(t(n),e),r=(n,e)=>t(n)-e):(n=t===vt||t===_t?t:wt,e=t,r=t),{left:i,center:function(t,n,e=0,o=t.length){const a=i(t,n,e,o-1);return a>e&&r(t[a-1],n)>-r(t[a],n)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function wt(){return 0}function kt(t){return null===t?NaN:+t}const Mt=xt(vt).right;function Et(t,n){let e=0;for(let r of t)null!=r&&(r=+r)>=r&&++e;return e}function Ct(t){return 0|t.length}function Nt(t){return!(t>0)}function Tt(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function Rt(t,n){var e=0;return Float64Array.from(t,t=>e+=+t||0)}function At(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let a of t)null!=a&&(a=+a)>=a&&(e=a-i,i+=e/++r,o+=e*(a-i));else{let a=-1;for(let c of t)null!=(c=n(c,++a,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,o+=e*(c-i))}if(r>1)return o/(r-1)}function $t(t,n){const e=At(t,n);return e?Math.sqrt(e):e}function St(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}xt(kt).center;class Lt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}class Ut extends Map{constructor(t,n=Ft){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(Yt(this,t))}has(t){return super.has(Yt(this,t))}set(t,n){return super.set(Dt(this,t),n)}delete(t){return super.delete(It(this,t))}}class Ot extends Set{constructor(t,n=Ft){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(Yt(this,t))}add(t){return super.add(Dt(this,t))}delete(t){return super.delete(It(this,t))}}function Yt({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Dt({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function It({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ft(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Pt(t){return t}function zt(t,...n){return Wt(t,Pt,Pt,n)}function Bt(t,n,...e){return Wt(t,Pt,n,e)}function jt(t,n,...e){return Wt(t,Array.from,n,e)}function Wt(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new Ut,c=r[o++];let l=-1;for(const n of i){const t=c(n,++l,i),e=a.get(t);e?e.push(n):a.set(t,[n])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function Ht(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const o=Uint32Array.from(t,(t,n)=>n);return n.length>1?(n=n.map(n=>t.map(n)),o.sort((t,e)=>{for(const r of n){const n=Vt(r[t],r[e]);if(n)return n}})):(e=t.map(e),o.sort((t,n)=>Vt(e[t],e[n]))),r=t,i=o,Array.from(i,t=>r[t])}var r,i;return t.sort(qt(e))}function qt(t=vt){if(t===vt)return Vt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function Vt(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function Xt(t,n,e){return(2!==n.length?Ht(Bt(t,n,e),([t,n],[e,r])=>vt(n,r)||vt(t,e)):Ht(zt(t,e),([t,e],[r,i])=>n(e,i)||vt(t,r))).map(([t])=>t)}const Gt=Math.sqrt(50),Zt=Math.sqrt(10),Kt=Math.sqrt(2);function Qt(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Gt?10:o>=Zt?5:o>=Kt?2:1;let c,l,s;return i<0?(s=Math.pow(10,-i)/a,c=Math.round(t*s),l=Math.round(n*s),c/s<t&&++c,l/s>n&&--l,s=-s):(s=Math.pow(10,i)*a,c=Math.round(t/s),l=Math.round(n/s),c*s<t&&++c,l*s>n&&--l),l<c&&.5<=e&&e<2?Qt(t,n,2*e):[c,l,s]}function Jt(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,o,a]=r?Qt(n,t,e):Qt(t,n,e);if(!(o>=i))return[];const c=o-i+1,l=new Array(c);if(r)if(a<0)for(let s=0;s<c;++s)l[s]=(o-s)/-a;else for(let s=0;s<c;++s)l[s]=(o-s)*a;else if(a<0)for(let s=0;s<c;++s)l[s]=(i+s)/-a;else for(let s=0;s<c;++s)l[s]=(i+s)*a;return l}function tn(t,n,e){return Qt(t=+t,n=+n,e=+e)[2]}function nn(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?tn(n,t,e):tn(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function en(t){return Math.max(1,Math.ceil(Math.log(Et(t))/Math.LN2)+1)}function rn(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function on(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function an(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function cn(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function ln(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?Vt:qt(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,c=Math.log(o),l=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*l*(o-l)/o)*(a-o/2<0?-1:1);ln(t,n,Math.max(e,Math.floor(n-a*l/o+s)),Math.min(r,Math.floor(n+(o-a)*l/o+s)),i)}const o=t[n];let a=e,c=r;for(sn(t,e,n),i(t[r],o)>0&&sn(t,e,r);a<c;){for(sn(t,a,c),++a,--c;i(t[a],o)<0;)++a;for(;i(t[c],o)>0;)--c}0===i(t[e],o)?sn(t,e,c):(++c,sn(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function sn(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function un(t,n=vt){let e,r=!1;if(1===n.length){let i;for(const o of t){const t=n(o);(r?vt(t,i)>0:0===vt(t,t))&&(e=o,i=t,r=!0)}}else for(const i of t)(r?n(i,e)>0:0===n(i,i))&&(e=i,r=!0);return e}function fn(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return an(t);if(n>=1)return rn(t);var r,i=(r-1)*n,o=Math.floor(i),a=rn(ln(t,o).subarray(0,o+1));return a+(an(t.subarray(o+1))-a)*(i-o)}}function hn(t,n,e=kt){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function dn(t,n,e){const r=Et(t),i=fn(t,.75)-fn(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function pn(t,n,e){const r=Et(t),i=$t(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function gn(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function yn(t,n){return fn(t,.5,n)}function mn(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function bn(t,n){const e=new Ut;if(void 0===n)for(let o of t)null!=o&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function vn(t,n){return[t,n]}function _n(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function xn(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function wn(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function kn(t){return t}var Mn=1e-6;function En(t){return"translate("+t+",0)"}function Cn(t){return n=>+t(n)}function Nn(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Tn(){return!this.__axis}function Rn(t,n){var e=[],r=null,i=null,o=6,a=6,c=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,s="y",u=En;function f(t){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,h=null==i?n.tickFormat?n.tickFormat.apply(n,e):kn:i,d=Math.max(o,0)+c,p=n.range(),g=+p[0]+l,y=+p[p.length-1]+l,m=(n.bandwidth?Nn:Cn)(n.copy(),l),b=t.selection?t.selection():t,v=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(f,n).order(),x=_.exit(),w=_.enter().append("g").attr("class","tick"),k=_.select("line"),M=_.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(w),k=k.merge(w.append("line").attr("stroke","currentColor").attr("y2",1*o)),M=M.merge(w.append("text").attr("fill","currentColor").attr(s,1*d).attr("dy","0.71em")),t!==b&&(v=v.transition(t),_=_.transition(t),k=k.transition(t),M=M.transition(t),x=x.transition(t).attr("opacity",Mn).attr("transform",function(t){return isFinite(t=m(t))?u(t+l):this.getAttribute("transform")}),w.attr("opacity",Mn).attr("transform",function(t){var n=this.parentNode.__axis;return u((n&&isFinite(n=n(t))?n:m(t))+l)})),x.remove(),v.attr("d",a?"M"+g+","+1*a+"V"+l+"H"+y+"V"+1*a:"M"+g+","+l+"H"+y),_.attr("opacity",1).attr("transform",function(t){return u(m(t)+l)}),k.attr("y2",1*o),M.attr(s,1*d).text(h),b.filter(Tn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),b.each(function(){this.__axis=m})}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(c=+t,f):c},f.offset=function(t){return arguments.length?(l=+t,f):l},f}var An={value:()=>{}};function $n(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Sn(r)}function Sn(t){this._=t}function Ln(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Un(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=An,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Sn.prototype=$n.prototype={constructor:Sn,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,c=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<c;)if(e=(t=o[a]).type)i[e]=Un(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Un(i[e],t.name,null);return this}for(;++a<c;)if((e=(t=o[a]).type)&&(e=Ln(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Sn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var On="http://www.w3.org/1999/xhtml";const Yn={svg:"http://www.w3.org/2000/svg",xhtml:On,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dn(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Yn.hasOwnProperty(n)?{space:Yn[n],local:t}:t}function In(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===On&&n.documentElement.namespaceURI===On?n.createElement(t):n.createElementNS(e,t)}}function Fn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Pn(t){var n=Dn(t);return(n.local?Fn:In)(n)}function zn(){}function Bn(t){return null==t?zn:function(){return this.querySelector(t)}}function jn(){return[]}function Wn(t){return null==t?jn:function(){return this.querySelectorAll(t)}}function Hn(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function qn(t){return function(){return this.matches(t)}}function Vn(t){return function(n){return n.matches(t)}}var Xn=Array.prototype.find;function Gn(){return this.firstElementChild}var Zn=Array.prototype.filter;function Kn(){return Array.from(this.children)}function Qn(t){return new Array(t.length)}function Jn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function te(t,n,e,r,i,o){for(var a,c=0,l=n.length,s=o.length;c<s;++c)(a=n[c])?(a.__data__=o[c],r[c]=a):e[c]=new Jn(t,o[c]);for(;c<l;++c)(a=n[c])&&(i[c]=a)}function ne(t,n,e,r,i,o,a){var c,l,s,u=new Map,f=n.length,h=o.length,d=new Array(f);for(c=0;c<f;++c)(l=n[c])&&(d[c]=s=a.call(l,l.__data__,c,n)+"",u.has(s)?i[c]=l:u.set(s,l));for(c=0;c<h;++c)s=a.call(t,o[c],c,o)+"",(l=u.get(s))?(r[c]=l,l.__data__=o[c],u.delete(s)):e[c]=new Jn(t,o[c]);for(c=0;c<f;++c)(l=n[c])&&u.get(d[c])===l&&(i[c]=l)}function ee(t){return t.__data__}function re(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ie(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function oe(t){return function(){this.removeAttribute(t)}}function ae(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ce(t,n){return function(){this.setAttribute(t,n)}}function le(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function se(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function ue(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function fe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function he(t){return function(){this.style.removeProperty(t)}}function de(t,n,e){return function(){this.style.setProperty(t,n,e)}}function pe(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ge(t,n){return t.style.getPropertyValue(n)||fe(t).getComputedStyle(t,null).getPropertyValue(n)}function ye(t){return function(){delete this[t]}}function me(t,n){return function(){this[t]=n}}function be(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ve(t){return t.trim().split(/^|\s+/)}function _e(t){return t.classList||new xe(t)}function xe(t){this._node=t,this._names=ve(t.getAttribute("class")||"")}function we(t,n){for(var e=_e(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ke(t,n){for(var e=_e(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Me(t){return function(){we(this,t)}}function Ee(t){return function(){ke(this,t)}}function Ce(t,n){return function(){(n.apply(this,arguments)?we:ke)(this,t)}}function Ne(){this.textContent=""}function Te(t){return function(){this.textContent=t}}function Re(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ae(){this.innerHTML=""}function $e(t){return function(){this.innerHTML=t}}function Se(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Le(){this.nextSibling&&this.parentNode.appendChild(this)}function Ue(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oe(){return null}function Ye(){var t=this.parentNode;t&&t.removeChild(this)}function De(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ie(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Fe(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Pe(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,c=i.length;a<c;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ze(t,n,e){var r=fe(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Be(t,n){return function(){return ze(this,t,n)}}function je(t,n){return function(){return ze(this,t,n.apply(this,arguments))}}Jn.prototype={constructor:Jn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},xe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var We=[null];function He(t,n){this._groups=t,this._parents=n}function qe(){return new He([[document.documentElement]],We)}function Ve(t){return"string"==typeof t?new He([[document.querySelector(t)]],[document.documentElement]):new He([[t]],We)}function Xe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ge(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ze(){}He.prototype=qe.prototype={constructor:He,select:function(t){"function"!=typeof t&&(t=Bn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,c=n[i],l=c.length,s=r[i]=new Array(l),u=0;u<l;++u)(o=c[u])&&(a=t.call(o,o.__data__,u,c))&&("__data__"in o&&(a.__data__=o.__data__),s[u]=a);return new He(r,this._parents)},selectAll:function(t){t="function"==typeof t?Hn(t):Wn(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,c=n[o],l=c.length,s=0;s<l;++s)(a=c[s])&&(r.push(t.call(a,a.__data__,s,c)),i.push(a));return new He(r,i)},selectChild:function(t){return this.select(null==t?Gn:function(t){return function(){return Xn.call(this.children,t)}}("function"==typeof t?t:Vn(t)))},selectChildren:function(t){return this.selectAll(null==t?Kn:function(t){return function(){return Zn.call(this.children,t)}}("function"==typeof t?t:Vn(t)))},filter:function(t){"function"!=typeof t&&(t=qn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,l=r[i]=[],s=0;s<c;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&l.push(o);return new He(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,ee);var e,r=n?ne:te,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,c=new Array(a),l=new Array(a),s=new Array(a),u=0;u<a;++u){var f=i[u],h=o[u],d=h.length,p=re(t.call(f,f&&f.__data__,u,i)),g=p.length,y=l[u]=new Array(g),m=c[u]=new Array(g);r(f,h,y,m,s[u]=new Array(d),p,n);for(var b,v,_=0,x=0;_<g;++_)if(b=y[_]){for(_>=x&&(x=_+1);!(v=m[x])&&++x<g;);b._next=v||null}}return(c=new He(c,i))._enter=l,c._exit=s,c},enter:function(){return new He(this._enter||this._groups.map(Qn),this._parents)},exit:function(){return new He(this._exit||this._groups.map(Qn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),c=new Array(i),l=0;l<a;++l)for(var s,u=e[l],f=r[l],h=u.length,d=c[l]=new Array(h),p=0;p<h;++p)(s=u[p]||f[p])&&(d[p]=s);for(;l<i;++l)c[l]=e[l];return new He(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ie);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,c=e[o],l=c.length,s=i[o]=new Array(l),u=0;u<l;++u)(a=c[u])&&(s[u]=a);s.sort(n)}return new He(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Dn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?ae:oe:"function"==typeof n?e.local?ue:se:e.local?le:ce)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?he:"function"==typeof n?pe:de)(t,n,null==e?"":e)):ge(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?ye:"function"==typeof n?be:me)(t,n)):this.node()[t]},classed:function(t,n){var e=ve(t+"");if(arguments.length<2){for(var r=_e(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Ce:n?Me:Ee)(e,n))},text:function(t){return arguments.length?this.each(null==t?Ne:("function"==typeof t?Re:Te)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ae:("function"==typeof t?Se:$e)(t)):this.node().innerHTML},raise:function(){return this.each(Le)},lower:function(){return this.each(Ue)},append:function(t){var n="function"==typeof t?t:Pn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:Pn(t),r=null==n?Oe:"function"==typeof n?n:Bn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ye)},clone:function(t){return this.select(t?Ie:De)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(c=n?Pe:Fe,r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var l,s=0,u=c.length;s<u;++s)for(r=0,l=c[s];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?je:Be)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Ke=.7,Qe=1/Ke,Je="\\s*([+-]?\\d+)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",er=/^#([0-9a-f]{3,8})$/,rr=new RegExp(`^rgb\\(${Je},${Je},${Je}\\)$`),ir=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),or=new RegExp(`^rgba\\(${Je},${Je},${Je},${tr}\\)$`),ar=new RegExp(`^rgba\\(${nr},${nr},${nr},${tr}\\)$`),cr=new RegExp(`^hsl\\(${tr},${nr},${nr}\\)$`),lr=new RegExp(`^hsla\\(${tr},${nr},${nr},${tr}\\)$`),sr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ur(){return this.rgb().formatHex()}function fr(){return this.rgb().formatRgb()}function hr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=er.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?dr(n):3===e?new mr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?pr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?pr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=rr.exec(t))?new mr(n[1],n[2],n[3],1):(n=ir.exec(t))?new mr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=or.exec(t))?pr(n[1],n[2],n[3],n[4]):(n=ar.exec(t))?pr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=cr.exec(t))?kr(n[1],n[2]/100,n[3]/100,1):(n=lr.exec(t))?kr(n[1],n[2]/100,n[3]/100,n[4]):sr.hasOwnProperty(t)?dr(sr[t]):"transparent"===t?new mr(NaN,NaN,NaN,0):null}function dr(t){return new mr(t>>16&255,t>>8&255,255&t,1)}function pr(t,n,e,r){return r<=0&&(t=n=e=NaN),new mr(t,n,e,r)}function gr(t){return t instanceof Ze||(t=hr(t)),t?new mr((t=t.rgb()).r,t.g,t.b,t.opacity):new mr}function yr(t,n,e,r){return 1===arguments.length?gr(t):new mr(t,n,e,null==r?1:r)}function mr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function br(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function vr(){const t=_r(this.opacity);return`${1===t?"rgb(":"rgba("}${xr(this.r)}, ${xr(this.g)}, ${xr(this.b)}${1===t?")":`, ${t})`}`}function _r(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wr(t){return((t=xr(t))<16?"0":"")+t.toString(16)}function kr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Cr(t,n,e,r)}function Mr(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof Ze||(t=hr(t)),!t)return new Cr;if(t instanceof Cr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,c=o-i,l=(o+i)/2;return c?(a=n===o?(e-r)/c+6*(e<r):e===o?(r-n)/c+2:(n-e)/c+4,c/=l<.5?o+i:2-o-i,a*=60):c=l>0&&l<1?0:a,new Cr(a,c,l,t.opacity)}function Er(t,n,e,r){return 1===arguments.length?Mr(t):new Cr(t,n,e,null==r?1:r)}function Cr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Nr(t){return(t=(t||0)%360)<0?t+360:t}function Tr(t){return Math.max(0,Math.min(1,t||0))}function Rr(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Xe(Ze,hr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ur,formatHex:ur,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Mr(this).formatHsl()},formatRgb:fr,toString:fr}),Xe(mr,yr,Ge(Ze,{brighter(t){return t=null==t?Qe:Math.pow(Qe,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mr(xr(this.r),xr(this.g),xr(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:br,formatHex:br,formatHex8:function(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:vr,toString:vr})),Xe(Cr,Er,Ge(Ze,{brighter(t){return t=null==t?Qe:Math.pow(Qe,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mr(Rr(t>=240?t-240:t+120,i,r),Rr(t,i,r),Rr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(Nr(this.h),Tr(this.s),Tr(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_r(this.opacity);return`${1===t?"hsl(":"hsla("}${Nr(this.h)}, ${100*Tr(this.s)}%, ${100*Tr(this.l)}%${1===t?")":`, ${t})`}`}}));const Ar=Math.PI/180,$r=180/Math.PI,Sr=.96422,Lr=.82521,Ur=4/29,Or=6/29,Yr=3*Or*Or,Dr=Or*Or*Or;function Ir(t){if(t instanceof Pr)return new Pr(t.l,t.a,t.b,t.opacity);if(t instanceof qr)return Vr(t);t instanceof mr||(t=gr(t));var n,e,r=Wr(t.r),i=Wr(t.g),o=Wr(t.b),a=zr((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=zr((.4360747*r+.3850649*i+.1430804*o)/Sr),e=zr((.0139322*r+.0971045*i+.7141733*o)/Lr)),new Pr(116*a-16,500*(n-a),200*(a-e),t.opacity)}function Fr(t,n,e,r){return 1===arguments.length?Ir(t):new Pr(t,n,e,null==r?1:r)}function Pr(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function zr(t){return t>Dr?Math.pow(t,1/3):t/Yr+Ur}function Br(t){return t>Or?t*t*t:Yr*(t-Ur)}function jr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Wr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Hr(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof qr)return new qr(t.h,t.c,t.l,t.opacity);if(t instanceof Pr||(t=Ir(t)),0===t.a&&0===t.b)return new qr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*$r;return new qr(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new qr(t,n,e,null==r?1:r)}function qr(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Vr(t){if(isNaN(t.h))return new Pr(t.l,0,0,t.opacity);var n=t.h*Ar;return new Pr(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Xe(Pr,Fr,Ge(Ze,{brighter(t){return new Pr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Pr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new mr(jr(3.1338561*(n=Sr*Br(n))-1.6168667*(t=1*Br(t))-.4906146*(e=Lr*Br(e))),jr(-.9787684*n+1.9161415*t+.033454*e),jr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Xe(qr,Hr,Ge(Ze,{brighter(t){return new qr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new qr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Vr(this).rgb()}}));var Xr=-.14861,Gr=1.78277,Zr=-.29227,Kr=-.90649,Qr=1.97294,Jr=Qr*Kr,ti=Qr*Gr,ni=Gr*Zr-Kr*Xr;function ei(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);t instanceof mr||(t=gr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(ni*r+Jr*n-ti*e)/(ni+Jr-ti),o=r-i,a=(Qr*(e-i)-Zr*o)/Kr,c=Math.sqrt(a*a+o*o)/(Qr*i*(1-i)),l=c?Math.atan2(a,o)*$r-120:NaN;return new ri(l<0?l+360:l,c,i,t.opacity)}(t):new ri(t,n,e,null==r?1:r)}function ri(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Xe(ri,ei,Ge(Ze,{brighter(t){return t=null==t?Qe:Math.pow(Qe,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Ar,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mr(255*(n+e*(Xr*r+Gr*i)),255*(n+e*(Zr*r+Kr*i)),255*(n+e*(Qr*r)),this.opacity)}}));const ii=t=>()=>t;function oi(t,n){return function(e){return t+e*n}}function ai(t,n){var e=n-t;return e?oi(t,e>180||e<-180?e-360*Math.round(e/360):e):ii(isNaN(t)?n:t)}function ci(t){return 1===(t=+t)?li:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ii(isNaN(n)?e:n)}}function li(t,n){var e=n-t;return e?oi(t,e):ii(isNaN(t)?n:t)}const si=function t(n){var e=ci(n);function r(t,n){var r=e((t=yr(t)).r,(n=yr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=li(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);var ui,fi=(ui=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return function(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}((e-r/n)*n,a,i,o,c)}},function(t){var n,e,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)e=yr(t[n]),i[n]=e.r||0,o[n]=e.g||0,a[n]=e.b||0;return i=ui(i),o=ui(o),a=ui(a),e.opacity=1,function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e+""}});function hi(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function di(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=_i(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function pi(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function gi(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function yi(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=_i(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bi=new RegExp(mi.source,"g");function vi(t,n){var e,r,i,o=mi.lastIndex=bi.lastIndex=0,a=-1,c=[],l=[];for(t+="",n+="";(e=mi.exec(t))&&(r=bi.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,l.push({i:a,x:gi(e,r)})),o=bi.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),c.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)c[(e=l[r]).i]=e.x(t);return c.join("")})}function _i(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?ii(n):("number"===i?gi:"string"===i?(e=hr(n))?(n=e,si):vi:n instanceof hr?si:n instanceof Date?pi:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?di:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?yi:gi:hi))(t,n)}function xi(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var wi,ki=180/Math.PI,Mi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ei(t,n,e,r,i,o){var a,c,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,l/=c),t*r<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ki,skewX:Math.atan(l)*ki,scaleX:a,scaleY:c}}function Ci(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var c=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,c){if(t!==i||r!==o){var l=a.push("translate(",null,n,null,e);c.push({i:l-4,x:gi(t,i)},{i:l-2,x:gi(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,c,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:gi(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,c,l),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:gi(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,c,l),function(t,n,e,r,o,a){if(t!==e||n!==r){var c=o.push(i(o)+"scale(",null,",",null,")");a.push({i:c-4,x:gi(t,e)},{i:c-2,x:gi(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,c,l),o=a=null,function(t){for(var n,e=-1,r=l.length;++e<r;)c[(n=l[e]).i]=n.x(t);return c.join("")}}}var Ni=Ci(function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Mi:Ei(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),Ti=Ci(function(t){return null==t?Mi:(wi||(wi=document.createElementNS("http://www.w3.org/2000/svg","g")),wi.setAttribute("transform",t),(t=wi.transform.baseVal.consolidate())?Ei((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Mi)},", ",")",")");const Ri=(Ai=ai,function(t,n){var e=Ai((t=Er(t)).h,(n=Er(n)).h),r=li(t.s,n.s),i=li(t.l,n.l),o=li(t.opacity,n.opacity);return function(n){return t.h=e(n),t.s=r(n),t.l=i(n),t.opacity=o(n),t+""}});var Ai;const $i=function(t){return function(n,e){var r=t((n=Hr(n)).h,(e=Hr(e)).h),i=li(n.c,e.c),o=li(n.l,e.l),a=li(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}(ai);function Si(t){return function n(e){function r(n,r){var i=t((n=ei(n)).h,(r=ei(r)).h),o=li(n.s,r.s),a=li(n.l,r.l),c=li(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}Si(ai);var Li=Si(li);function Ui(t,n){void 0===n&&(n=t,t=_i);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function Oi(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Yi,Di,Ii=0,Fi=0,Pi=0,zi=0,Bi=0,ji=0,Wi="object"==typeof performance&&performance.now?performance:Date,Hi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qi(){return Bi||(Hi(Vi),Bi=Wi.now()+ji)}function Vi(){Bi=0}function Xi(){this._call=this._time=this._next=null}function Gi(t,n,e){var r=new Xi;return r.restart(t,n,e),r}function Zi(){Bi=(zi=Wi.now())+ji,Ii=Fi=0;try{!function(){qi(),++Ii;for(var t,n=Yi;n;)(t=Bi-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ii}()}finally{Ii=0,function(){var t,n,e=Yi,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yi=n);Di=t,Qi(r)}(),Bi=0}}function Ki(){var t=Wi.now(),n=t-zi;n>1e3&&(ji-=n,zi=t)}function Qi(t){Ii||(Fi&&(Fi=clearTimeout(Fi)),t-Bi>24?(t<1/0&&(Fi=setTimeout(Zi,t-Wi.now()-ji)),Pi&&(Pi=clearInterval(Pi))):(Pi||(zi=Wi.now(),Pi=setInterval(Ki,1e3)),Ii=1,Hi(Zi)))}function Ji(t,n,e){var r=new Xi;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r}Xi.prototype=Gi.prototype={constructor:Xi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?qi():+e)+(null==n?0:+n),this._next||Di===this||(Di?Di._next=this:Yi=this,Di=this),this._call=t,this._time=e,Qi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qi())}};var to=$n("start","end","cancel","interrupt"),no=[];function eo(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var s,u,f,h;if(1!==e.state)return l();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return Ji(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ji(function(){3===e.state&&(e.state=4,e.timer.restart(c,e.delay,e.time),c(o))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),s=0,u=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++u]=h);r.length=u+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Gi(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:to,tween:no,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ro(t,n){var e=oo(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function io(t,n){var e=oo(t,n);if(e.state>3)throw new Error("too late; already running");return e}function oo(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ao(t,n){var e,r;return function(){var i=io(this,t),o=i.tween;if(o!==e)for(var a=0,c=(r=e=o).length;a<c;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function co(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=io(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:n,value:e},l=0,s=i.length;l<s;++l)if(i[l].name===n){i[l]=c;break}l===s&&i.push(c)}o.tween=i}}function lo(t,n,e){var r=t._id;return t.each(function(){var t=io(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return oo(t,r).value[n]}}function so(t,n){var e;return("number"==typeof n?gi:n instanceof hr?si:(e=hr(n))?(n=e,si):vi)(t,n)}function uo(t){return function(){this.removeAttribute(t)}}function fo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ho(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function po(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function go(t,n,e){var r,i,o;return function(){var a,c,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(c=l+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,l));this.removeAttribute(t)}}function yo(t,n,e){var r,i,o;return function(){var a,c,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(c=l+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,l));this.removeAttributeNS(t.space,t.local)}}function mo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function bo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function vo(t,n){return function(){ro(this,t).delay=+n.apply(this,arguments)}}function _o(t,n){return n=+n,function(){ro(this,t).delay=n}}function xo(t,n){return function(){io(this,t).duration=+n.apply(this,arguments)}}function wo(t,n){return n=+n,function(){io(this,t).duration=n}}var ko=qe.prototype.constructor;function Mo(t){return function(){this.style.removeProperty(t)}}var Eo=0;function Co(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function No(){return++Eo}var To=qe.prototype;Co.prototype={constructor:Co,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Bn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c,l,s=r[a],u=s.length,f=o[a]=new Array(u),h=0;h<u;++h)(c=s[h])&&(l=t.call(c,c.__data__,h,s))&&("__data__"in c&&(l.__data__=c.__data__),f[h]=l,eo(f[h],n,e,h,f,oo(c,e)));return new Co(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Wn(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var l,s=r[c],u=s.length,f=0;f<u;++f)if(l=s[f]){for(var h,d=t.call(l,l.__data__,f,s),p=oo(l,e),g=0,y=d.length;g<y;++g)(h=d[g])&&eo(h,n,e,g,d,p);o.push(d),a.push(l)}return new Co(o,a,n,e)},selectChild:To.selectChild,selectChildren:To.selectChildren,filter:function(t){"function"!=typeof t&&(t=qn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,l=r[i]=[],s=0;s<c;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&l.push(o);return new Co(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var l,s=n[c],u=e[c],f=s.length,h=a[c]=new Array(f),d=0;d<f;++d)(l=s[d]||u[d])&&(h[d]=l);for(;c<r;++c)a[c]=n[c];return new Co(a,this._parents,this._name,this._id)},selection:function(){return new ko(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=No(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],l=c.length,s=0;s<l;++s)if(a=c[s]){var u=oo(a,n);eo(a,t,e,s,c,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Co(r,this._parents,t,e)},call:To.call,nodes:To.nodes,node:To.node,size:To.size,empty:To.empty,each:To.each,on:function(t,n){var e=this._id;return arguments.length<2?oo(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?ro:io;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Dn(t),r="transform"===e?Ti:so;return this.attrTween(t,"function"==typeof n?(e.local?yo:go)(e,r,lo(this,"attr."+t,n)):null==n?(e.local?fo:uo)(e):(e.local?po:ho)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Dn(t);return this.tween(e,(r.local?mo:bo)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ni:so;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=ge(this,t),a=(this.style.removeProperty(t),ge(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Mo(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=ge(this,t),c=e(this),l=c+"";return null==c&&(this.style.removeProperty(t),l=c=ge(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,c))}}(t,r,lo(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,c="end."+a;return function(){var l=io(this,t),s=l.on,u=null==l.value[a]?o||(o=Mo(n)):void 0;s===e&&i===u||(r=(e=s).copy()).on(c,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=ge(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(lo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=oo(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ao:co)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?vo:_o)(n,t)):oo(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?xo:wo)(n,t)):oo(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){io(this,t).ease=n}}(n,t)):oo(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;io(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var c={value:a},l={value:function(){0===--i&&o()}};e.each(function(){var e=io(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(l)),e.on=n}),0===i&&o()})},[Symbol.iterator]:To[Symbol.iterator]};var Ro={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ao(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}qe.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},qe.prototype.transition=function(t){var n,e;t instanceof Co?(n=t._id,t=t._name):(n=No(),(e=Ro).time=qi(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],l=c.length,s=0;s<l;++s)(a=c[s])&&eo(a,t,n,s,c,e||Ao(a,n));return new Co(r,this._parents,t,n)};const $o=Math.PI,So=2*$o,Lo=1e-6,Uo=So-Lo;function Oo(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Yo{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Oo:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Oo;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,c=e-t,l=r-n,s=o-t,u=a-n,f=s*s+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Lo)if(Math.abs(u*c-l*s)>Lo&&i){let h=e-o,d=r-a,p=c*c+l*l,g=h*h+d*d,y=Math.sqrt(p),m=Math.sqrt(f),b=i*Math.tan(($o-Math.acos((p+f-g)/(2*y*m)))/2),v=b/m,_=b/y;Math.abs(v-1)>Lo&&this._append`L${t+v*s},${n+v*u}`,this._append`A${i},${i},0,0,${+(u*h>s*d)},${this._x1=t+_*c},${this._y1=n+_*l}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(r),c=e*Math.sin(r),l=t+a,s=n+c,u=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${l},${s}`:(Math.abs(this._x1-l)>Lo||Math.abs(this._y1-s)>Lo)&&this._append`L${l},${s}`,e&&(f<0&&(f=f%So+So),f>Uo?this._append`A${e},${e},0,1,${u},${t-a},${n-c}A${e},${e},0,1,${u},${this._x1=l},${this._y1=s}`:f>Lo&&this._append`A${e},${e},0,${+(f>=$o)},${u},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Do(t=3){return new Yo(+t)}function Io(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Fo(t){return(t=Io(Math.abs(t)))?t[1]:NaN}var Po,zo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bo(t){if(!(n=zo.exec(t)))throw new Error("invalid format: "+t);var n;return new jo({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function jo(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wo(t,n){var e=Io(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Bo.prototype=jo.prototype,jo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ho={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Wo(100*t,n),r:Wo,s:function(t,n){var e=Io(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Po=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Io(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qo(t){return t}var Vo,Xo,Go,Zo=Array.prototype.map,Ko=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qo(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?qo:(n=Zo.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,c=n[0],l=0;i>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),o.push(t.substring(i-=c,i+c)),!((l+=c+1)>r));)c=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?qo:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(Zo.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Bo(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,m=t.trim,b=t.type;"n"===b?(g=!0,b="g"):Ho[b]||(void 0===y&&(y=12),m=!0,b="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===h?o:/[%p]/.test(b)?l:"",x=Ho[b],w=/[defgprs%]/.test(b);function k(t){var i,o,l,h=v,k=_;if("c"===b)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0===+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:s:"-"===f||"("===f?"":f)+h,k=("s"===b?Ko[8+Po/3]:"")+k+(M&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var E=h.length+t.length+k.length,C=E<p?new Array(p-E+1).join(n):"";switch(g&&d&&(t=r(C+t,C.length?p-k.length:1/0),C=""),e){case"<":t=h+t+k+C;break;case"=":t=h+C+t+k;break;case"^":t=C.slice(0,E=C.length>>1)+h+t+k+C.slice(E);break;default:t=C+h+t+k}return c(t)}return y=void 0===y?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,n){var e=f(((t=Bo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Fo(n)/3))),i=Math.pow(10,-r),o=Ko[8+r/3];return function(t){return e(i*t)+o}}}}Vo=Qo({thousands:",",grouping:[3],currency:["$",""]}),Xo=Vo.format,Go=Vo.formatPrefix;var Jo=1e-6,ta=Math.PI,na=ta/2,ea=ta/4,ra=2*ta,ia=180/ta,oa=ta/180,aa=Math.abs,ca=Math.atan,la=Math.atan2,sa=Math.cos,ua=Math.exp,fa=Math.log,ha=Math.pow,da=Math.sin,pa=Math.sign||function(t){return t>0?1:t<0?-1:0},ga=Math.sqrt,ya=Math.tan;function ma(t){return t>1?0:t<-1?ta:Math.acos(t)}function ba(t){return t>1?na:t<-1?-na:Math.asin(t)}function va(){}function _a(t,n){t&&wa.hasOwnProperty(t.type)&&wa[t.type](t,n)}var xa={Feature:function(t,n){_a(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)_a(e[r].geometry,n)}},wa={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ka(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ka(e[r],n,0)},Polygon:function(t,n){Ma(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ma(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)_a(e[r],n)}};function ka(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ma(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ka(t[e],n,1);n.polygonEnd()}function Ea(t,n){t&&xa.hasOwnProperty(t.type)?xa[t.type](t,n):_a(t,n)}function Ca(t){return[la(t[1],t[0]),ba(t[2])]}function Na(t){var n=t[0],e=t[1],r=sa(e);return[r*sa(n),r*da(n),da(e)]}function Ta(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ra(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Aa(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function $a(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Sa(t){var n=ga(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function La(t){return function(){return t}}function Ua(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Oa(t,n){return aa(t)>ta&&(t-=Math.round(t/ra)*ra),[t,n]}function Ya(t,n,e){return(t%=ra)?n||e?Ua(Ia(t),Fa(n,e)):Ia(t):n||e?Fa(n,e):Oa}function Da(t){return function(n,e){return aa(n+=t)>ta&&(n-=Math.round(n/ra)*ra),[n,e]}}function Ia(t){var n=Da(t);return n.invert=Da(-t),n}function Fa(t,n){var e=sa(t),r=da(t),i=sa(n),o=da(n);function a(t,n){var a=sa(n),c=sa(t)*a,l=da(t)*a,s=da(n),u=s*e+c*r;return[la(l*i-u*o,c*e-s*r),ba(u*i+l*o)]}return a.invert=function(t,n){var a=sa(n),c=sa(t)*a,l=da(t)*a,s=da(n),u=s*i-l*o;return[la(l*i+s*o,c*e+u*r),ba(u*e-c*r)]},a}function Pa(t,n,e,r,i,o){if(e){var a=sa(n),c=da(n),l=r*e;null==i?(i=n+r*ra,o=n-l/2):(i=za(a,i),o=za(a,o),(r>0?i<o:i>o)&&(i+=r*ra));for(var s,u=i;r>0?u>o:u<o;u-=l)s=Ca([a,-c*sa(u),-c*da(u)]),t.point(s[0],s[1])}}function za(t,n){(n=Na(n))[0]-=t,Sa(n);var e=ma(-n[1]);return((-n[2]<0?-e:e)+ra-Jo)%ra}function Ba(){var t,n,e=La([0,0]),r=La(90),i=La(2),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=ia,e[1]*=ia}};function a(){var a=e.apply(this,arguments),c=r.apply(this,arguments)*oa,l=i.apply(this,arguments)*oa;return t=[],n=Ya(-a[0]*oa,-a[1]*oa,0).invert,Pa(o,c,l,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:La([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:La(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:La(+t),a):i},a}function ja(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:va,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Wa(t,n){return aa(t[0]-n[0])<Jo&&aa(t[1]-n[1])<Jo}function Ha(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function qa(t,n,e,r,i){var o,a,c=[],l=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Wa(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}c.push(e=new Ha(r,t,null,!0)),l.push(e.o=new Ha(r,null,e,!1)),c.push(e=new Ha(a,t,null,!1)),l.push(e.o=new Ha(a,null,e,!0))}}),c.length){for(l.sort(n),Va(c),Va(l),o=0,a=l.length;o<a;++o)l[o].e=e=!e;for(var s,u,f=c[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((u=s[o])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((u=s[o])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Va(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Xa(t){return aa(t[0])<=ta?t[0]:pa(t[0])*((aa(t[0])+ta)%ra-ta)}function Ga(t,n,e,r){return function(i){var o,a,c,l=n(i),s=ja(),u=n(s),f=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=m,h.lineStart=b,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=mn(a);var t=function(t,n){var e=Xa(n),r=n[1],i=da(r),o=[da(e),-sa(e),0],a=0,c=0,l=new Lt;1===i?r=na+Jo:-1===i&&(r=-na-Jo);for(var s=0,u=t.length;s<u;++s)if(h=(f=t[s]).length)for(var f,h,d=f[h-1],p=Xa(d),g=d[1]/2+ea,y=da(g),m=sa(g),b=0;b<h;++b,p=_,y=w,m=k,d=v){var v=f[b],_=Xa(v),x=v[1]/2+ea,w=da(x),k=sa(x),M=_-p,E=M>=0?1:-1,C=E*M,N=C>ta,T=y*w;if(l.add(la(T*E*da(C),m*k+T*sa(C))),a+=N?M+E*ra:M,N^p>=e^_>=e){var R=Ra(Na(d),Na(v));Sa(R);var A=Ra(o,R);Sa(A);var $=(N^M>=0?-1:1)*ba(A[2]);(r>$||r===$&&(R[0]||R[1]))&&(c+=N^M>=0?1:-1)}}return(a<-1e-6||a<Jo&&l<-1e-12)^1&c}(o,r);a.length?(f||(i.polygonStart(),f=!0),qa(a,Ka,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){l.point(t,n)}function g(){h.point=p,l.lineStart()}function y(){h.point=d,l.lineEnd()}function m(t,n){c.push([t,n]),u.point(t,n)}function b(){u.lineStart(),c=[]}function v(){m(c[0][0],c[0][1]),u.lineEnd();var t,n,e,r,l=u.clean(),h=s.result(),d=h.length;if(c.pop(),o.push(c),c=null,d)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Za))}return h}}function Za(t){return t.length>1}function Ka(t,n){return((t=t.x)[0]<0?t[1]-na-Jo:na-t[1])-((n=n.x)[0]<0?n[1]-na-Jo:na-n[1])}Oa.invert=Oa;const Qa=Ga(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var c=o>0?ta:-ta,l=aa(o-e);aa(l-ta)<Jo?(t.point(e,r=(r+a)/2>0?na:-na),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(o,r),n=0):i!==c&&l>=ta&&(aa(e-i)<Jo&&(e-=i*Jo),aa(o-c)<Jo&&(o-=c*Jo),r=function(t,n,e,r){var i,o,a=da(t-e);return aa(a)>Jo?ca((da(n)*(o=sa(r))*da(e)-da(r)*(i=sa(n))*da(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=o,r=a),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*na,r.point(-ta,i),r.point(0,i),r.point(ta,i),r.point(ta,0),r.point(ta,-i),r.point(0,-i),r.point(-ta,-i),r.point(-ta,0),r.point(-ta,i);else if(aa(t[0]-n[0])>Jo){var o=t[0]<n[0]?ta:-ta;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-ta,-na]);var Ja=1e9,tc=-Ja;function nc(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,c,s){var u=0,f=0;if(null==i||(u=a(i,c))!==(f=a(o,c))||l(i,o)<0^c>0)do{s.point(0===u||3===u?t:e,u>1?r:n)}while((u=(u+c+4)%4)!==f);else s.point(o[0],o[1])}function a(r,i){return aa(r[0]-t)<Jo?i>0?0:3:aa(r[0]-e)<Jo?i>0?2:1:aa(r[1]-n)<Jo?i>0?1:0:i>0?3:2}function c(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var l,s,u,f,h,d,p,g,y,m,b,v=a,_=ja(),x={point:w,lineStart:function(){x.point=k,s&&s.push(u=[]);m=!0,y=!1,p=g=NaN},lineEnd:function(){l&&(k(f,h),d&&y&&_.rejoin(),l.push(_.result()));x.point=w,y&&v.lineEnd()},polygonStart:function(){v=_,l=[],s=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=s.length;e<i;++e)for(var o,a,c=s[e],l=1,u=c.length,f=c[0],h=f[0],d=f[1];l<u;++l)o=h,a=d,h=(f=c[l])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=b&&n,i=(l=mn(l)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&qa(l,c,n,o,a),a.polygonEnd());v=a,l=s=u=null}};function w(t,n){i(t,n)&&v.point(t,n)}function k(o,a){var c=i(o,a);if(s&&u.push([o,a]),m)f=o,h=a,d=c,m=!1,c&&(v.lineStart(),v.point(o,a));else if(c&&y)v.point(o,a);else{var l=[p=Math.max(tc,Math.min(Ja,p)),g=Math.max(tc,Math.min(Ja,g))],_=[o=Math.max(tc,Math.min(Ja,o)),a=Math.max(tc,Math.min(Ja,a))];!function(t,n,e,r,i,o){var a,c=t[0],l=t[1],s=0,u=1,f=n[0]-c,h=n[1]-l;if(a=e-c,f||!(a>0)){if(a/=f,f<0){if(a<s)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>s&&(s=a)}if(a=i-c,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>s&&(s=a)}else if(f>0){if(a<s)return;a<u&&(u=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>s&&(s=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<u&&(u=a)}return s>0&&(t[0]=c+s*f,t[1]=l+s*h),u<1&&(n[0]=c+u*f,n[1]=l+u*h),!0}}}}}(l,_,t,n,e,r)?c&&(v.lineStart(),v.point(o,a),b=!1):(y||(v.lineStart(),v.point(l[0],l[1])),v.point(_[0],_[1]),c||v.lineEnd(),b=!1)}p=o,g=a,y=c}return x}}const ec=t=>t;var rc,ic,oc,ac,cc=new Lt,lc=new Lt,sc={point:va,lineStart:va,lineEnd:va,polygonStart:function(){sc.lineStart=uc,sc.lineEnd=dc},polygonEnd:function(){sc.lineStart=sc.lineEnd=sc.point=va,cc.add(aa(lc)),lc=new Lt},result:function(){var t=cc/2;return cc=new Lt,t}};function uc(){sc.point=fc}function fc(t,n){sc.point=hc,rc=oc=t,ic=ac=n}function hc(t,n){lc.add(ac*t-oc*n),oc=t,ac=n}function dc(){hc(rc,ic)}var pc=1/0,gc=pc,yc=-pc,mc=yc,bc={point:function(t,n){t<pc&&(pc=t);t>yc&&(yc=t);n<gc&&(gc=n);n>mc&&(mc=n)},lineStart:va,lineEnd:va,polygonStart:va,polygonEnd:va,result:function(){var t=[[pc,gc],[yc,mc]];return yc=mc=-(gc=pc=1/0),t}};var vc,_c,xc,wc,kc=0,Mc=0,Ec=0,Cc=0,Nc=0,Tc=0,Rc=0,Ac=0,$c=0,Sc={point:Lc,lineStart:Uc,lineEnd:Dc,polygonStart:function(){Sc.lineStart=Ic,Sc.lineEnd=Fc},polygonEnd:function(){Sc.point=Lc,Sc.lineStart=Uc,Sc.lineEnd=Dc},result:function(){var t=$c?[Rc/$c,Ac/$c]:Tc?[Cc/Tc,Nc/Tc]:Ec?[kc/Ec,Mc/Ec]:[NaN,NaN];return kc=Mc=Ec=Cc=Nc=Tc=Rc=Ac=$c=0,t}};function Lc(t,n){kc+=t,Mc+=n,++Ec}function Uc(){Sc.point=Oc}function Oc(t,n){Sc.point=Yc,Lc(xc=t,wc=n)}function Yc(t,n){var e=t-xc,r=n-wc,i=ga(e*e+r*r);Cc+=i*(xc+t)/2,Nc+=i*(wc+n)/2,Tc+=i,Lc(xc=t,wc=n)}function Dc(){Sc.point=Lc}function Ic(){Sc.point=Pc}function Fc(){zc(vc,_c)}function Pc(t,n){Sc.point=zc,Lc(vc=xc=t,_c=wc=n)}function zc(t,n){var e=t-xc,r=n-wc,i=ga(e*e+r*r);Cc+=i*(xc+t)/2,Nc+=i*(wc+n)/2,Tc+=i,Rc+=(i=wc*t-xc*n)*(xc+t),Ac+=i*(wc+n),$c+=3*i,Lc(xc=t,wc=n)}function Bc(t){this._context=t}Bc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ra)}},result:va};var jc,Wc,Hc,qc,Vc,Xc=new Lt,Gc={point:va,lineStart:function(){Gc.point=Zc},lineEnd:function(){jc&&Kc(Wc,Hc),Gc.point=va},polygonStart:function(){jc=!0},polygonEnd:function(){jc=null},result:function(){var t=+Xc;return Xc=new Lt,t}};function Zc(t,n){Gc.point=Kc,Wc=qc=t,Hc=Vc=n}function Kc(t,n){qc-=t,Vc-=n,Xc.add(ga(qc*qc+Vc*Vc)),qc=t,Vc=n}let Qc,Jc,tl,nl;class el{constructor(t){this._append=null==t?rl:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return rl;if(n!==Qc){const t=10**n;Qc=n,Jc=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Jc}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==tl||this._append!==Jc){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,tl=t,Jc=this._append,nl=this._,this._=n}this._+=nl}}result(){const t=this._;return this._="",t.length?t:null}}function rl(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function il(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Ea(t,e(r))),r.result()}return a.area=function(t){return Ea(t,e(sc)),sc.result()},a.measure=function(t){return Ea(t,e(Gc)),Gc.result()},a.bounds=function(t){return Ea(t,e(bc)),bc.result()},a.centroid=function(t){return Ea(t,e(Sc)),Sc.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,ec):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new el(i)):new Bc(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new el(i)),a},a.projection(t).digits(i).context(n)}function ol(t){return{stream:al(t)}}function al(t){return function(n){var e=new cl;for(var r in t)e[r]=t[r];return e.stream=n,e}}function cl(){}function ll(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Ea(e,t.stream(bc)),n(bc.result()),null!=r&&t.clipExtent(r),t}function sl(t,n,e){return ll(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,c])},e)}function ul(t,n,e){return sl(t,[[0,0],n],e)}function fl(t,n,e){return ll(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function hl(t,n,e){return ll(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}cl.prototype={constructor:cl,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dl=sa(30*oa);function pl(t,n){return+n?function(t,n){function e(r,i,o,a,c,l,s,u,f,h,d,p,g,y){var m=s-r,b=u-i,v=m*m+b*b;if(v>4*n&&g--){var _=a+h,x=c+d,w=l+p,k=ga(_*_+x*x+w*w),M=ba(w/=k),E=aa(aa(w)-1)<Jo||aa(o-f)<Jo?(o+f)/2:la(x,_),C=t(E,M),N=C[0],T=C[1],R=N-r,A=T-i,$=b*R-m*A;($*$/v>n||aa((m*R+b*A)/v-.5)>.3||a*h+c*d+l*p<dl)&&(e(r,i,o,a,c,l,N,T,E,_/=k,x/=k,w,g,y),y.point(N,T),e(N,T,E,_,x,w,s,u,f,h,d,p,g,y))}}return function(n){var r,i,o,a,c,l,s,u,f,h,d,p,g={point:y,lineStart:m,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){u=NaN,g.point=b,n.lineStart()}function b(r,i){var o=Na([r,i]),a=t(r,i);e(u,f,s,h,d,p,u=a[0],f=a[1],s=r,h=o[0],d=o[1],p=o[2],16,n),n.point(u,f)}function v(){g.point=y,n.lineEnd()}function _(){m(),g.point=x,g.lineEnd=w}function x(t,n){b(r=t,n),i=u,o=f,a=h,c=d,l=p,g.point=b}function w(){e(u,f,s,h,d,p,i,o,r,a,c,l,16,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return al({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var gl=al({point:function(t,n){this.stream.point(t*oa,n*oa)}});function yl(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=sa(o),c=da(o),l=a*t,s=c*t,u=a/t,f=c/t,h=(c*e-a*n)/t,d=(c*n+a*e)/t;function p(t,o){return[l*(t*=r)-s*(o*=i)+n,e-s*t-l*o]}return p.invert=function(t,n){return[r*(u*t-f*n+h),i*(d-f*t-u*n)]},p}function ml(t){return bl(function(){return t})()}function bl(t){var n,e,r,i,o,a,c,l,s,u,f=150,h=480,d=250,p=0,g=0,y=0,m=0,b=0,v=0,_=1,x=1,w=null,k=Qa,M=null,E=ec,C=.5;function N(t){return l(t[0]*oa,t[1]*oa)}function T(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ia,t[1]*ia]}function R(){var t=yl(f,0,0,_,x,v).apply(null,n(p,g)),r=yl(f,h-t[0],d-t[1],_,x,v);return e=Ya(y,m,b),c=Ua(n,r),l=Ua(e,c),a=pl(c,C),A()}function A(){return s=u=null,N}return N.stream=function(t){return s&&u===t?s:s=gl(function(t){return al({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(a(E(u=t)))))},N.preclip=function(t){return arguments.length?(k=t,w=void 0,A()):k},N.postclip=function(t){return arguments.length?(E=t,M=r=i=o=null,A()):E},N.clipAngle=function(t){return arguments.length?(k=+t?function(t){var n=sa(t),e=2*oa,r=n>0,i=aa(n)>Jo;function o(t,e){return sa(t)*sa(e)>n}function a(t,e,r){var i=[1,0,0],o=Ra(Na(t),Na(e)),a=Ta(o,o),c=o[0],l=a-c*c;if(!l)return!r&&t;var s=n*a/l,u=-n*c/l,f=Ra(i,o),h=$a(i,s);Aa(h,$a(o,u));var d=f,p=Ta(h,d),g=Ta(d,d),y=p*p-g*(Ta(h,h)-1);if(!(y<0)){var m=ga(y),b=$a(d,(-p-m)/g);if(Aa(b,h),b=Ca(b),!r)return b;var v,_=t[0],x=e[0],w=t[1],k=e[1];x<_&&(v=_,_=x,x=v);var M=x-_,E=aa(M-ta)<Jo;if(!E&&k<w&&(v=w,w=k,k=v),E||M<Jo?E?w+k>0^b[1]<(aa(b[0]-_)<Jo?w:k):w<=b[1]&&b[1]<=k:M>ta^(_<=b[0]&&b[0]<=x)){var C=$a(d,(-p+m)/g);return Aa(C,h),[b,Ca(C)]}}}function c(n,e){var i=r?t:ta-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Ga(o,function(t){var n,e,l,s,u;return{lineStart:function(){s=l=!1,u=1},point:function(f,h){var d,p=[f,h],g=o(f,h),y=r?g?0:c(f,h):g?c(f+(f<0?ta:-ta),h):0;if(!n&&(s=l=g)&&t.lineStart(),g!==l&&(!(d=a(n,p))||Wa(n,d)||Wa(p,d))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var m;y&e||!(m=a(p,n,!0))||(u=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&Wa(n,p)||t.point(p[0],p[1]),n=p,l=g,e=y},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return u|(s&&l)<<1}}},function(n,r,i,o){Pa(o,t,e,i,n,r)},r?[0,-t]:[-ta,t-ta])}(w=t*oa):(w=null,Qa),A()):w*ia},N.clipExtent=function(t){return arguments.length?(E=null==t?(M=r=i=o=null,ec):nc(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==M?null:[[M,r],[i,o]]},N.scale=function(t){return arguments.length?(f=+t,R()):f},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],R()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*oa,g=t[1]%360*oa,R()):[p*ia,g*ia]},N.rotate=function(t){return arguments.length?(y=t[0]%360*oa,m=t[1]%360*oa,b=t.length>2?t[2]%360*oa:0,R()):[y*ia,m*ia,b*ia]},N.angle=function(t){return arguments.length?(v=t%360*oa,R()):v*ia},N.reflectX=function(t){return arguments.length?(_=t?-1:1,R()):_<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,R()):x<0},N.precision=function(t){return arguments.length?(a=pl(c,C=t*t),A()):ga(C)},N.fitExtent=function(t,n){return sl(N,t,n)},N.fitSize=function(t,n){return ul(N,t,n)},N.fitWidth=function(t,n){return fl(N,t,n)},N.fitHeight=function(t,n){return hl(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&T,R()}}function vl(t){var n=0,e=ta/3,r=bl(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*oa,e=t[1]*oa):[n*ia,e*ia]},i}function _l(t,n){var e=da(t),r=(e+da(n))/2;if(aa(r)<Jo)return function(t){var n=sa(t);function e(t,e){return[t*n,da(e)/n]}return e.invert=function(t,e){return[t/n,ba(e*n)]},e}(t);var i=1+e*(2*r-e),o=ga(i)/r;function a(t,n){var e=ga(i-2*r*da(n))/r;return[e*da(t*=r),o-e*sa(t)]}return a.invert=function(t,n){var e=o-n,a=la(t,aa(e))*pa(e);return e*r<0&&(a-=ta*pa(t)*pa(e)),[a/r,ba((i-(t*t+e*e)*r*r)/(2*r))]},a}function xl(){return vl(_l).scale(155.424).center([0,33.6442])}function wl(){return xl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function kl(){var t,n,e,r,i,o,a=wl(),c=xl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=xl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){o=[t,n]}};function u(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function f(){return t=n=null,u}return u.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},u.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),c.stream(e),l.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),l.precision(t),f()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],u=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,u-.238*n],[o+.455*n,u+.238*n]]).stream(s),r=c.translate([o-.307*n,u+.201*n]).clipExtent([[o-.425*n+Jo,u+.12*n+Jo],[o-.214*n-Jo,u+.234*n-Jo]]).stream(s),i=l.translate([o-.205*n,u+.212*n]).clipExtent([[o-.214*n+Jo,u+.166*n+Jo],[o-.115*n-Jo,u+.234*n-Jo]]).stream(s),f()},u.fitExtent=function(t,n){return sl(u,t,n)},u.fitSize=function(t,n){return ul(u,t,n)},u.fitWidth=function(t,n){return fl(u,t,n)},u.fitHeight=function(t,n){return hl(u,t,n)},u.scale(1070)}function Ml(t){return function(n,e){var r=sa(n),i=sa(e),o=t(r*i);return o===1/0?[2,0]:[o*i*da(n),o*da(e)]}}function El(t){return function(n,e){var r=ga(n*n+e*e),i=t(r),o=da(i),a=sa(i);return[la(n*o,r*a),ba(r&&e*o/r)]}}var Cl=Ml(function(t){return ga(2/(1+t))});function Nl(){return ml(Cl).scale(124.75).clipAngle(179.999)}Cl.invert=El(function(t){return 2*ba(t/2)});var Tl=Ml(function(t){return(t=ma(t))&&t/da(t)});function Rl(){return ml(Tl).scale(79.4188).clipAngle(179.999)}function Al(t,n){return[t,fa(ya((na+n)/2))]}function $l(){return Sl(Al).scale(961/ra)}function Sl(t){var n,e,r,i=ml(t),o=i.center,a=i.scale,c=i.translate,l=i.clipExtent,s=null;function u(){var o=ta*a(),c=i(function(t){function n(n){return(n=t(n[0]*oa,n[1]*oa))[0]*=ia,n[1]*=ia,n}return t=Ya(t[0]*oa,t[1]*oa,t.length>2?t[2]*oa:0),n.invert=function(n){return(n=t.invert(n[0]*oa,n[1]*oa))[0]*=ia,n[1]*=ia,n},n}(i.rotate()).invert([0,0]));return l(null==s?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===Al?[[Math.max(c[0]-o,s),n],[Math.min(c[0]+o,e),r]]:[[s,Math.max(c[1]-o,n)],[e,Math.min(c[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(c(t),u()):c()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?s=n=e=r=null:(s=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),u()):null==s?null:[[s,n],[e,r]]},u()}function Ll(t){return ya((na+t)/2)}function Ul(t,n){var e=sa(t),r=t===n?da(t):fa(e/sa(n))/fa(Ll(n)/Ll(t)),i=e*ha(Ll(t),r)/r;if(!r)return Al;function o(t,n){i>0?n<-na+Jo&&(n=-na+Jo):n>na-Jo&&(n=na-Jo);var e=i/ha(Ll(n),r);return[e*da(r*t),i-e*sa(r*t)]}return o.invert=function(t,n){var e=i-n,o=pa(r)*ga(t*t+e*e),a=la(t,aa(e))*pa(e);return e*r<0&&(a-=ta*pa(t)*pa(e)),[a/r,2*ca(ha(i/o,1/r))-na]},o}function Ol(){return vl(Ul).scale(109.5).parallels([30,30])}function Yl(t,n){return[t,n]}function Dl(){return ml(Yl).scale(152.63)}function Il(t,n){var e=sa(t),r=t===n?da(t):(e-sa(n))/(n-t),i=e/r+t;if(aa(r)<Jo)return Yl;function o(t,n){var e=i-n,o=r*t;return[e*da(o),i-e*sa(o)]}return o.invert=function(t,n){var e=i-n,o=la(t,aa(e))*pa(e);return e*r<0&&(o-=ta*pa(t)*pa(e)),[o/r,i-pa(r)*ga(t*t+e*e)]},o}function Fl(){return vl(Il).scale(131.154).center([0,13.9389])}Tl.invert=El(function(t){return t}),Al.invert=function(t,n){return[t,2*ca(ua(n))-na]},Yl.invert=Yl;var Pl=1.340264,zl=-.081106,Bl=893e-6,jl=.003796,Wl=ga(3)/2;function Hl(t,n){var e=ba(Wl*da(n)),r=e*e,i=r*r*r;return[t*sa(e)/(Wl*(Pl+3*zl*r+i*(7*Bl+9*jl*r))),e*(Pl+zl*r+i*(Bl+jl*r))]}function ql(){return ml(Hl).scale(177.158)}function Vl(t,n){var e=sa(n),r=sa(t)*e;return[e*da(t)/r,da(n)/r]}function Xl(){return ml(Vl).scale(144.049).clipAngle(60)}function Gl(t,n){return[sa(n)*da(t),da(n)]}function Zl(){return ml(Gl).scale(249.5).clipAngle(90.000001)}function Kl(t,n){var e=sa(n),r=1+sa(t)*e;return[e*da(t)/r,da(n)/r]}function Ql(){return ml(Kl).scale(250).clipAngle(142)}function Jl(t,n){return[fa(ya((na+n)/2)),-t]}function ts(){var t=Sl(Jl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function ns(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function es(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}Hl.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Pl+zl*i+o*(Bl+jl*i))-n)/(Pl+3*zl*i+o*(7*Bl+9*jl*i)))*r)*i*i,!(aa(e)<1e-12));++a);return[Wl*t*(Pl+3*zl*i+o*(7*Bl+9*jl*i))/sa(r),ba(da(r)/Wl)]},Vl.invert=El(ca),Gl.invert=El(ba),Kl.invert=El(function(t){return 2*ca(t)}),Jl.invert=function(t,n){return[-n,2*ca(ua(t))-na]};const rs=Symbol("implicit");function is(){var t=new Ut,n=[],e=[],r=rs;function i(i){let o=t.get(i);if(void 0===o){if(r!==rs)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Ut;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return is(n,e).unknown(r)},ns.apply(i,arguments),i}function os(){var t,n,e=is().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,c=!1,l=0,s=0,u=.5;function f(){var e=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,e-l+2*s),c&&(t=Math.floor(t)),h+=(d-h-t*(e-l))*u,n=t*(1-l),c&&(h=Math.round(h),n=Math.round(n));var p=_n(e).map(function(n){return h+t*n});return i(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,c=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,f()):c},e.padding=function(t){return arguments.length?(l=Math.min(1,s=+t),f()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},e.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},e.copy=function(){return os(r(),[o,a]).round(c).paddingInner(l).paddingOuter(s).align(u)},ns.apply(f(),arguments)}function as(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return as(n())},t}function cs(){return as(os.apply(null,arguments).paddingInner(1))}function ls(t){return+t}var ss=[0,1];function us(t){return t}function fs(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function hs(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=fs(i,r),o=e(a,o)):(r=fs(r,i),o=e(o,a)),function(t){return o(r(t))}}function ds(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=fs(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Mt(t,n,1,r)-1;return o[e](i[e](n))}}function ps(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gs(){var t,n,e,r,i,o,a=ss,c=ss,l=_i,s=us;function u(){var t,n,e,l=Math.min(a.length,c.length);return s!==us&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),s=function(e){return Math.max(t,Math.min(n,e))}),r=l>2?ds:hs,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),c,l)))(t(s(n)))}return f.invert=function(e){return s(n((o||(o=r(c,a.map(t),gi)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ls),u()):a.slice()},f.range=function(t){return arguments.length?(c=Array.from(t),u()):c.slice()},f.rangeRound=function(t){return c=Array.from(t),l=xi,u()},f.clamp=function(t){return arguments.length?(s=!!t||us,u()):s!==us},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,u()}}function ys(){return gs()(us,us)}function ms(t,n,e,r){var i,o=nn(t,n,e);switch((r=Bo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fo(n)/3)))-Fo(Math.abs(t)))}(o,a))||(r.precision=i),Go(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Fo(n)-Fo(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Fo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Xo(r)}function bs(t){var n=t.domain;return t.ticks=function(t){var e=n();return Jt(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return ms(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,c=o.length-1,l=o[a],s=o[c],u=10;for(s<l&&(i=l,l=s,s=i,i=a,a=c,c=i);u-- >0;){if((i=tn(l,s,e))===r)return o[a]=l,o[c]=s,n(o);if(i>0)l=Math.floor(l/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function vs(){var t=ys();return t.copy=function(){return ps(t,vs())},ns.apply(t,arguments),bs(t)}function _s(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,ls),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return _s(t).unknown(n)},t=arguments.length?Array.from(t,ls):[0,1],bs(e)}function xs(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function ws(t){return Math.log(t)}function ks(t){return Math.exp(t)}function Ms(t){return-Math.log(-t)}function Es(t){return-Math.exp(-t)}function Cs(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ns(t){return(n,e)=>-t(-n,e)}function Ts(t){const n=t(ws,ks),e=n.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(o),i=function(t){return 10===t?Cs:t===Math.E?Math.exp:n=>Math.pow(t,n)}(o),e()[0]<0?(r=Ns(r),i=Ns(i),t(Ms,Es)):t(ws,ks),n}return n.base=function(t){return arguments.length?(o=+t,a()):o},n.domain=function(t){return arguments.length?(e(t),a()):e()},n.ticks=t=>{const n=e();let a=n[0],c=n[n.length-1];const l=c<a;l&&([a,c]=[c,a]);let s,u,f=r(a),h=r(c);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(s=1;s<o;++s)if(u=f<0?s/i(-f):s*i(f),!(u<a)){if(u>c)break;p.push(u)}}else for(;f<=h;++f)for(s=o-1;s>=1;--s)if(u=f>0?s/i(-f):s*i(f),!(u<a)){if(u>c)break;p.push(u)}2*p.length<d&&(p=Jt(a,c,d))}else p=Jt(f,h,Math.min(h-f,d)).map(i);return l?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===o?"s":","),"function"!=typeof e&&(o%1||null!=(e=Bo(e)).precision||(e.trim=!0),e=Xo(e)),t===1/0)return e;const a=Math.max(1,o*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*o<o-.5&&(n*=o),n<=a?e(t):""}},n.nice=()=>e(xs(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function Rs(){const t=Ts(gs()).domain([1,10]);return t.copy=()=>ps(t,Rs()).base(t.base()),ns.apply(t,arguments),t}function As(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function $s(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Ss(t){var n=1,e=t(As(n),$s(n));return e.constant=function(e){return arguments.length?t(As(n=+e),$s(n)):n},bs(e)}function Ls(){var t=Ss(gs());return t.copy=function(){return ps(t,Ls()).constant(t.constant())},ns.apply(t,arguments)}function Us(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Os(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ys(t){return t<0?-t*t:t*t}function Ds(t){var n=t(us,us),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(us,us):.5===e?t(Os,Ys):t(Us(e),Us(1/e)):e},bs(n)}function Is(){var t=Ds(gs());return t.copy=function(){return ps(t,Is()).exponent(t.exponent())},ns.apply(t,arguments),t}function Fs(){var t,n=[],e=[],r=[];function i(){var t=0,i=Math.max(1,e.length);for(r=new Array(i-1);++t<i;)r[t-1]=hn(n,t/i);return o}function o(n){return null==n||isNaN(n=+n)?t:e[Mt(r,n)]}return o.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(vt),i()},o.range=function(t){return arguments.length?(e=Array.from(t),i()):e.slice()},o.unknown=function(n){return arguments.length?(t=n,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Fs().domain(n).range(e).unknown(t)},ns.apply(o,arguments)}function Ps(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[Mt(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Ps().domain(n).range(e).unknown(t)},ns.apply(i,arguments)}const zs=new Date,Bs=new Date;function js(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;let c;do{a.push(c=new Date(+e)),n(e,o),t(e)}while(c<e&&e<r);return a},i.filter=e=>js(n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},(t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}),e&&(i.count=(n,r)=>(zs.setTime(+n),Bs.setTime(+r),t(zs),t(Bs),Math.floor(e(zs,Bs))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t===0:n=>i.count(0,n)%t===0):i:null)),i}const Ws=js(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Ws.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?js(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Ws:null),Ws.range;const Hs=1e3,qs=6e4,Vs=36e5,Xs=864e5,Gs=6048e5,Zs=2592e6,Ks=31536e6,Qs=js(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Hs)},(t,n)=>(n-t)/Hs,t=>t.getUTCSeconds());Qs.range;const Js=js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hs)},(t,n)=>{t.setTime(+t+n*qs)},(t,n)=>(n-t)/qs,t=>t.getMinutes());Js.range;const tu=js(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*qs)},(t,n)=>(n-t)/qs,t=>t.getUTCMinutes());tu.range;const nu=js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hs-t.getMinutes()*qs)},(t,n)=>{t.setTime(+t+n*Vs)},(t,n)=>(n-t)/Vs,t=>t.getHours());nu.range;const eu=js(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Vs)},(t,n)=>(n-t)/Vs,t=>t.getUTCHours());eu.range;const ru=js(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qs)/Xs,t=>t.getDate()-1);ru.range;const iu=js(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Xs,t=>t.getUTCDate()-1);iu.range;const ou=js(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Xs,t=>Math.floor(t/Xs));function au(t){return js(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qs)/Gs)}ou.range;const cu=au(0),lu=au(1),su=au(2),uu=au(3),fu=au(4),hu=au(5),du=au(6);function pu(t){return js(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/Gs)}cu.range,lu.range,su.range,uu.range,fu.range,hu.range,du.range;const gu=pu(0),yu=pu(1),mu=pu(2),bu=pu(3),vu=pu(4),_u=pu(5),xu=pu(6);gu.range,yu.range,mu.range,bu.range,vu.range,_u.range,xu.range;const wu=js(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth());wu.range;const ku=js(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());ku.range;const Mu=js(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mu.every=t=>isFinite(t=Math.floor(t))&&t>0?js(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null,Mu.range;const Eu=js(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function Cu(t,n,e,r,i,o){const a=[[Qs,1,Hs],[Qs,5,5e3],[Qs,15,15e3],[Qs,30,3e4],[o,1,qs],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Vs],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Xs],[r,2,1728e5],[e,1,Gs],[n,1,Zs],[n,3,7776e6],[t,1,Ks]];function c(n,e,r){const i=Math.abs(e-n)/r,o=xt(([,,t])=>t).right(a,i);if(o===a.length)return t.every(nn(n/Ks,e/Ks,r));if(0===o)return Ws.every(Math.max(nn(n,e,r),1));const[c,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return c.every(l)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:c(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},c]}Eu.every=t=>isFinite(t=Math.floor(t))&&t>0?js(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null,Eu.range;const[Nu,Tu]=Cu(Eu,ku,gu,ou,eu,tu),[Ru,Au]=Cu(Mu,wu,cu,ru,nu,Js);function $u(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Su(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lu(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Uu,Ou,Yu,Du,Iu={"-":"",_:" ",0:"0"},Fu=/^\s*\d+/,Pu=/^%/,zu=/[\\^$*+?|[\]().{}]/g;function Bu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function ju(t){return t.replace(zu,"\\$&")}function Wu(t){return new RegExp("^(?:"+t.map(ju).join("|")+")","i")}function Hu(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function qu(t,n,e){var r=Fu.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Vu(t,n,e){var r=Fu.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Xu(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Gu(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Zu(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Fu.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Qu(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ju(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function tf(t,n,e){var r=Fu.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function nf(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ef(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function rf(t,n,e){var r=Fu.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function of(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function af(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function cf(t,n,e){var r=Fu.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function lf(t,n,e){var r=Fu.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sf(t,n,e){var r=Fu.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function uf(t,n,e){var r=Pu.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ff(t,n,e){var r=Fu.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function hf(t,n,e){var r=Fu.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function df(t,n){return Bu(t.getDate(),n,2)}function pf(t,n){return Bu(t.getHours(),n,2)}function gf(t,n){return Bu(t.getHours()%12||12,n,2)}function yf(t,n){return Bu(1+ru.count(Mu(t),t),n,3)}function mf(t,n){return Bu(t.getMilliseconds(),n,3)}function bf(t,n){return mf(t,n)+"000"}function vf(t,n){return Bu(t.getMonth()+1,n,2)}function _f(t,n){return Bu(t.getMinutes(),n,2)}function xf(t,n){return Bu(t.getSeconds(),n,2)}function wf(t){var n=t.getDay();return 0===n?7:n}function kf(t,n){return Bu(cu.count(Mu(t)-1,t),n,2)}function Mf(t){var n=t.getDay();return n>=4||0===n?fu(t):fu.ceil(t)}function Ef(t,n){return t=Mf(t),Bu(fu.count(Mu(t),t)+(4===Mu(t).getDay()),n,2)}function Cf(t){return t.getDay()}function Nf(t,n){return Bu(lu.count(Mu(t)-1,t),n,2)}function Tf(t,n){return Bu(t.getFullYear()%100,n,2)}function Rf(t,n){return Bu((t=Mf(t)).getFullYear()%100,n,2)}function Af(t,n){return Bu(t.getFullYear()%1e4,n,4)}function $f(t,n){var e=t.getDay();return Bu((t=e>=4||0===e?fu(t):fu.ceil(t)).getFullYear()%1e4,n,4)}function Sf(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Bu(n/60|0,"0",2)+Bu(n%60,"0",2)}function Lf(t,n){return Bu(t.getUTCDate(),n,2)}function Uf(t,n){return Bu(t.getUTCHours(),n,2)}function Of(t,n){return Bu(t.getUTCHours()%12||12,n,2)}function Yf(t,n){return Bu(1+iu.count(Eu(t),t),n,3)}function Df(t,n){return Bu(t.getUTCMilliseconds(),n,3)}function If(t,n){return Df(t,n)+"000"}function Ff(t,n){return Bu(t.getUTCMonth()+1,n,2)}function Pf(t,n){return Bu(t.getUTCMinutes(),n,2)}function zf(t,n){return Bu(t.getUTCSeconds(),n,2)}function Bf(t){var n=t.getUTCDay();return 0===n?7:n}function jf(t,n){return Bu(gu.count(Eu(t)-1,t),n,2)}function Wf(t){var n=t.getUTCDay();return n>=4||0===n?vu(t):vu.ceil(t)}function Hf(t,n){return t=Wf(t),Bu(vu.count(Eu(t),t)+(4===Eu(t).getUTCDay()),n,2)}function qf(t){return t.getUTCDay()}function Vf(t,n){return Bu(yu.count(Eu(t)-1,t),n,2)}function Xf(t,n){return Bu(t.getUTCFullYear()%100,n,2)}function Gf(t,n){return Bu((t=Wf(t)).getUTCFullYear()%100,n,2)}function Zf(t,n){return Bu(t.getUTCFullYear()%1e4,n,4)}function Kf(t,n){var e=t.getUTCDay();return Bu((t=e>=4||0===e?vu(t):vu.ceil(t)).getUTCFullYear()%1e4,n,4)}function Qf(){return"+0000"}function Jf(){return"%"}function th(t){return+t}function nh(t){return Math.floor(+t/1e3)}function eh(t){return new Date(t)}function rh(t){return t instanceof Date?+t:+new Date(+t)}function ih(t,n,e,r,i,o,a,c,l,s){var u=ys(),f=u.invert,h=u.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),y=s("%I %p"),m=s("%a %d"),b=s("%b %d"),v=s("%B"),_=s("%Y");function x(t){return(l(t)<t?d:c(t)<t?p:a(t)<t?g:o(t)<t?y:r(t)<t?i(t)<t?m:b:e(t)<t?v:_)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?h(Array.from(t,rh)):h().map(eh)},u.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},u.tickFormat=function(t,n){return null==n?x:s(n)},u.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(xs(e,t)):u},u.copy=function(){return ps(u,ih(t,n,e,r,i,o,a,c,l,s))},u}function oh(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ah(){var t,n,e,r,i,o,a,c=0,l=.5,s=1,u=1,f=us,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(u*t<u*n?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,f=Ui(t,[e,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([c,l,s]=a,t=o(c=+c),n=o(l=+l),e=o(s=+s),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),u=n<t?-1:1,d):[c,l,s]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(_i),d.rangeRound=p(xi),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(c),n=a(l),e=a(s),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),u=n<t?-1:1,d}}function ch(){var t=bs(ah()(us));return t.copy=function(){return oh(t,ch())},es.apply(t,arguments)}function lh(){var t=Ts(ah()).domain([.1,1,10]);return t.copy=function(){return oh(t,lh()).base(t.base())},es.apply(t,arguments)}function sh(){var t=Ss(ah());return t.copy=function(){return oh(t,sh()).constant(t.constant())},es.apply(t,arguments)}function uh(){var t=Ds(ah());return t.copy=function(){return oh(t,uh()).exponent(t.exponent())},es.apply(t,arguments)}function fh(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){Uu=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,l=t.shortMonths,s=Wu(i),u=Hu(i),f=Wu(o),h=Hu(o),d=Wu(a),p=Hu(a),g=Wu(c),y=Hu(c),m=Wu(l),b=Hu(l),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:df,e:df,f:bf,g:Rf,G:$f,H:pf,I:gf,j:yf,L:mf,m:vf,M:_f,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:th,s:nh,S:xf,u:wf,U:kf,V:Ef,w:Cf,W:Nf,x:null,X:null,y:Tf,Y:Af,Z:Sf,"%":Jf},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:Lf,e:Lf,f:If,g:Gf,G:Kf,H:Uf,I:Of,j:Yf,L:Df,m:Ff,M:Pf,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:th,s:nh,S:zf,u:Bf,U:jf,V:Hf,w:qf,W:Vf,x:null,X:null,y:Xf,Y:Zf,Z:Qf,"%":Jf},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=b.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:ef,e:ef,f:sf,g:Qu,G:Ku,H:of,I:of,j:rf,L:lf,m:nf,M:af,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=u.get(r[0].toLowerCase()),e+r[0].length):-1},q:tf,Q:ff,s:hf,S:cf,u:Vu,U:Xu,V:Gu,w:qu,W:Zu,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:Qu,Y:Ku,Z:Ju,"%":uf};function w(t,n){return function(e){var r,i,o,a=[],c=-1,l=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++c<s;)37===t.charCodeAt(c)&&(a.push(t.slice(l,c)),null!=(i=Iu[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),l=c+1);return a.push(t.slice(l,c)),a.join("")}}function k(t,n){return function(e){var r,i,o=Lu(1900,void 0,1);if(M(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Su(Lu(o.y,0,1))).getUTCDay(),r=i>4||0===i?yu.ceil(r):yu(r),r=iu.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=$u(Lu(o.y,0,1))).getDay(),r=i>4||0===i?lu.ceil(r):lu(r),r=ru.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Su(Lu(o.y,0,1)).getUTCDay():$u(Lu(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Su(o)):$u(o)}}function M(t,n,e,r){for(var i,o,a=0,c=n.length,l=e.length;a<c;){if(r>=l)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Iu?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),Ou=Uu.format,Uu.parse,Yu=Uu.utcFormat,Du=Uu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const hh=fh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),dh=fh("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ph=fh("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),gh=fh("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),yh=fh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),mh=fh("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),bh=fh("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),vh=fh("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_h=fh("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),xh=fh("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),wh=fh("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),kh=t=>fi(t[t.length-1]);var Mh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(fh);const Eh=kh(Mh);var Ch=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(fh);const Nh=kh(Ch);var Th=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(fh);const Rh=kh(Th);var Ah=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(fh);const $h=kh(Ah);var Sh=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(fh);const Lh=kh(Sh);var Uh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(fh);const Oh=kh(Uh);var Yh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(fh);const Dh=kh(Yh);var Ih=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(fh);const Fh=kh(Ih);var Ph=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(fh);const zh=kh(Ph);var Bh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(fh);const jh=kh(Bh);var Wh=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(fh);const Hh=kh(Wh);var qh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(fh);const Vh=kh(qh);var Xh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(fh);const Gh=kh(Xh);var Zh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(fh);const Kh=kh(Zh);var Qh=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(fh);const Jh=kh(Qh);var td=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(fh);const nd=kh(td);var ed=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(fh);const rd=kh(ed);var id=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(fh);const od=kh(id);var ad=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(fh);const cd=kh(ad);var ld=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(fh);const sd=kh(ld);var ud=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(fh);const fd=kh(ud);var hd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(fh);const dd=kh(hd);var pd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(fh);const gd=kh(pd);var yd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(fh);const md=kh(yd);var bd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(fh);const vd=kh(bd);var _d=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(fh);const xd=kh(_d);var wd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(fh);const kd=kh(wd);function Md(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const Ed=Li(ei(300,.5,0),ei(-240,.5,1));var Cd=Li(ei(-100,.75,.35),ei(80,1.5,.8)),Nd=Li(ei(260,.75,.35),ei(80,1.5,.8)),Td=ei();function Rd(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Td.h=360*t-100,Td.s=1.5-1.5*n,Td.l=.8-.9*n,Td+""}var Ad=yr(),$d=Math.PI/3,Sd=2*Math.PI/3;function Ld(t){var n;return t=(.5-t)*Math.PI,Ad.r=255*(n=Math.sin(t))*n,Ad.g=255*(n=Math.sin(t+$d))*n,Ad.b=255*(n=Math.sin(t+Sd))*n,Ad+""}function Ud(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Od(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const Yd=Od(fh("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Dd=Od(fh("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Id=Od(fh("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Fd=Od(fh("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Pd(t){return function(){return t}}const zd=Math.cos,Bd=Math.min,jd=Math.sin,Wd=Math.sqrt,Hd=Math.PI,qd=2*Hd;function Vd(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new Yo(n)}function Xd(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Gd(t){this._context=t}function Zd(t){return new Gd(t)}function Kd(t){return t[0]}function Qd(t){return t[1]}function Jd(t,n,e){var r=null,i=Pd(!0),o=null,a=Zd,c=null,l=Vd(s);function s(s){var u,f,h,d,p,g=(s=Xd(s)).length,y=!1,m=new Array(g),b=new Array(g);for(null==o&&(c=a(p=l())),u=0;u<=g;++u){if(!(u<g&&i(d=s[u],u,s))===y)if(y=!y)f=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=u-1;h>=f;--h)c.point(m[h],b[h]);c.lineEnd(),c.areaEnd()}y&&(m[u]=+t(d,u,s),b[u]=+n(d,u,s),c.point(r?+r(d,u,s):m[u],e?+e(d,u,s):b[u]))}if(p)return c=null,p+""||null}function u(){return function(t,n){var e=Pd(!0),r=null,i=Zd,o=null,a=Vd(c);function c(c){var l,s,u,f=(c=Xd(c)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=f;++l)!(l<f&&e(s=c[l],l,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,l,c),+n(s,l,c));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?Kd:Pd(t),n="function"==typeof n?n:void 0===n?Qd:Pd(n),c.x=function(n){return arguments.length?(t="function"==typeof n?n:Pd(+n),c):t},c.y=function(t){return arguments.length?(n="function"==typeof t?t:Pd(+t),c):n},c.defined=function(t){return arguments.length?(e="function"==typeof t?t:Pd(!!t),c):e},c.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),c):i},c.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),c):r},c}().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?Kd:Pd(+t),n="function"==typeof n?n:Pd(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?Qd:Pd(+e),s.x=function(n){return arguments.length?(t="function"==typeof n?n:Pd(+n),r=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:Pd(+n),s):t},s.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Pd(+t),s):r},s.y=function(t){return arguments.length?(n="function"==typeof t?t:Pd(+t),e=null,s):n},s.y0=function(t){return arguments.length?(n="function"==typeof t?t:Pd(+t),s):n},s.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Pd(+t),s):e},s.lineX0=s.lineY0=function(){return u().x(t).y(n)},s.lineY1=function(){return u().x(t).y(e)},s.lineX1=function(){return u().x(r).y(n)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:Pd(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(c=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=c=null:c=a(o=t),s):o},s}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};class tp{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}const np=Wd(3),ep={draw(t,n){const e=.59436*Wd(n+Bd(n/28,.75)),r=e/2,i=r*np;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},rp={draw(t,n){const e=Wd(n/Hd);t.moveTo(e,0),t.arc(0,0,e,0,qd)}},ip={draw(t,n){const e=Wd(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},op=Wd(1/3),ap=2*op,cp={draw(t,n){const e=Wd(n/ap),r=e*op;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},lp={draw(t,n){const e=.62625*Wd(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},sp={draw(t,n){const e=.87559*Wd(n-Bd(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},up={draw(t,n){const e=Wd(n),r=-e/2;t.rect(r,r,e,e)}},fp={draw(t,n){const e=.4431*Wd(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},hp=jd(Hd/10)/jd(7*Hd/10),dp=jd(qd/10)*hp,pp=-zd(qd/10)*hp,gp={draw(t,n){const e=Wd(.8908130915292852*n),r=dp*e,i=pp*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const n=qd*o/5,a=zd(n),c=jd(n);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},yp=Wd(3),mp={draw(t,n){const e=-Wd(n/(3*yp));t.moveTo(0,2*e),t.lineTo(-yp*e,-e),t.lineTo(yp*e,-e),t.closePath()}},bp=Wd(3),vp={draw(t,n){const e=.6824*Wd(n),r=e/2,i=e*bp/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},_p=-.5,xp=Wd(3)/2,wp=1/Wd(12),kp=3*(wp/2+1),Mp={draw(t,n){const e=Wd(n/kp),r=e/2,i=e*wp,o=r,a=e*wp+e,c=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(c,l),t.lineTo(_p*r-xp*i,xp*r+_p*i),t.lineTo(_p*o-xp*a,xp*o+_p*a),t.lineTo(_p*c-xp*l,xp*c+_p*l),t.lineTo(_p*r+xp*i,_p*i-xp*r),t.lineTo(_p*o+xp*a,_p*a-xp*o),t.lineTo(_p*c+xp*l,_p*l-xp*c),t.closePath()}},Ep={draw(t,n){const e=.6189*Wd(n-Bd(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Cp=[rp,ip,cp,up,gp,mp,Mp],Np=[rp,sp,Ep,vp,ep,fp,lp];function Tp(){}function Rp(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Ap(t){this._context=t}function $p(t){this._context=t}function Sp(t){this._context=t}function Lp(t,n){this._basis=new Ap(t),this._beta=n}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rp(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},$p.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Rp(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Rp(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Lp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,c=n[e]-o,l=-1;++l<=e;)r=l/e,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*n[l]+(1-this._beta)*(o+r*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const Up=function t(n){function e(t){return 1===n?new Ap(t):new Lp(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Op(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Yp(t,n){this._context=t,this._k=(1-n)/6}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Op(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Op(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Dp=function t(n){function e(t){return new Yp(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Ip(t,n){this._context=t,this._k=(1-n)/6}Ip.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Op(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Fp=function t(n){function e(t){return new Ip(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Pp(t,n){this._context=t,this._k=(1-n)/6}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Op(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const zp=function t(n){function e(t){return new Pp(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Bp(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/u,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function jp(t,n){this._context=t,this._alpha=n}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Bp(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Wp=function t(n){function e(t){return n?new jp(t,n):new Yp(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Hp(t,n){this._context=t,this._alpha=n}Hp.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Bp(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const qp=function t(n){function e(t){return n?new Hp(t,n):new Ip(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Vp(t,n){this._context=t,this._alpha=n}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bp(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Xp=function t(n){function e(t){return n?new Vp(t,n):new Pp(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Gp(t){this._context=t}function Zp(t){return t<0?-1:1}function Kp(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(Zp(o)+Zp(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function Qp(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Jp(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*n,o-c,a-c*e,o,a)}function tg(t){this._context=t}function ng(t){this._context=new eg(t)}function eg(t){this._context=t}function rg(t){this._context=t}function ig(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function og(t,n){this._context=t,this._t=n}function ag(t,n,e){this.k=t,this.x=n,this.y=e}function cg(t){return null!=t&&!Number.isNaN(t)}function lg(t,n){return+cg(n)-+cg(t)||vt(t,n)}function sg(t,n){return+cg(n)-+cg(t)||_t(t,n)}function ug(t){return null!=t&&""!=`${t}`}function fg(t){return isFinite(t)?t:NaN}function hg(t){return t>0&&isFinite(t)?t:NaN}function dg(t){return t<0&&isFinite(t)?t:NaN}function pg(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${gg(-a,6)}`:a>9999?`+${gg(a,6)}`:gg(a,4)}-${gg(t.getUTCMonth()+1,2)}-${gg(t.getUTCDate(),2)}${e||r||i||o?`T${gg(e,2)}:${gg(r,2)}${i||o?`:${gg(i,2)}${o?`.${gg(o,3)}`:""}`:""}Z`:""}`;var a}function gg(t,n){return`${t}`.padStart(n,"0")}Gp.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jp(this,this._t0,Qp(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Jp(this,Qp(this,e=Kp(this,t,n)),e);break;default:Jp(this,this._t0,e=Kp(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(ng.prototype=Object.create(tg.prototype)).point=function(t,n){tg.prototype.point.call(this,n,t)},eg.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=ig(t),i=ig(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},ag.prototype={constructor:ag,scale:function(t){return 1===t?this:new ag(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ag(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},ag.prototype;const yg=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function mg(t,n){return yg.test(t+="")?new Date(t):"function"==typeof n?n(t):n}function bg(t){if(null==t)return;return _t(t[0],t[t.length-1])}const vg=1e3,_g=6e4,xg=36e5,wg=864e5,kg=6048e5,Mg=2592e6,Eg=31536e6,Cg=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",vg],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",_g],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",xg],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",wg],["2 days",1728e5],["week",kg],["2 weeks",12096e5],["month",Mg],["3 months",7776e6],["6 months",15552e6],["year",Eg],["2 years",63072e6],["5 years",15768e7],["10 years",31536e7],["20 years",63072e7],["50 years",15768e8],["100 years",31536e8]],Ng=new Map([["second",vg],["minute",_g],["hour",xg],["day",wg],["monday",kg],["tuesday",kg],["wednesday",kg],["thursday",kg],["friday",kg],["saturday",kg],["sunday",kg],["week",kg],["month",Mg],["year",Eg]]),Tg=new Map([["second",Qs],["minute",Js],["hour",nu],["day",ru],["monday",lu],["tuesday",su],["wednesday",uu],["thursday",fu],["friday",hu],["saturday",du],["sunday",cu],["week",cu],["month",wu],["year",Mu]]),Rg=new Map([["second",Qs],["minute",tu],["hour",eu],["day",ou],["monday",yu],["tuesday",mu],["wednesday",bu],["thursday",vu],["friday",_u],["saturday",xu],["sunday",gu],["week",gu],["month",ku],["year",Eu]]),Ag=Symbol("intervalDuration"),$g=Symbol("intervalType");for(const[it,pM]of Tg)pM[Ag]=Ng.get(it),pM[$g]="time";for(const[it,pM]of Rg)pM[Ag]=Ng.get(it),pM[$g]="utc";const Sg=[["year",Eu,"utc"],["month",ku,"utc"],["day",ou,"utc",15552e6],["hour",eu,"utc",2592e5],["minute",tu,"utc",216e5],["second",Qs,"utc",18e5]],Lg=[["year",Mu,"time"],["month",wu,"time"],["day",ru,"time",15552e6],["hour",nu,"time",2592e5],["minute",Js,"time",216e5],["second",Qs,"time",18e5]],Ug=[Sg[0],Lg[0],Sg[1],Lg[1],Sg[2],Lg[2],...Sg.slice(3)];function Og(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let i=Rg.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Yg(t){return Ig(Og(t),"time")}function Dg(t){return Ig(Og(t),"utc")}function Ig([t,n],e){let r=("time"===e?Tg:Rg).get(t);return n>1&&(r=r.every(n),r[Ag]=Ng.get(t)*n,r[$g]=e),r}function Fg(t,n){if(!(n>1))return;const e=t[Ag];if(!Cg.some(([,t])=>t===e))return;if(e%wg===0&&wg<e&&e<Mg)return;const[r]=Cg[xt(([,t])=>Math.log(t)).center(Cg,Math.log(e*n))];return("time"===t[$g]?Yg:Dg)(r)}function Pg(t,n,e){const r="time"===n?Ou:Yu;if(null==e)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return Bg(r(".%L"),r(":%M:%S"),i);case"second":return Bg(r(":%S"),r("%-I:%M"),i);case"minute":return Bg(r("%-I:%M"),r("%p"),i);case"hour":return Bg(r("%-I %p"),r("%b %-d"),i);case"day":return Bg(r("%-d"),r("%b"),i);case"month":return Bg(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function zg(t,n,e){const r=rn(function(t,n=vn){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}(n,(t,n)=>Math.abs(n-t)));if(r<1e3)return Pg("millisecond","utc",e);for(const[i,o,a,c]of function(t){return"time"===t?Lg:"utc"===t?Sg:Ug}(t)){if(r>c)break;if("hour"===i&&!r)break;if(n.every(t=>o.floor(t)>=t))return Pg(i,a,e)}}function Bg(t,n,e){return(r,i,o)=>{const a=t(r,i),c=n(r,i),l=i-bg(o);return i!==l&&void 0!==o[l]&&c===n(o[l],l)?a:e(a,c)}}const jg=Object.getPrototypeOf(Uint8Array),Wg=Object.prototype.toString;function Hg(t){return t instanceof Array||t instanceof jg}function qg(t){return t instanceof jg&&!function(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}(t)}function Vg(t){return(null==t?void 0:t.prototype)instanceof jg&&!function(t){return t===BigInt64Array||t===BigUint64Array}(t)}const Xg=Symbol("reindex");function Gg(t,n,e){const r=typeof n;return"string"===r?om(t)?Qg(t.getChild(n),e):Zg(t,ty(n),e):"function"===r?Zg(t,n,e):"number"===r||n instanceof Date||"boolean"===r?_y(t,sy(n),e):"function"==typeof(null==n?void 0:n.transform)?Kg(n.transform(t),e):(i=Kg(n,e),o=null==t?void 0:t[Xg],null!=i&&o?Ay(i,o):i);var i,o}function Zg(t,n,e){return _y(t,Vg(e)?(t,e)=>fy(n(t,e)):n,e)}function Kg(t,n){return void 0===n?vy(t):am(t)?Qg(t,n):t instanceof n?t:n.from(t,Vg(n)&&!qg(t)?fy:void 0)}function Qg(t,n){return null==t?t:void 0!==n&&n!==Array||!function(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}(t.type)?Kg(t.toArray(),n):hy(t.toArray())}const Jg=[null],ty=t=>n=>{var e;const r=n[t];return void 0===r&&"Feature"===n.type?null==(e=n.properties)?void 0:e[t]:r},ny={transform:Ry},ey={transform:t=>t},ry=()=>1,iy=()=>!0,oy=t=>null==t?t:`${t}`,ay=t=>null==t?t:+t,cy=t=>t?t[0]:void 0,ly=t=>t?t[1]:void 0,sy=t=>()=>t;function uy(t){return qg(t)?t:_y(t,fy,Float64Array)}function fy(t){return null==t?NaN:Number(t)}function hy(t){return _y(t,dy)}function dy(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?mg(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function py(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:Ky(t)?[void 0,t]:[t,void 0]}function gy(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function yy(t,n,e){if(null!=t)return my(t,n,e)}function my(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function by(t){return om(t)?t:vy(t)}function vy(t){if(null==t||Hg(t))return t;if(am(t))return Qg(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function _y(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function xy(t,n=Array){return t instanceof n?t.slice():n.from(t)}function wy(t){return(null==t?void 0:t.toString)===Wg}function ky(t){return wy(t)&&(void 0!==t.type||void 0!==t.domain)}function My(t){return wy(t)&&"function"!=typeof t.transform}function Ey(t){return My(t)&&void 0===t.value&&void 0===t.channel}function Cy(t,n){return void 0===t&&void 0===n?[cy,ly]:[t,n]}function Ny({z:t,fill:n,stroke:e}={}){return void 0===t&&([t]=py(n)),void 0===t&&([t]=py(e)),t}function Ty(t){return Hg(t)?t.length:null==t?void 0:t.numRows}function Ry(t){const n=Ty(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Ay(t,n){return Hg(t)?_y(n,n=>t[n],t.constructor):_y(n,n=>t.at(n))}function $y(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function Sy(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Ly(t){let n;return[{transform:()=>n,label:Oy(t)},t=>n=t]}function Uy(t){return null==t?[t]:Ly(t)}function Oy(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function Yy(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return qy(r)||qy(i)?_y(r,(t,n)=>new Date((+r[n]+ +i[n])/2)):_y(r,(t,n)=>(+r[n]+ +i[n])/2,Float64Array)},label:t.label}}function Dy(t,n){const e=Iy(null==n?void 0:n.interval,null==n?void 0:n.type);return e?_y(t,e):t}function Iy(t,n){const e=Fy(t,n);return e&&(t=>cg(t)?e.floor(t):t)}function Fy(t,n){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:(t,e=1)=>(t*n+Math.floor(e))/n,range:(t,e)=>_n(Math.ceil(t*n),e*n).map(t=>t/n)}:{floor:t=>Math.floor(t/n)*n,offset:(t,e=1)=>t+n*Math.floor(e),range:(t,e)=>_n(Math.ceil(t/n),e/n).map(t=>t*n)}}(t);if("string"==typeof t)return("time"===n?Yg:Dg)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Py(t,n){if((t=Fy(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function zy(t){return"function"==typeof(null==t?void 0:t.range)}function By(t){return void 0===t||My(t)?t:{value:t}}function jy(t){return t&&"function"==typeof t[Symbol.iterator]}function Wy(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function Hy(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function qy(t){for(const n of t)if(null!=n)return n instanceof Date}function Vy(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&mg(n)}function Xy(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function Gy(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}const Zy=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ky(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Zy.has(t))}function Qy(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function Jy(t){return null==t||tm(t)}function tm(t){return/^\s*none\s*$/i.test(t)}function nm(t,n){return yy(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function em(t="middle"){return nm(t,"frameAnchor")}function rm(t){return jy(t)?function(t){const n=new Set;return Object.fromEntries(Array.from(t,t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]}))}(t):t}function im(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=my(t,"clip",["frame","sphere"])),t}function om(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function am(t){return t&&"function"==typeof t.toArray&&t.type}const cm=Symbol("position"),lm=Symbol("color"),sm=Symbol("radius"),um=Symbol("length"),fm=Symbol("opacity"),hm=Symbol("symbol"),dm=Symbol("projection"),pm=new Map([["x",cm],["y",cm],["fx",cm],["fy",cm],["r",sm],["color",lm],["opacity",fm],["symbol",hm],["length",um],["projection",dm]]);function gm(t){return t===cm||t===dm}const ym=2/Math.sqrt(3),mm=new Map([["asterisk",ep],["circle",rp],["cross",ip],["diamond",cp],["diamond2",lp],["hexagon",{draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*ym,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}}],["plus",sp],["square",up],["square2",fp],["star",gp],["times",Ep],["triangle",mp],["triangle2",vp],["wye",Mp]]);function bm(t){return t&&"function"==typeof t.draw}function vm(t){return!!bm(t)||"string"==typeof t&&mm.has(t.toLowerCase())}function _m(t){if(null==t||bm(t))return t;const n=mm.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function xm({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(void 0===r&&(null!=t&&(r=Cm(t)),null==n||Ey(n)||(r=km(r,Tm(n))),e&&(r=km(r,Nm))),null!=a&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===n||Ey(n))&&{sort:n},transform:km(r,a)}}function wm({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return void 0===r&&(null!=t&&(r=Cm(t)),null==n||Ey(n)||(r=Mm(r,Tm(n))),e&&(r=Mm(r,Nm))),{...i,...(null===n||Ey(n))&&{sort:n},initializer:Mm(r,o)}}function km(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,by(e),r,i)}}function Mm(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i,...o){let a,c,l,s,u,f;return({data:c=e,facets:l=r,channels:a}=t.call(this,e,r,i,...o)),({data:u=c,facets:f=l,channels:s}=n.call(this,c,l,{...i,...a},...o)),{data:u,facets:f,channels:{...a,...s}}}}function Em(t,n){return(null!=t.initializer?wm:xm)(t,n)}function Cm(t){return(n,e)=>{const r=Gg(n,t);return{data:n,facets:e.map(t=>t.filter(t=>r[t]))}}}function Nm(t,n){return{data:t,facets:n.map(t=>t.slice().reverse())}}function Tm(t){return("function"==typeof t&&1!==t.length?Rm:Am)(t)}function Rm(t){return(n,e)=>{const r=Hg(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r));return{data:n,facets:e.map(t=>t.slice().sort(r))}}}function Am(t){let n,e;({channel:n,value:t,order:e}={...By(t)});const r=null==n?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?sg:lg),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=lg;break;case"descending":e=sg;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,o)=>{let a;if(void 0===n)a=Gg(r,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[n],!a)return{};a=a.value}const c=(t,n)=>e(a[t],a[n]);return{data:r,facets:i.map(t=>t.slice().sort(c))}}}function $m(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function Sm(t,n,e,r=Lm){let i;wy(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,c]=Ly(o.label);let l;return{name:t,output:void 0===i?a:{value:a,scale:i},initialize(t){o.initialize(t),l=c([])},scope(t,n){o.scope(t,n)},reduce(t,n){l.push(o.reduce(t,n))}}}function Lm(t,n,e,r=Om){const i=function(t,n){if(void 0!==n[t])return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return n[t]}(t,e),o=r(n,i);let a,c;return{label:Oy(o===jm?null:i,o.label),initialize(t){a=void 0===i?t:Gg(t,i),"data"===o.scope&&(c=o.reduceIndex(Ry(t),a))},scope(t,n){o.scope===t&&(c=o.reduceIndex(n,a))},reduce:(t,n)=>null==o.scope?o.reduceIndex(t,a,n):o.reduceIndex(t,a,c,n)}}function Um(t,n){return n?zt(t,t=>n[t]):[[,t]]}function Om(t,n,e=Ym){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&wy(t))return function(t){return{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return r=t,{reduceIndex:(t,n,e)=>r(Ay(n,t),e)};var r;if(/^p\d{2}$/i.test(t))return Dm(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>fn(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return Pm;case"last":return Bm;case"identity":return Fm;case"count":return jm;case"distinct":return Wm;case"sum":return null==n?jm:Hm;case"proportion":return qm(n,"data");case"proportion-facet":return qm(n,"facet");case"deviation":return Dm($t);case"min":return Dm(an);case"min-index":return Dm(cn);case"max":return Dm(rn);case"max-index":return Dm(on);case"mean":return Im(gn);case"median":return Im(yn);case"variance":return Dm(At);case"mode":return Dm(bn)}return e(t)}function Ym(t){throw new Error(`invalid reduce: ${t}`)}function Dm(t){return{reduceIndex:(n,e)=>t(n,t=>e[t])}}function Im(t){return{reduceIndex(n,e){const r=t(n,t=>e[t]);return qy(e)?new Date(r):r}}}const Fm={reduceIndex:(t,n)=>Ay(n,t)},Pm={reduceIndex:(t,n)=>n[t[0]]},zm={reduceIndex(t,n){const e=Ht(Bt(t,t=>t.length,t=>n[t]),ly),r=e.slice(-5).reverse();if(r.length<e.length){const t=e.slice(0,-4);r[4]=[` ${t.length.toLocaleString("en-US")} more`,xn(t,ly)]}return r.map(([t,n])=>`${t} (${n.toLocaleString("en-US")})`).join("\n")}},Bm={reduceIndex:(t,n)=>n[t[t.length-1]]},jm={label:"Frequency",reduceIndex:t=>t.length},Wm={label:"Distinct",reduceIndex(t,n){const e=new Ot;for(const r of t)e.add(n[r]);return e.size}},Hm=Dm(xn);function qm(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>xn(t,t=>n[t])/e}}const Vm={reduceIndex:(t,n,{z:e})=>e};function Xm(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Oy(r)},c){return void 0===o&&"function"==typeof(null==r?void 0:r.transform)&&(o=r.hint),Gm(c,{scale:n,type:e,value:Gg(t,r),label:a,filter:i,hint:o})}function Gm(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&Gy(r,Ky)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&Gy(r,Qy)?null:"opacity",n.defaultScale="opacity";break;case"symbol":!0!==e&&Gy(r,vm)?(n.scale=null,n.value=_y(r,_m)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=pm.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!pm.has(e))throw new Error(`unknown scale: ${e}`);return n}function Zm(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function Km(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const n=r[e[o][0]];for(const e of t[o])i[e]=n}return n}function Qm(t,n,e){const r=Jm(t,n);return _y(Jm(t,e),(t,n)=>Math.abs(t-r[n]),Float64Array)}function Jm(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function tb(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return nb;case"descending":return eb}throw new Error(`invalid order: ${t}`)}function nb([t,n],[e,r]){return lg(n,r)||lg(t,e)}function eb([t,n],[e,r]){return sg(n,r)||lg(t,e)}function rb(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const ib=new Map([["accent",dh],["category10",hh],["dark2",ph],["observable10",gh],["paired",yh],["pastel1",mh],["pastel2",bh],["set1",vh],["set2",_h],["set3",xh],["tableau10",wh]]);const ob=new Map([...ib,["brbg",cb(Mh,Eh)],["prgn",cb(Ch,Nh)],["piyg",cb(Th,Rh)],["puor",cb(Ah,$h)],["rdbu",cb(Sh,Lh)],["rdgy",cb(Uh,Oh)],["rdylbu",cb(Yh,Dh)],["rdylgn",cb(Ih,Fh)],["spectral",cb(Ph,zh)],["burd",lb(Sh,Lh)],["buylrd",lb(Yh,Dh)],["blues",ab(hd,dd)],["greens",ab(pd,gd)],["greys",ab(yd,md)],["oranges",ab(wd,kd)],["purples",ab(bd,vd)],["reds",ab(_d,xd)],["turbo",sb(Ud)],["viridis",sb(Yd)],["magma",sb(Dd)],["inferno",sb(Id)],["plasma",sb(Fd)],["cividis",sb(Md)],["cubehelix",sb(Ed)],["warm",sb(Cd)],["cool",sb(Nd)],["bugn",ab(Bh,jh)],["bupu",ab(Wh,Hh)],["gnbu",ab(qh,Vh)],["orrd",ab(Xh,Gh)],["pubu",ab(Qh,Jh)],["pubugn",ab(Zh,Kh)],["purd",ab(td,nd)],["rdpu",ab(ed,rd)],["ylgn",ab(ad,cd)],["ylgnbu",ab(id,od)],["ylorbr",ab(ld,sd)],["ylorrd",ab(ud,fd)],["rainbow",ub(Rd)],["sinebow",ub(Ld)]]);function ab(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?Oi(n,e):t[e]}function cb(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?Oi(n,e):t[e]}function lb(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?Oi(t=>n(1-t),e):t[e].slice().reverse()}function sb(t){return({length:n})=>Oi(t,Math.max(2,Math.floor(n)))}function ub(t){return({length:n})=>Oi(t,Math.floor(n)+1).slice(0,-1)}function fb(t){const n=`${t}`.toLowerCase();if(!ob.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return ob.get(n)}function hb(t,n){const e=fb(t),r="function"==typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const db=new Map([["brbg",Eh],["prgn",Nh],["piyg",Rh],["puor",$h],["rdbu",Lh],["rdgy",Oh],["rdylbu",Dh],["rdylgn",Fh],["spectral",zh],["burd",t=>Lh(1-t)],["buylrd",t=>Dh(1-t)],["blues",dd],["greens",gd],["greys",md],["purples",vd],["reds",xd],["oranges",kd],["turbo",Ud],["viridis",Yd],["magma",Dd],["inferno",Id],["plasma",Fd],["cividis",Md],["cubehelix",Ed],["warm",Cd],["cool",Nd],["bugn",jh],["bupu",Hh],["gnbu",Vh],["orrd",Gh],["pubugn",Kh],["pubu",Jh],["purd",nd],["rdpu",rd],["ylgnbu",od],["ylgn",cd],["ylorbr",sd],["ylorrd",fd],["rainbow",Rd],["sinebow",Ld]]);function pb(t){const n=`${t}`.toLowerCase();if(!db.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return db.get(n)}const gb=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const yb=t=>n=>t(1-n),mb=[0,1],bb=new Map([["number",gi],["rgb",si],["hsl",Ri],["hcl",$i],["lab",function(t,n){var e=li((t=Fr(t)).l,(n=Fr(n)).l),r=li(t.a,n.a),i=li(t.b,n.b),o=li(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}]]);function vb(t){const n=`${t}`.toLowerCase();if(!bb.has(n))throw new Error(`unknown interpolator: ${n}`);return bb.get(n)}function _b(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:c=Nb(t,e),unknown:l,round:s,scheme:u,interval:f,range:h=(pm.get(t)===sm?Rb(e,c):pm.get(t)===um?Ab(e,c):pm.get(t)===fm?mb:void 0),interpolate:d=(pm.get(t)===lm?null==u&&void 0!==h?si:pb(void 0!==u?u:"cyclical"===r?"rainbow":"turbo"):s?xi:gi),reverse:p}){if(f=Py(f,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof d&&(d=vb(d)),p=!!p,void 0!==h){if((c=vy(c)).length!==(h=vy(h)).length){if(1===d.length)throw new Error("invalid piecewise interpolator");d=Ui(d,h),h=void 0}}if(1===d.length?(p&&(d=yb(d),p=!1),void 0===h&&2===(h=Float64Array.from(c,(t,n)=>n/(c.length-1))).length&&(h=mb),n.interpolate((h===mb?sy:Lb)(d))):n.interpolate(d),a){const[t,n]=St(c);if(t>0||n<0){(bg(c=xy(c))||1)===Math.sign(t)?c[0]=0:c[c.length-1]=0}}return p&&(c=wn(c)),n.domain(c).unknown(l),i&&(n.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=Py(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(i,r)),c=n.domain()),void 0!==h&&n.range(h),o&&n.clamp(o),{type:r,domain:c,range:h,scale:n,interpolate:d,interval:f}}function xb(t,n,{exponent:e=1,...r}){return _b(t,Is().exponent(e),n,{...r,type:"pow"})}function wb(t,n,{base:e=10,domain:r=$b(n),...i}){return _b(t,Rs().base(e),n,{...i,domain:r})}function kb(t,n,{constant:e=1,...r}){return _b(t,Ls().constant(e),n,r)}function Mb(t,n,{range:e,quantiles:r=(void 0===e?5:(e=[...e]).length),n:i=r,scheme:o="rdylbu",domain:a=Sb(n),unknown:c,interpolate:l,reverse:s}){return void 0===e&&(e=void 0!==l?Oi(l,i):pm.get(t)===lm?hb(o,i):void 0),a.length>0&&(a=Fs(a,void 0===e?{length:i}:e).quantiles()),Eb(t,n,{domain:a,range:e,reverse:s,unknown:c})}function Eb(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=(void 0!==o?Oi(o,e.length+1):pm.get(t)===lm?hb(i,e.length+1):void 0),reverse:c}){const l=bg(e=vy(e));if(!isNaN(l)&&!function(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const r=_t(i,i=t[e]);if(0!==r&&r!==n)return!1}return!0}(e,l))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(a=wn(a)),{type:"threshold",scale:Ps(l<0?wn(e):e,void 0===a?[]:a).unknown(r),domain:e,range:a}}function Cb(t,n=fg){return t.length?[an(t,({value:t})=>void 0===t?t:an(t,n)),rn(t,({value:t})=>void 0===t?t:rn(t,n))]:[0,1]}function Nb(t,n){const e=pm.get(t);return(e===sm||e===fm||e===um?Tb:Cb)(n)}function Tb(t){return[0,t.length?rn(t,({value:t})=>void 0===t?t:rn(t,fg)):1]}function Rb(t,n){const e=t.find(({radius:t})=>void 0!==t);if(void 0!==e)return[0,e.radius];const r=fn(t,.5,({value:t})=>void 0===t?NaN:fn(t,.25,hg)),i=n.map(t=>3*Math.sqrt(t/r)),o=30/rn(i);return o<1?i.map(t=>t*o):i}function Ab(t,n){const e=yn(t,({value:t})=>void 0===t?NaN:yn(t,Math.abs)),r=n.map(t=>12*t/e),i=60/rn(r);return i<1?r.map(t=>t*i):r}function $b(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return Cb(t,hg);if(e<0)return Cb(t,dg)}return[1,10]}function Sb(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function Lb(t){return(n,e)=>r=>t(n+r*(e-n))}let Ub,Ob=0;function Yb(t){t!==Ub&&(Ub=t,++Ob)}function Db(t,n,e,r,{type:i,nice:o,clamp:a,domain:c=Cb(r),unknown:l,pivot:s=0,scheme:u,range:f,symmetric:h=!0,interpolate:d=(pm.get(t)===lm?null==u&&void 0!==f?si:pb(void 0!==u?u:"rdbu"):gi),reverse:p}){s=+s,c=vy(c);let[g,y]=c;if(c.length>2&&Yb(`Warning: the diverging ${t} scale domain contains extra elements.`),_t(g,y)<0&&([g,y]=[y,g],p=!p),g=Math.min(g,s),y=Math.max(y,s),"function"!=typeof d&&(d=vb(d)),void 0!==f&&(d=1===d.length?Lb(d)(...f):Ui(d,f)),p&&(d=yb(d)),h){const t=e.apply(s),n=t-e.apply(g),r=e.apply(y)-t;n<r?g=e.invert(t-r):n>r&&(y=e.invert(t+n))}return n.domain([g,s,y]).unknown(l).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,y],pivot:s,interpolate:d,scale:n}}function Ib(t,n,e){return Db(t,ch(),Bb,n,e)}function Fb(t,n,{exponent:e=1,...r}){return Db(t,uh().exponent(e=+e),function(t){return.5===t?Wb:{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t)}}(e),n,{...r,type:"diverging-pow"})}function Pb(t,n,{base:e=10,pivot:r=1,domain:i=Cb(n,r<0?dg:hg),...o}){return Db(t,lh().base(e=+e),jb,n,{domain:i,pivot:r,...o})}function zb(t,n,{constant:e=1,...r}){return Db(t,sh().constant(e=+e),function(t){return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n/t)),invert:n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}}(e),n,r)}const Bb={apply:t=>t,invert:t=>t},jb={apply:Math.log,invert:Math.exp},Wb={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function Hb(t,n,e,r){return _b(t,n,e,r)}function qb(t,n,e){return Hb(t,function(){return ns.apply(ih(Ru,Au,Mu,wu,cu,ru,nu,Js,Qs,Ou).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Vb(t,n,e){return Hb(t,function(){return ns.apply(ih(Nu,Tu,Eu,ku,gu,iu,eu,tu,Qs,Yu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const Xb=Symbol("ordinal");function Gb(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:c,hint:l}){return i=Py(i,r),void 0===o&&(o=Qb(e,i,t)),"categorical"!==r&&r!==Xb||(r="ordinal"),c&&(o=wn(o)),o=n.domain(o).domain(),void 0!==a&&("function"==typeof a&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:l,interval:i}}function Zb(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:c,...l}){let s;if(r=Py(r,e),void 0===i&&(i=Qb(n,r,t)),pm.get(t)===hm)s=function(t){return{fill:Jb(t,"fill"),stroke:Jb(t,"stroke")}}(n),o=void 0===o?function(t){return Jy(t.fill)?Np:Cp}(s):_y(o,_m);else if(pm.get(t)===lm&&(void 0!==o||"ordinal"!==e&&e!==Xb||(o=function(t,n="greys"){const e=new Set,[r,i]=hb(n,2);for(const o of t)if(null!=o)if(!0===o)e.add(i);else{if(!1!==o)return;e.add(r)}return[...e]}(i,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===e?"turbo":"observable10"),void 0!==a))if(void 0!==o){const t=pb(a),n=o[0],e=o[1]-o[0];o=({length:r})=>Oi(r=>t(n+e*r),r)}else o=fb(a);if(c===rs)throw new Error(`implicit unknown on ${t} scale is not supported`);return Gb(t,is().unknown(c),n,{...l,type:e,domain:i,range:o,hint:s})}function Kb(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=Gb(r,t,n,e)).round=i,t}function Qb(t,n,e){const r=new Ot;for(const{value:i,domain:o}of t){if(void 0!==o)return o();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=St(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&pm.get(e)===cm)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Ht(r,lg)}function Jb(t,n){let e;for(const{hint:r}of t){const t=null==r?void 0:r[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function tv(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:c,nice:l,clamp:s,zero:u,align:f,padding:h,projection:d,facet:{label:p=n}={},...g}={}){const y={};for(const[m,b]of t){const t=g[m],e=sv(m,b,{round:pm.get(m)===cm?c:void 0,nice:l,clamp:s,zero:u,align:f,padding:h,projection:d,...t});if(e){let{label:c=("fx"===m||"fy"===m?p:n),percent:l,transform:s,inset:u,insetTop:f=(void 0!==u?u:"y"===m?r:0),insetRight:h=(void 0!==u?u:"x"===m?i:0),insetBottom:d=(void 0!==u?u:"y"===m?o:0),insetLeft:g=(void 0!==u?u:"x"===m?a:0)}=t||{};if(null==s)s=void 0;else if("function"!=typeof s)throw new Error("invalid scale transform; not a function");e.percent=!!l,e.label=void 0===c?ev(b,e):c,e.transform=s,"x"===m||"fx"===m?(e.insetLeft=+g,e.insetRight=+h):"y"!==m&&"fy"!==m||(e.insetTop=+f,e.insetBottom=+d),y[m]=e}}return y}function nv(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:t,type:o,interval:a,label:c}=i;n[r]=vv(i),e[r]=t,t.type=o,null!=a&&(t.interval=a),null!=c&&(t.label=c)}return e}function ev(t=[],n){let e;for(const{label:r}of t)if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return;if(void 0!==e)return!pv(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function rv(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:c,marginRight:l,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,l),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function iv({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:l}=rv(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:c,height:n?n.scale.bandwidth()+r+o:l,facet:{width:c,height:l}}}function ov(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,c=o+e,l=i-a-r;t.range=[c,Math.max(c,l)],pv(t)||(t.range=lv(t)),t.scale.range(t.range)}cv(t)}function av(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,c=o+e,l=i-a-r;t.range=[Math.max(c,l),c],pv(t)?t.range.reverse():t.range=lv(t),t.scale.range(t.range)}cv(t)}function cv(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,c=Math.abs(r-e)/Math.max(1,a+2*o);return(c-Math.floor(c))*a}(t)<=30&&t.scale.round(!0)}function lv(t){const n=t.scale.domain().length+gv(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(t,i)=>e+i/(n-1)*(r-e))}function sv(t,n=[],e={}){const r=function(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:c}){if(e=fv(e),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==c||(e=hv);for(const s of n){const t=fv(s.type);if(void 0!==t)if(void 0===e)e=t;else if(e!==t)throw new Error(`scale incompatible with channel: ${e} !== ${t}`)}if(e===hv)return;if(void 0!==e)return e;if(void 0===r&&!n.some(({value:t})=>void 0!==t))return;const l=pm.get(t);if(l===sm)return"sqrt";if(l===fm||l===um)return"linear";if(l===hm)return"ordinal";if((r||i||[]).length>2)return dv(l);if(void 0!==r){if(Hy(r))return dv(l);if(qy(r))return"utc"}else{const t=n.map(({value:t})=>t).filter(t=>void 0!==t);if(t.some(Hy))return dv(l);if(t.some(qy))return"utc"}if(l===lm){if(null!=a||function(t){return null!=t&&gb.has(`${t}`.toLowerCase())}(o))return"diverging";if(function(t){return null!=t&&ib.has(`${t}`.toLowerCase())}(o))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&pv({type:r})){const e=n.map(({value:t})=>t).filter(t=>void 0!==t);e.some(qy)?Yb(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${uv(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${uv(r)}".`):e.some(Vy)?Yb(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${uv(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${uv(r)}".`):e.some(Xy)&&Yb(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${uv(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${uv(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=mv(n,e,uy);break;case"identity":switch(pm.get(t)){case cm:e=mv(n,e,uy);break;case hm:e=mv(n,e,bv)}break;case"utc":case"time":e=mv(n,e,hy)}switch(r){case"diverging":return Ib(t,n,e);case"diverging-sqrt":return function(t,n,e){return Fb(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return Fb(t,n,e);case"diverging-log":return Pb(t,n,e);case"diverging-symlog":return zb(t,n,e);case"categorical":case"ordinal":case Xb:return Zb(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return _b(t,vs(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return xb(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return Eb(t,0,e);case"quantile":return Mb(t,n,e);case"quantize":return function(t,n,{range:e,n:r=(void 0===e?5:(e=[...e]).length),scheme:i="rdylbu",domain:o=Nb(t,n),unknown:a,interpolate:c,reverse:l}){const[s,u]=St(o);let f;return void 0===e?(f=Jt(s,u,r),f[0]<=s&&f.splice(0,1),f[f.length-1]>=u&&f.pop(),r=f.length+1,e=void 0!==c?Oi(c,r):pm.get(t)===lm?hb(i,r):void 0):(f=Oi(gi(s,u),r+1).slice(1,-1),s instanceof Date&&(f=f.map(t=>new Date(t)))),bg(vy(o))<0&&f.reverse(),Eb(t,0,{domain:f,range:e,reverse:l,unknown:a})}(t,n,e);case"pow":return xb(t,n,e);case"log":return wb(t,n,e);case"symlog":return kb(t,n,e);case"utc":return Vb(t,n,e);case"time":return qb(t,n,e);case"point":return function(t,n,{align:e=.5,padding:r=.5,...i}){return Kb(cs().align(e).padding(r),n,i,t)}(t,n,e);case"band":return function(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=("fx"===t||"fy"===t?0:r),...a}){return Kb(os().align(e).paddingInner(i).paddingOuter(o),n,a,t)}(t,n,e);case"identity":return function(t){return{type:"identity",scale:(n=pm.get(t),n===cm||n===sm||n===um||n===fm?_s():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function uv(t){return"symbol"==typeof t?t.description:t}function fv(t){return"string"==typeof t?`${t}`.toLowerCase():t}const hv={toString:()=>"projection"};function dv(t){switch(t){case cm:return"point";case lm:return Xb;default:return"ordinal"}}function pv({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Xb}function gv({type:t}){return"threshold"===t}function yv(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function mv(t,{domain:n,...e},r){var i;for(const o of t)void 0!==o.value&&(void 0===n&&(n=null==(i=o.value)?void 0:i.domain),o.value=r(o.value));return{domain:void 0===n?n:r(n),...e}}function bv(t){return _y(t,_m)}function vv({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:c,pivot:l}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const s=t.unknown?t.unknown():void 0;return{type:n,domain:xy(e),...void 0!==r&&{range:xy(r)},...void 0!==a&&{transform:a},...c&&{percent:c},...void 0!==s&&{unknown:s},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==l&&{pivot:l,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}function _v(t,n){const{fx:e,fy:r}=tv(t,n),i=null==e?void 0:e.scale.domain(),o=null==r?void 0:r.scale.domain();return i&&o?function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(Tt)).map(Ct),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Nt))return o;for(;;){o.push(i.map((n,e)=>t[e][n]));let a=r;for(;++i[a]===e[a];){if(0===a)return n?o.map(n):o;i[a--]=0}}}(i,o).map(([t,n],e)=>({x:t,y:n,i:e})):i?i.map((t,n)=>({x:t,i:n})):o?o.map((t,n)=>({y:t,i:n})):void 0}function xv(t,{fx:n,fy:e}){const r=Ry(t),i=null==n?void 0:n.value,o=null==e?void 0:e.value;return n&&e?Bt(r,t=>(t.fx=i[t[0]],t.fy=o[t[0]],t),t=>i[t],t=>o[t]):n?Bt(r,t=>(t.fx=i[t[0]],t),t=>i[t]):Bt(r,t=>(t.fy=o[t[0]],t),t=>o[t])}function wv(t){const n=[],e=new Uint32Array(xn(t,t=>t.length));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const kv=new Map([["top",Tv],["right",$v],["bottom",Rv],["left",Av],["top-left",Sv(Tv,Av)],["top-right",Sv(Tv,$v)],["bottom-left",Sv(Rv,Av)],["bottom-right",Sv(Rv,$v)],["top-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Cv(n,r);if(o>0)return Nv(t,e,n[o-1])}],["right-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Cv(n,e);if(o<n.length-1)return Nv(t,n[o+1],r)}],["bottom-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Cv(n,r);if(o<n.length-1)return Nv(t,e,n[o+1])}],["left-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Cv(n,e);if(o>0)return Nv(t,n[o-1],r)}],["empty",function(t,n,{empty:e}){return e}]]);const Mv=new WeakMap;function Ev(t){let n=Mv.get(t);return n||Mv.set(t,n=new Ut(_y(t,(t,n)=>[t,n]))),n}function Cv(t,n){return Ev(t).get(n)}function Nv(t,n,e){var r;return null==(r=function(t,n,e){return n=Sy(n),e=Sy(e),t.find(t=>Object.is(Sy(t.x),n)&&Object.is(Sy(t.y),e))}(t,n,e))?void 0:r.empty}function Tv(t,{y:n},{y:e}){return!n||0===Cv(n,e)}function Rv(t,{y:n},{y:e}){return!n||Cv(n,e)===n.length-1}function Av(t,{x:n},{x:e}){return!n||0===Cv(n,e)}function $v(t,{x:n},{x:e}){return!n||Cv(n,e)===n.length-1}function Sv(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Lv(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:t,y:n})=>{var e;return(null==(e=r.get(t))?void 0:e.get(n))??[]}):n?t.map(({x:t})=>r.get(t)??[]):t.map(({y:t})=>r.get(t)??[])}const Uv=Math.PI,Ov=2*Uv,Yv=.618;function Dv({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(null==t)return;if("function"==typeof t.stream)return t;let c,l,s="frame";if(wy(t)){let n;if(({type:t,domain:l,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:r=(void 0!==n?n:r),insetBottom:i=(void 0!==n?n:i),insetLeft:o=(void 0!==n?n:o),clip:s=s,...c}=t),null==t)return}"function"!=typeof t&&({type:t}=Iv(t));const{width:u,height:f,marginLeft:h,marginRight:d,marginTop:p,marginBottom:g}=a,y=u-h-d-o-r,m=f-p-g-e-i;if(null==(t=null==t?void 0:t({width:y,height:m,clip:s,...c})))return;s=function(t,n,e,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return nc(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(s,h,p,u-d,f-g);let b,v=h+o,_=p+e;if(null!=l){const[[n,e],[r,i]]=il(t).bounds(l),o=Math.min(y/(r-n),m/(i-e));o>0?(v-=(o*(n+r)-y)/2,_-=(o*(e+i)-m)/2,b=ol({point(t,n){this.stream.point(t*o+v,n*o+_)}})):Yb("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??(b=0===v&&0===_?zv():ol({point(t,n){this.stream.point(t+v,n+_)}})),{stream:n=>t.stream(b.stream(s(n)))}}function Iv(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Fv(kl,.7463,.4673);case"albers":return Pv(wl,.7463,.4673);case"azimuthal-equal-area":return Fv(Nl,4,4);case"azimuthal-equidistant":return Fv(Rl,Ov,Ov);case"conic-conformal":return Pv(Ol,Ov,Ov);case"conic-equal-area":return Pv(xl,6.1702,2.9781);case"conic-equidistant":return Pv(Fl,7.312,3.6282);case"equal-earth":return Fv(ql,5.4133,2.6347);case"equirectangular":return Fv(Dl,Ov,Uv);case"gnomonic":return Fv(Xl,3.4641,3.4641);case"identity":return{type:zv};case"reflect-y":return{type:Bv};case"mercator":return Fv($l,Ov,Ov);case"orthographic":return Fv(Zl,2,2);case"stereographic":return Fv(Ql,2,2);case"transverse-mercator":return Fv(ts,Ov,Ov);default:throw new Error(`unknown projection type: ${t}`)}}function Fv(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:c})=>{var l,s,u;const f=t();return null!=a&&(null==(l=f.precision)||l.call(f,a)),null!=o&&(null==(s=f.rotate)||s.call(f,o)),"number"==typeof c&&(null==(u=f.clipAngle)||u.call(f,c)),null!=r&&(f.scale(Math.min(r/n,i/e)),f.translate([r/2,i/2])),f},aspectRatio:e/n}}function Pv(t,n,e){const{type:r,aspectRatio:i}=Fv(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:o}=t,a=r(t);return null!=n&&(a.parallels(n),void 0===e&&null!=i&&a.fitSize([i,o],{type:"Sphere"})),a},aspectRatio:i}}const zv=sy({stream:t=>t}),Bv=sy(ol({point(t,n){this.stream.point(t,-n)}}));function jv(t,n,e,r){const i=e[t],o=e[n],a=i.length,c=e[t]=new Float64Array(a).fill(NaN),l=e[n]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(t,n){c[s]=t,l[s]=n}});for(s=0;s<a;++s)u.point(i[s],o[s])}function Wv({projection:t}={}){return null!=t&&("function"==typeof t.stream||(wy(t)&&(t=t.type),null!=t))}function Hv(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Ea(a,o);return[r,i]}function qv(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:im(e)}}function Vv(t,{document:n}){return Ve(Pn(t).call(n.documentElement))}const Xv=Symbol("unset");function Gv(t){return(1===t.length?Zv:Kv)(t)}function Zv(t){let n,e=Xv;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function Kv(t){let n,e;return(...r)=>(((null==e?void 0:e.length)!==r.length||e.some((t,n)=>!Object.is(t,r[n])))&&(e=r,n=t(...r)),n)}const Qv=Gv(t=>new Intl.NumberFormat(t));function Jv(t){return pg(t,"Invalid Date")}Gv((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}})),Gv((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));const t_=function(t="en-US"){const n=function(t="en-US"){const n=Qv(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?Jv:"number"==typeof t?n:oy)(t)}(),n_=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let e_=0;function r_(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:c,fillOpacity:l,stroke:s,strokeWidth:u,strokeOpacity:f,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:y,opacity:m,mixBlendMode:b,imageFilter:v,paintOrder:_,pointerEvents:x,shapeRendering:w,channels:k},{ariaLabel:M,fill:E="currentColor",fillOpacity:C,stroke:N="none",strokeOpacity:T,strokeWidth:R,strokeLinecap:A,strokeLinejoin:$,strokeMiterlimit:S,paintOrder:L}){null===E&&(c=null,l=null),null===N&&(s=null,f=null),Jy(E)?Jy(N)||Jy(c)&&!(null==k?void 0:k.fill)||(N="none"):!Jy(N)||Jy(s)&&!(null==k?void 0:k.stroke)||(E="none");const[U,O]=py(c,E),[Y,D]=gy(l,C),[I,F]=py(s,N),[P,z]=gy(f,T),[B,j]=gy(m);tm(F)||(void 0===u&&(u=R),void 0===d&&(d=A),void 0===h&&(h=$),void 0!==p||/^\s*round\s*$/i.test(h)||(p=S),tm(O)||void 0!==_||(_=L));const[W,H]=gy(u);return null!==E&&(t.fill=m_(O,"currentColor"),t.fillOpacity=b_(D,1)),null!==N&&(t.stroke=m_(F,"none"),t.strokeWidth=b_(H,1),t.strokeOpacity=b_(z,1),t.strokeLinejoin=m_(h,"miter"),t.strokeLinecap=m_(d,"butt"),t.strokeMiterlimit=b_(p,4),t.strokeDasharray=m_(g,"none"),t.strokeDashoffset=m_(y,"0")),t.target=oy(a),t.ariaLabel=oy(M),t.ariaDescription=oy(i),t.ariaHidden=oy(o),t.opacity=b_(j,1),t.mixBlendMode=m_(b,"normal"),t.imageFilter=m_(v,"none"),t.paintOrder=m_(_,"normal"),t.pointerEvents=m_(x,"auto"),t.shapeRendering=m_(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:U,scale:"auto",optional:!0},fillOpacity:{value:Y,scale:"auto",optional:!0},stroke:{value:I,scale:"auto",optional:!0},strokeOpacity:{value:P,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:B,scale:"auto",optional:!0}}}function i_(t,n){n&&t.text(t=>t_(n[t]))}function o_(t,n){n&&t.text(([t])=>t_(n[t]))}function a_(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:l,strokeWidth:s,opacity:u,href:f}){r&&g_(t,"aria-label",t=>r[t]),o&&g_(t,"fill",t=>o[t]),a&&g_(t,"fill-opacity",t=>a[t]),c&&g_(t,"stroke",t=>c[t]),l&&g_(t,"stroke-opacity",t=>l[t]),s&&g_(t,"stroke-width",t=>s[t]),u&&g_(t,"opacity",t=>u[t]),f&&p_(t,t=>f[t],n),e||function(t,n){n&&t.filter(t=>ug(n[t])).append("title").call(i_,n)}(t,i)}function c_(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:l,strokeWidth:s,opacity:u,href:f}){r&&g_(t,"aria-label",([t])=>r[t]),o&&g_(t,"fill",([t])=>o[t]),a&&g_(t,"fill-opacity",([t])=>a[t]),c&&g_(t,"stroke",([t])=>c[t]),l&&g_(t,"stroke-opacity",([t])=>l[t]),s&&g_(t,"stroke-width",([t])=>s[t]),u&&g_(t,"opacity",([t])=>u[t]),f&&p_(t,([t])=>f[t],n),e||function(t,n){n&&t.filter(([t])=>ug(n[t])).append("title").call(o_,n)}(t,i)}function*l_(t,n,e,r){const{z:i}=e,{z:o}=r,a=function({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:c,href:l},{tip:s}){return[t,s?void 0:n,e,r,i,o,a,c,l].filter(t=>void 0!==t)}(r,e),c=[...n,...a];for(const l of o?function(t,n,e){const r=zt(t,t=>n[t]);return void 0===e&&r.size>1+t.length>>1&&Yb("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}(t,o,i):[t]){let t,n;t:for(const e of l){for(const t of c)if(!cg(t[e])){n&&n.push(-1);continue t}if(void 0!==t){n.push(e);for(let r=0;r<a.length;++r){if(Sy(a[r][e])!==t[r]){yield n,t=a.map(t=>Sy(t[e])),n=[e];continue t}}}else n&&(yield n),t=a.map(t=>Sy(t[e])),n=[e]}n&&(yield n)}}function s_(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o="plot-clip-"+ ++e_;Ve(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const u_=s_((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:c,marginBottom:l}=e;t.append("rect").attr("x",o).attr("y",c).attr("width",r-a-o).attr("height",i-c-l)}),f_=s_((t,n)=>{const{projection:e}=n;if(!e)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",il(e)({type:"Sphere"}))});function h_(t,n,e,r){!function(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":t=Vv("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=u_(r,e);break;case"sphere":i=f_(r)}g_(t,"aria-label",n.ariaLabel),g_(t,"aria-description",n.ariaDescription),g_(t,"aria-hidden",n.ariaHidden),g_(t,"clip-path",i)}(t,n,e,r),g_(t,"class",n.className),g_(t,"fill",n.fill),g_(t,"fill-opacity",n.fillOpacity),g_(t,"stroke",n.stroke),g_(t,"stroke-width",n.strokeWidth),g_(t,"stroke-opacity",n.strokeOpacity),g_(t,"stroke-linejoin",n.strokeLinejoin),g_(t,"stroke-linecap",n.strokeLinecap),g_(t,"stroke-miterlimit",n.strokeMiterlimit),g_(t,"stroke-dasharray",n.strokeDasharray),g_(t,"stroke-dashoffset",n.strokeDashoffset),g_(t,"shape-rendering",n.shapeRendering),g_(t,"filter",n.imageFilter),g_(t,"paint-order",n.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=n;g_(t,"pointer-events",i)}function d_(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),g_(t,"opacity",n.opacity)}function p_(t,n,e){t.each(function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(Yn.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(Yn.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}})}function g_(t,n,e){null!=e&&t.attr(n,e)}function y_(t,n,{x:e,y:r},i=n_,o=n_){i+=n.dx,o+=n.dy,(null==e?void 0:e.bandwidth)&&(i+=e.bandwidth()/2),(null==r?void 0:r.bandwidth)&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function m_(t,n){if((t=oy(t))!==n)return t}function b_(t,n){if((t=ay(t))!==n)return t}const v_=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function __(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!v_.test(t))throw new Error(`invalid class name: ${t}`);return t}function x_(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function w_({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class k_{constructor(t,n={},e={},r){const{facet:i="auto",facetAnchor:o,fx:a,fy:c,sort:l,dx:s=0,dy:u=0,margin:f=0,marginTop:h=f,marginRight:d=f,marginBottom:p=f,marginLeft:g=f,className:y,clip:m=(null==r?void 0:r.clip),channels:b,tip:v,render:_}=e;if(this.data=t,this.sort=Ey(l)?l:null,this.initializer=wm(e).initializer,this.transform=this.initializer?e.transform:xm(e).transform,null===i||!1===i?this.facet=null:(this.facet=my(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===Jg&&"string"==typeof a?[a]:a,this.fy=t===Jg&&"string"==typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=kv.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(o),n=rm(n),void 0!==b&&(n={...C_(b),...n}),void 0!==r&&(n={...r_(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([n,e])=>{if(My(e.value)){const{value:t,label:n=e.label,scale:r=e.scale}=e.value;e={...e,label:n,scale:r,value:t}}if(t===Jg&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]}).filter(([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)})),this.dx=+s,this.dy=+u,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+g,this.clip=im(m),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?my(t,"tip",["x","y","xy"]):t}(v),this.className=y?__(y):null,"super"===this.facet){if(a||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=_&&(this.render=E_(_,this.render))}initialize(t,n,e){let r=by(this.data);void 0===t&&null!=r&&(t=[Ry(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=by(r)),void 0!==t&&(t.original=i);const o=function(t,n){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,Xm(n,e,t)]))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:o,reverse:a,reduce:c=!0,limit:l}=i;for(const s in i){if(!pm.has(s))continue;let{value:u,order:f=o,reverse:h=a,reduce:d=c,limit:p=l}=By(i[s]);const g=null==u?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),f=void 0===f?g!==("width"===u||"height"===u)?eb:nb:tb(f),null==d||!1===d)continue;const y="fx"===s||"fy"===s?Km(n,r[s]):Zm(e,s);if(!y)throw new Error(`missing channel for scale: ${s}`);const m=y.value,[b=0,v=1/0]=jy(p)?p:p<0?[p]:[0,p];if(null==u)y.domain=()=>{let t=Array.from(new Ot(m));return h&&(t=t.reverse()),0===b&&v===1/0||(t=t.slice(b,v)),t};else{const n="data"===u?t:"height"===u?Qm(e,"y1","y2"):"width"===u?Qm(e,"x1","x2"):Jm(e,u,"y"===u?"y2":"x"===u?"x2":void 0),r=Om(!0===d?"max":d,n);y.domain=()=>{let t=jt(Ry(m),t=>r.reduceIndex(t,n),t=>m[t]);return f&&t.sort(f),h&&t.reverse(),0===b&&v===1/0||(t=t.slice(b,v)),t.map(cy)}}}}(r,t,o,n,this.sort),{data:r,facets:t,channels:o}}filter(t,n,e){for(const r in n){const{filter:i=cg}=n[r];if(null!==i){const n=e[r];t=t.filter(t=>i(n[t]))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&jv(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map(([t,{scale:e,value:r}])=>{const i=null==e?null:n[e];return[t,null==i?r:_y(r,i)]}));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function M_(...t){return t.plot=k_.prototype.plot,t}function E_(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,c){return t.call(this,e,r,i,o,a,(t,e,r,i,o)=>n.call(this,t,e,r,i,o,c))}}function C_(t){return Object.fromEntries(Object.entries(rm(t)).map(([t,n])=>(void 0===(n="string"==typeof n?{value:n,label:t}:By(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n])))}function N_(t,n){return!0===(null==t?void 0:t.tip)?{...t,tip:n}:wy(null==t?void 0:t.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function T_({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:c,marginRightDefault:l,marginBottomDefault:s,marginLeftDefault:u}){const f=e&&e.scale.domain().length||1,h=function(t){if("function"==typeof(null==t?void 0:t.stream))return Yv;if(wy(t)){let n,e;if(({domain:n,type:t,...e}=t),null!=n&&null!=t){const r="string"==typeof t?Iv(t).type:t,[[i,o],[a,c]]=il(r({...e,width:100,height:100})).bounds(n),l=(c-o)/(a-i);return l&&isFinite(l)?l<.2?.2:l>5?5:l:Yv}}if(null!=t){if("function"!=typeof t){const{aspectRatio:n}=Iv(t);if(n)return n}return Yv}}(i);if(h){const t=(1.1*f-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*h,n=Math.max(.1,Math.min(10,t));return Math.round((a-u-l)*n+c+s)}const d=n?pv(n)?n.scale.domain().length||1:Math.max(7,17/f):1;if(null!=o){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const i=R_("y",n)/(R_("x",t)*o),f=r?r.scale.bandwidth():1,h=e?e.scale.bandwidth():1;return(i*(f*(a-u-l)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/h+c+s}return!(!n&&!e)*Math.max(1,Math.min(60,d*f))*20+30*!!r+60}function R_(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=St(r);return Math.abs(i(a)-i(o))}const A_=new WeakMap;function $_(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:c,render:l,...s}={}){return a=+a,null!=i&&(e??(e=null),c={...c,px:{value:i,scale:"x"}}),null!=o&&(r??(r=null),c={...c,py:{value:o,scale:"y"}}),{x:e,y:r,channels:c,...s,render:E_(function(e,r,i,o,c,l){const s=(c={...c,pointerSticky:!1}).ownerSVGElement,{data:u}=c.getMarkState(this);let f=A_.get(s);f||A_.set(s,f={sticky:!1,roots:[],renders:[]});let h=f.renders.push(S)-1;const{x:d,y:p,fx:g,fy:y}=r;let m=g?g(e.fx)-o.marginLeft:0,b=y?y(e.fy)-o.marginTop:0;(null==d?void 0:d.bandwidth)&&(m+=d.bandwidth()/2),(null==p?void 0:p.bandwidth)&&(b+=p.bandwidth()/2);const v=null!=e.fi;let _;if(v){let t=f.facetStates;t||(f.facetStates=t=new Map),_=t.get(this),_||t.set(this,_=new Map)}const[x,w]=w_(this,o),{px:k,py:M}=i,E=k?t=>k[t]:O_(i,x),C=M?t=>M[t]:Y_(i,w);let N,T,R,A;function $(t,n){if(v){if(A&&(A=cancelAnimationFrame(A)),null!=t)return _.set(e.fi,n),void(A=requestAnimationFrame(()=>{A=null;for(const[r,i]of _)if(i<n||i===n&&r<e.fi){t=null;break}S(t)}));_.delete(e.fi)}S(t)}function S(t){if(N===t&&R===f.sticky)return;N=t,R=c.pointerSticky=f.sticky;const n=null==N?[]:[N];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const a=l(n,r,i,o,c);if(T){if(v){const t=T.parentNode,n=T.getAttribute("transform"),e=a.getAttribute("transform");n?a.setAttribute("transform",n):a.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}T.replaceWith(a)}if(f.roots[h]=T=a,!(null==N&&(null==_?void 0:_.size)>1)){const t=null==N?null:Hg(u)?u[N]:u.get(N);c.dispatchValue(t)}return a}function L(r){if(f.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,c]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=m,c-=b;const l=i<o.marginLeft||i>o.width-o.marginRight?1:t,s=c<o.marginTop||c>o.height-o.marginBottom?1:n;let u=null,h=a*a;for(const t of e){const n=l*(E(t)-i),e=s*(C(t)-c),r=n*n+e*e;r<=h&&(u=t,h=r)}if(null!=u&&(1!==t||1!==n)){const t=E(u)-i,n=C(u)-c;h=t*t+n*n}$(u,h)}return s.addEventListener("pointerenter",L),s.addEventListener("pointermove",L),s.addEventListener("pointerdown",function(t){"mouse"===t.pointerType&&null!=N&&(f.sticky&&f.roots.some(n=>null==n?void 0:n.contains(t.target))||(f.sticky?(f.sticky=!1,f.renders.forEach(t=>t(null))):(f.sticky=!0,S(N)),t.stopImmediatePropagation()))}),s.addEventListener("pointerleave",function(t){"mouse"===t.pointerType&&(f.sticky||$(null))}),S(null)},l)}}function S_(t){return $_(1,1,t)}function L_(t){return $_(1,.01,t)}function U_(t){return $_(.01,1,t)}function O_({x1:t,x2:n,x:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Y_({y1:t,y2:n,y:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function D_(t){return pv(t)&&void 0===t.interval?void 0:"tabular-nums"}function I_(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:c=0,marginBottom:l=16+r,marginLeft:s=0,style:u,ticks:f=(i-s-c)/64,tickFormat:h,fontVariant:d=D_(t),round:p=!0,opacity:g,className:y}=n;const m=qv(n);y=__(y),g=gy(g)[1],null===h&&(h=()=>null);const b=Vv("svg",m).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(t=>t.append("style").text(`:where(.${y}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${y}-ramp text) {\n  white-space: pre;\n}`)).call(x_,u);let v,_=t=>t.selectAll(".tick line").attr("y1",a+l-o);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:w,domain:k,range:M,interpolate:E,scale:C,pivot:N}=t;if(E){const t=void 0===M?E:Ui(1===E.length?Lb(E):E,M);v=x(C.copy(),Oi(gi(s,i-c),Math.min(k.length+(void 0!==N),void 0===M?1/0:M.length)));const n=256,e=m.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,o=n-1;i<n;++i)r.fillStyle=t(i/o),r.fillRect(i,0,1,1);b.append("image").attr("opacity",g).attr("x",s).attr("y",a).attr("width",i-s-c).attr("height",o-a-l).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===w){const t=k,n=void 0===h?t=>t:"string"==typeof h?Xo(h):h;v=x(vs().domain([-1,M.length-1]),[s,i-c]),b.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",(t,n)=>v(n-1)).attr("y",a).attr("width",(t,n)=>v(n)-v(n-1)).attr("height",o-a-l).attr("fill",t=>t),f=_y(t,(t,n)=>n),h=e=>n(t[e],e)}else v=x(os().domain(k),[s,i-c]),b.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",a).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",o-a-l).attr("fill",C),_=()=>{};return b.append("g").attr("transform",`translate(0,${o-l})`).call(function(t){return Rn(0,t)}(v).ticks(Array.isArray(f)?null:f,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",m_(d,"normal")).call(_).call(t=>t.select(".domain").remove()),void 0!==e&&b.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const F_=Math.PI/180;function P_(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=z_(e),t.markerMid=z_(r),t.markerEnd=z_(i)}function z_(t){if(null==t||!1===t)return null;if(!0===t)return W_;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return B_("auto");case"arrow-reverse":return B_("auto-start-reverse");case"dot":return j_;case"circle":case"circle-fill":return W_;case"circle-stroke":return H_;case"tick":return q_("auto");case"tick-x":return q_(90);case"tick-y":return q_(0)}throw new Error(`invalid marker: ${t}`)}function B_(t){return(n,e)=>Vv("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function j_(t,n){return Vv("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function W_(t,n){return Vv("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function H_(t,n){return Vv("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function q_(t){return(n,e)=>Vv("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(t=>t.append("path").attr("d","M0,-3v6")).node()}let V_=0;function X_(t,n,{stroke:e},r){return function(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,c){if(!n&&!e&&!r)return;const l=new Map,s=a;function u(t,n,e){return function(r){if(e&&!e(r))return;const i=o(r);let a=l.get(n);a||l.set(n,a=new Map);let s=a.get(i);if(!s){const t=this.parentNode.insertBefore(n(i,c),this),e="plot-marker-"+ ++V_;t.setAttribute("id",e),a.set(i,s=`url(#${e})`)}this.setAttribute(t,s)}}n&&t.each(u("marker-start",n,s));e&&s&&t.each(u("marker-start",e,t=>!(s(t)&G_)));e&&t.each(u("marker-mid",e));r&&t.each(u("marker-end",r,s))}(t,n,e&&(t=>e[t]),null,r)}const G_=1;function Z_({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Q_(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function K_({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Q_(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Q_(t,n,e){return void 0===t&&void 0===n&&void 0===e?n_?[1,0]:[.5,.5]:[n,e]}function J_(t,{interval:n}){return(t={...By(t)}).interval=Fy(void 0===t.interval?n:t.interval),t}function tx(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:c,interval:l}=J_(i,e);if(null==c||null==l&&!r)return e;const s=Oy(i);if(null==l){let n;const i={transform:t=>n||(n=Gg(t,c)),label:s};return{...e,[t]:void 0,[`${t}1`]:void 0===o?i:o,[`${t}2`]:void 0!==a||o===a&&r?a:i}}let u,f;function h(t){return void 0!==f&&t===u?f:f=_y(Gg(u=t,c),t=>l.floor(t))}return n({...e,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:s}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map(t=>l.offset(t)),label:s}:a})}function nx(t,n,e){const{[t]:r}=e,{value:i,interval:o}=J_(r,e);return null==i||null==o?e:n({...e,[t]:{label:Oy(r),transform:t=>{const n=_y(Gg(t,i),t=>o.floor(t)),e=n.map(t=>o.offset(t));return n.map(qy(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const ex={ariaLabel:"rule",fill:null,stroke:"currentColor"};class rx extends k_{constructor(t,n={}){const{x:e,y1:r,y2:i,inset:o=0,insetTop:a=o,insetBottom:c=o}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},N_(n,"x"),ex),this.insetTop=ay(a),this.insetBottom=ay(c),P_(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y1:l,y2:s}=e,{width:u,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetTop:y,insetBottom:m}=this;return Vv("svg:g",i).call(h_,this,r,i).call(y_,this,{x:c&&o},n_,0).call(n=>n.selectAll().data(t).enter().append("line").call(d_,this).attr("x1",c?t=>c[t]:(p+u-d)/2).attr("x2",c?t=>c[t]:(p+u-d)/2).attr("y1",l&&!yv(a)?t=>l[t]+y:h+y).attr("y2",s&&!yv(a)?a.bandwidth?t=>s[t]+a.bandwidth()-m:t=>s[t]-m:f-g-m).call(a_,this,e).call(X_,this,e,i)).node()}}class ix extends k_{constructor(t,n={}){const{x1:e,x2:r,y:i,inset:o=0,insetRight:a=o,insetLeft:c=o}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},N_(n,"y"),ex),this.insetRight=ay(a),this.insetLeft=ay(c),P_(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{y:c,x1:l,x2:s}=e,{width:u,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetLeft:y,insetRight:m}=this;return Vv("svg:g",i).call(h_,this,r,i).call(y_,this,{y:c&&a},0,n_).call(n=>n.selectAll().data(t).enter().append("line").call(d_,this).attr("x1",l&&!yv(o)?t=>l[t]+y:p+y).attr("x2",s&&!yv(o)?o.bandwidth?t=>s[t]+o.bandwidth()-m:t=>s[t]-m:u-d-m).attr("y1",c?t=>c[t]:(h+f-g)/2).attr("y2",c?t=>c[t]:(h+f-g)/2).call(a_,this,e).call(X_,this,e,i)).node()}}function ox(t,n){let{x:e=ey,y:r,y1:i,y2:o,...a}=function(t={}){return tx("y",K_,t)}(n);return[i,o]=cx(r,i,o),new rx(t,{...a,x:e,y1:i,y2:o})}function ax(t,n){let{y:e=ey,x:r,x1:i,x2:o,...a}=function(t={}){return tx("x",Z_,t)}(n);return[i,o]=cx(r,i,o),new ix(t,{...a,y:e,x1:i,x2:o})}function cx(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function lx(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)"function"!=typeof n[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const sx={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class ux extends k_{constructor(t,n={}){const{x:e,y:r,text:i=(jy(t)&&Wy(t)?ey:ny),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:c=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:l=1,lineWidth:s=1/0,textOverflow:u,monospace:f,fontFamily:h=(f?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,rotate:m}=n,[b,v]=gy(m,0),[_,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),mx.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);var w;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:(w=b,null==w?null:{transform:t=>Gg(t,w,Float64Array),label:Oy(w)}),optional:!0},text:{value:i,filter:ug,optional:!0}},n,sx),this.rotate=v,this.textAnchor=m_(a,"middle"),this.lineAnchor=my(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+s,this.textOverflow=fx(u),this.monospace=!!f,this.fontFamily=oy(h),this.fontSize=x,this.fontStyle=oy(p),this.fontVariant=oy(g),this.fontWeight=oy(y),this.frameAnchor=em(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=wx(this),this.clipLine=kx(this)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:l,rotate:s,text:u,title:f,fontSize:h}=e,{rotate:d}=this,[p,g]=w_(this,r);return Vv("svg:g",i).call(h_,this,r,i).call(yx,this,u,r).call(y_,this,{x:c&&o,y:l&&a}).call(n=>n.selectAll().data(t).enter().append("text").call(d_,this).call(hx,this,u,f).attr("transform",lx`translate(${c?t=>c[t]:p},${l?t=>l[t]:g})${s?t=>` rotate(${s[t]})`:d?` rotate(${d})`:""}`).call(g_,"font-size",h&&(t=>h[t])).call(a_,this,e)).node()}}function fx(t){return null==t?null:my(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function hx(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:c,clipLine:l}=n;t.each(function(t){const n=c(t_(e[t])??"").map(l),s=n.length,u="top"===i?.71:"bottom"===i?1-s:(164-100*s)/200;if(s>1){let t=0;for(let e=0;e<s;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(Yn.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(u+e)*o+"em"):r.setAttribute("dy",t*o+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else u&&this.setAttribute("y",u*o+"em"),this.textContent=n[0];if(a&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(Yn.svg,"title");n.textContent=e[t],this.appendChild(n)}})}function dx(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Cy(n,e)),new ux(t,{...r,x:n,y:e})}function px(t,{x:n=ey,...e}={}){return new ux(t,function(t={}){return nx("y",K_,t)}({...e,x:n}))}function gx(t,{y:n=ey,...e}={}){return new ux(t,function(t={}){return nx("x",Z_,t)}({...e,y:n}))}function yx(t,n,e){g_(t,"text-anchor",n.textAnchor),g_(t,"font-family",n.fontFamily),g_(t,"font-size",n.fontSize),g_(t,"font-style",n.fontStyle),g_(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"==typeof n}(t)||qy(t))?"tabular-nums":void 0}(e):n.fontVariant),g_(t,"font-weight",n.fontWeight)}const mx=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function bx(t,n,e){const r=[];let i,o=0;for(const[a,c,l]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case"":case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=a),o>i&&e(t,i,c)>n&&(r.push(t.slice(i,o)+(""===t[o-1]?"-":"")),i=a),l?(r.push(t.slice(i,c)),i=void 0):o=c;return r}const vx={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function _x(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ax(t,i))r+=vx[t[i]]??(Sx(t,i)?120:vx.e);return r}function xx(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ax(t,i))r+=Sx(t,i)?126:63;return r}function wx({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?xx:_x,i=100*n;return t=>bx(t,i,r)}function kx({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const r=t?xx:_x,i=100*n;switch(e){case"clip-start":return t=>Nx(t,i,r,"");case"clip-end":return t=>Cx(t,i,r,"");case"ellipsis-start":return t=>Nx(t,i,r,Mx);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,c]=Ex(t,n/2,e,o),[l]=Ex(t,i-n/2-c+o,e,-o);return l<0?r:t.slice(0,a).trimEnd()+r+t.slice(Ax(t,l)).trimStart()}(t,i,r,Mx);case"ellipsis-end":return t=>Cx(t,i,r,Mx)}}const Mx="";function Ex(t,n,e,r){const i=[];let o=0;for(let a=0,c=0,l=t.length;a<l;a=c){c=Ax(t,a);const l=e(t,a,c);if(o+l>n){for(o+=r;o>n&&a>0;)c=a,a=i.pop(),o-=e(t,a,c);return[a,n-o]}o+=l,i.push(a)}return[-1,0]}function Cx(t,n,e,r){t=t.trim();const i=e(r),[o]=Ex(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function Nx(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const o=e(r),[a]=Ex(t,i-n+o,e,-o);return a<0?r:r+t.slice(Ax(t,a)).trimStart()}const Tx=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Rx=new RegExp("\\p{Extended_Pictographic}","uy");function Ax(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!$x(t,n)&&(Tx.lastIndex=n,Tx.test(t))}(t,n)&&(n=Tx.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?Ax(t,n+1):n}function $x(t,n){return t.charCodeAt(n)<128}function Sx(t,n){return!$x(t,n)&&(Rx.lastIndex=n,Rx.test(t))}const Lx={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Ux=3.5,Ox=5*Ux,Yx={draw(t,n,e){const r=n*e/Ox;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Dx=new Map([["arrow",Yx],["spike",{draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}}]]);class Ix extends k_{constructor(t,n={}){const{x:e,y:r,r:i=Ux,length:o,rotate:a,shape:c=Yx,anchor:l="middle",frameAnchor:s}=n,[u,f]=gy(o,12),[h,d]=gy(a,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:u,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,Lx),this.r=+i,this.length=f,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=Dx.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=my(l,"anchor",["start","middle","end"]),this.frameAnchor=em(s)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:l,length:s,rotate:u}=e,{length:f,rotate:h,anchor:d,shape:p,r:g}=this,[y,m]=w_(this,r);return Vv("svg:g",i).call(h_,this,r,i).call(y_,this,{x:c&&o,y:l&&a}).call(n=>n.selectAll().data(t).enter().append("path").call(d_,this).attr("transform",lx`translate(${c?t=>c[t]:y},${l?t=>l[t]:m})${u?t=>` rotate(${u[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?s?t=>` translate(0,${s[t]})`:` translate(0,${f})`:s?t=>` translate(0,${s[t]/2})`:` translate(0,${f/2})`}`).attr("d",s?t=>{const n=Do();return p.draw(n,s[t],g),n}:(()=>{const t=Do();return p.draw(t,f,g),t})()).call(a_,this,e)).node()}}function Fx(t,n={}){const{x:e=ey,...r}=n;return new Ix(t,{...r,x:e})}function Px(t,n={}){const{y:e=ey,...r}=n;return new Ix(t,{...r,y:e})}function zx(t,n){return arguments.length<2&&!jy(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function Bx({anchor:t}={},n){return void 0===t?n[0]:my(t,"anchor",n)}function jx(t){return Bx(t,["left","right"])}function Wx(t){return Bx(t,["right","left"])}function Hx(t){return Bx(t,["bottom","top"])}function qx(t){return Bx(t,["top","bottom"])}function Vx(){const[t,n]=zx(...arguments);return Kx("y",jx(n),t,n)}function Xx(){const[t,n]=zx(...arguments);return Kx("fy",Wx(n),t,n)}function Gx(){const[t,n]=zx(...arguments);return Qx("x",Hx(n),t,n)}function Zx(){const[t,n]=zx(...arguments);return Qx("fx",qx(n),t,n)}function Kx(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:l=r,fillOpacity:s=i,textAnchor:u,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:y,x:m,margin:b,marginTop:v=(void 0===b?20:b),marginRight:_=(void 0===b?"right"===n?40:0:b),marginBottom:x=(void 0===b?20:b),marginLeft:w=(void 0===b?"left"===n?40:0:b),label:k,labelAnchor:M,labelArrow:E,labelOffset:C,...N}){return p=ay(p),g=ay(g),y=ay(y),void 0!==M&&(M=my(M,"labelAnchor",["center","top","bottom"])),E=mw(E),M_(p&&!Jy(o)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+("y"===t?"-empty":""),frameAnchor:c=n,tickSize:l,inset:s=0,insetLeft:u=s,insetRight:f=s,dx:h=0,y:d=("y"===t?void 0:null),...p}){return cw(Px,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:c,y:d,...p,dx:"left"===n?+h-n_+ +u:+h+n_-f,anchor:"start",length:l,shape:"left"===n?dw:pw})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:y,x:m,...N}):null,Jy(l)?null:function(t,n,e,{facetAnchor:r=n+("y"===t?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*F_):0),text:l,textAnchor:s=(Math.abs(a)>60?"middle":"left"===n?"end":"start"),lineAnchor:u=(a>60?"top":a<-60?"bottom":"middle"),fontVariant:f,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:g=0,y:y=("y"===t?void 0:null),...m}){return cw(gx,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:l,textAnchor:s,lineAnchor:u,fontVariant:f,rotate:a,y:y,...m,dx:"left"===n?+g-o-c+ +d:+g+ +o+ +c-p},function(t,e,r,i,o){void 0===f&&(this.fontVariant=gw(t)),void 0===l&&(o.text=lw(t,e,r,i,n))})}(t,n,e,{fill:l,fillOpacity:s,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:y,x:m,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,...N}),Jy(l)||null===k?null:dx([],aw({fill:l,fillOpacity:s,...N},function(e,r,i,o,a){const c=o[t],{marginTop:l,marginRight:s,marginBottom:u,marginLeft:f}="y"===t&&a.inset||a,h=M??(c.bandwidth?"center":"top"),d=C??("right"===n?s:f)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${n}`,this.rotate=0),this.dy="top"===h?3-l:"bottom"===h?u-3:0,this.dx="right"===n?d:-d,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[yw(t,c,{anchor:n,label:k,labelAnchor:h,labelArrow:E})]}}}})))}function Qx(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:l=r,fillOpacity:s=i,textAnchor:u,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:y,y:m,margin:b,marginTop:v=(void 0===b?"top"===n?30:0:b),marginRight:_=(void 0===b?20:b),marginBottom:x=(void 0===b?"bottom"===n?30:0:b),marginLeft:w=(void 0===b?20:b),label:k,labelAnchor:M,labelArrow:E,labelOffset:C,...N}){return p=ay(p),g=ay(g),y=ay(y),void 0!==M&&(M=my(M,"labelAnchor",["center","left","right"])),E=mw(E),M_(p&&!Jy(o)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+("x"===t?"-empty":""),frameAnchor:c=n,tickSize:l,inset:s=0,insetTop:u=s,insetBottom:f=s,dy:h=0,x:d=("x"===t?void 0:null),...p}){return cw(Fx,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:c,x:d,...p,dy:"bottom"===n?+h-n_-f:+h+n_+ +u,anchor:"start",length:l,shape:"bottom"===n?fw:hw})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:y,y:m,...N}):null,Jy(l)?null:function(t,n,e,{facetAnchor:r=n+("x"===t?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*F_):0),text:l,textAnchor:s=(Math.abs(a)>=10?a<0^"bottom"===n?"start":"end":"middle"),lineAnchor:u=(Math.abs(a)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:f,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:g=0,x:y=("x"===t?void 0:null),...m}){return cw(px,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:void 0===l?null:l,textAnchor:s,lineAnchor:u,fontVariant:f,rotate:a,x:y,...m,dy:"bottom"===n?+g+ +o+ +c-p:+g-o-c+ +d},function(t,e,r,i,o){void 0===f&&(this.fontVariant=gw(t)),void 0===l&&(o.text=lw(t,e,r,i,n))})}(t,n,e,{fill:l,fillOpacity:s,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:y,y:m,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,...N}),Jy(l)||null===k?null:dx([],aw({fill:l,fillOpacity:s,...N},function(e,r,i,o,a){const c=o[t],{marginTop:l,marginRight:s,marginBottom:u,marginLeft:f}="x"===t&&a.inset||a,h=M??(c.bandwidth?"center":"right"),d=C??("top"===n?l:u)-3;return"center"===h?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-d:d,this.dx="right"===h?s-3:"left"===h?3-f:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[yw(t,c,{anchor:n,label:k,labelAnchor:h,labelArrow:E})]}}}})))}function Jx(){const[t,n]=zx(...arguments);return rw("y",jx(n),t,n)}function tw(){const[t,n]=zx(...arguments);return rw("fy",Wx(n),t,n)}function nw(){const[t,n]=zx(...arguments);return iw("x",Hx(n),t,n)}function ew(){const[t,n]=zx(...arguments);return iw("fx",qx(n),t,n)}function rw(t,n,e,{y:r=("y"===t?void 0:null),x:i=null,x1:o=("left"===n?i:null),x2:a=("right"===n?i:null),...c}){return cw(ax,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...ow(c)})}function iw(t,n,e,{x:r=("x"===t?void 0:null),y:i=null,y1:o=("top"===n?i:null),y2:a=("bottom"===n?i:null),...c}){return cw(ox,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...ow(c)})}function ow({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function aw({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:l,shapeRendering:s,clip:u=!1},f){return[,t]=py(t),[,n]=gy(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:l,shapeRendering:s,clip:u,initializer:f}}function cw(t,n,e,r,i,o){let a;const c=wm(i).initializer,l=t(e,wm({...i,initializer:function(t,e,r,c,l,s){const u=null==t&&("fx"===n||"fy"===n),{[n]:f}=c;if(!f)throw new Error(`missing scale: ${n}`);const h=f.domain();let{interval:d,ticks:p,tickFormat:g,tickSpacing:y=("x"===n?80:35)}=i;if("string"==typeof p&&bw(f)&&(d=p,p=void 0),void 0===p&&(p=Py(d,f.type)??function(t,n){const[e,r]=St(t.range());return(r-e)/n}(f,y)),null==t){if(jy(p))t=vy(p);else if(zy(p))t=uw(p,...St(h));else if(f.interval){let n=f.interval;if(f.ticks){const[e,r]=St(h);n=Fg(n,(r-e)/n[Ag]/p)??n,t=uw(n,e,r)}else{n=Fg(n,(t=h).length/p)??n,n!==f.interval&&(t=uw(n,...St(t)))}if(n===f.interval){const n=Math.round(t.length/p);n>1&&(t=t.filter((t,e)=>e%n===0))}}else t=f.ticks?f.ticks(p):h;if(!f.ticks&&t.length&&t!==h){const e=new Ot(h);(t=t.filter(t=>e.has(t))).length||Yb(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===n||"x"===n?e=[Ry(t)]:a[n]={scale:n,value:ey}}null==o||o.call(this,f,t,p,g,a);const m=Object.fromEntries(Object.entries(a).map(([n,e])=>[n,{...e,value:Gg(t,e.value)}]));return u&&(e=s.filterFacets(t,m)),{data:t,facets:e,channels:m}}},c));return null==e?(a=l.channels,l.channels={}):a={},void 0!==r&&Object.assign(l,r),void 0===l.clip&&(l.clip=!1),l}function lw(t,n,e,r,i){return{value:sw(t,n,e,r,i)}}function sw(t,n,e,r,i){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&n&&qy(n)?zg(t.type,n,i)??t_:t.tickFormat?t.tickFormat("number"==typeof e?e:null,r):void 0===r?t_:"string"==typeof r?(qy(t.domain())?Yu:Xo)(r):sy(r):r}function uw(t,n,e){return t.range(n,t.offset(t.floor(e)))}const fw={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},hw={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},dw={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},pw={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function gw(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function yw(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(null==r||r.inferred&&bw(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===o&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(!0===o){const e=function(t){return Math.sign(bg(t.domain()))*Math.sign(bg(t.range()))}(n);e&&(o=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return"right"===e?`${r} `:` ${r}`;case"down":return"right"===e?`${r} `:` ${r}`}return r}}function mw(t="auto"){return!Jy(t)&&("boolean"==typeof t?t:my(t,"labelArrow",["auto","up","right","down","left"]))}function bw(t){return qy(t.domain())}function vw(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function _w(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=D_(t),swatchSize:a=15,swatchWidth:c=a,swatchHeight:l=a,marginLeft:s=0,className:u,style:f,width:h}=n;const d=qv(n);u=__(u),i=sw(t.scale,t.domain,void 0,i);const p=Vv("div",d).attr("class",`${u}-swatches ${u}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`:where(.${u}-swatches-columns .${u}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${u}-swatches-columns .${u}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${u}-swatches-columns .${u}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,c,l).call(t=>t.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${u}-swatches-wrap .${u}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,c,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(t=>t.insert("style","*").text(`:where(.${u}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${u}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`)).style("margin-left",s?+s+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",m_(o,"normal")).call(x_,f).node()}const xw=new Map([["symbol",function(t,{fill:n=(void 0!==(n=>null==(n=t.hint)?void 0:n.fill)()?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==(n=>null==(n=t.hint)?void 0:n.stroke)()?t.hint.stroke:Jy(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...c}={},l){const[s,u]=py(n),[f,h]=py(r),d=vw(l,s),p=vw(l,f),g=a*a*Math.PI;return e=gy(e)[1],i=gy(i)[1],o=gy(o)[1],_w(t,c,(n,r,a,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",c).attr("fill","color"===s?t=>d.scale(t):u).attr("fill-opacity",e).attr("stroke","color"===f?t=>p.scale(t):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",n=>{const e=Do();return t.scale(n).draw(e,g),e}))}],["color",kw],["opacity",function({type:t,interpolate:n,...e},{legend:r=!0,color:i=yr(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return kw({type:t,...e,interpolate:Mw(i)},{legend:r,...o})}]]);function ww({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return function(t={},...n){let e=t;for(const r of n)for(const n in r)if(void 0===e[n]){const i=r[n];e===t?e={...e,[n]:i}:e[n]=i}return e}(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function kw(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!pv(t)&&!gv(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return _w(t,e,(t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",gy(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}(t,e);case"ramp":return I_(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function Mw(t){const{r:n,g:e,b:r}=yr(t)||yr(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}function Ew(t={},n={}){1===arguments.length&&([t,n]=function(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}(t));const{x1:e,x:r=e,y:i,...o}=n,[a,c,l,s]=function(t,n=ry,e,r,{offset:i,order:o,reverse:a},c){if(null===n)throw new Error(`stack requires ${r}`);const l=Ny(c),[s,u]=Uy(t),[f,h]=Ly(n),[d,p]=Ly(n);return f.hint=d.hint=Nw,i=function(t){if(null==t)return;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return Rw;case"center":case"silhouette":return Aw;case"wiggle":return $w}throw new Error(`unknown offset: ${t}`)}(i),o=function(t,n,e){if(void 0===t&&n===$w)return Uw(lg);if(null==t)return;if("string"==typeof t){const n=t.startsWith("-"),r=n?sg:lg;switch((n?t.slice(1):t).toLowerCase()){case"value":case e:return function(t){return(n,e,r)=>(n,e)=>t(r[n],r[e])}(r);case"z":return function(t){return(n,e,r,i)=>(n,e)=>t(i[n],i[e])}(r);case"sum":return function(t){return Dw(t,(t,n,e,r)=>Xt(Ry(t),t=>xn(t,t=>e[t]),t=>r[t]))}(r);case"appearance":return function(t){return Dw(t,(t,n,e,r)=>Xt(Ry(t),t=>n[un(t,t=>e[t])],t=>r[t]))}(r);case"inside-out":return Uw(r)}return Ow(ty(t))}if("function"==typeof t)return(1===t.length?Ow:Yw)(t);if(Hg(t))return r=t,Dw(lg,()=>r);var r;throw new Error(`invalid order: ${t}`)}(o,i,r),[xm(c,(r,c,s)=>{({data:r,facets:c}=function(t,n){if(1===n.length)return{data:t,facets:n};const e=Ty(t),r=new Uint8Array(e);let i=0;for(const c of n)for(const t of c)r[t]&&++i,r[t]=1;if(0===i)return{data:t,facets:n};const o=(t=xy(t))[Xg]=new Uint32Array(e+i);n=n.map(t=>xy(t,Uint32Array));let a=e;r.fill(0);for(const c of n)for(let n=0,e=c.length;n<e;++n){const e=c[n];r[e]?(c[n]=a,t[a]=t[e],o[a]=e,++a):o[e]=e,r[e]=1}return{data:t,facets:n}}(r,c));const f=null==t?void 0:u(Dy(Gg(r,t),null==s?void 0:s[e])),d=Gg(r,n,Float64Array),g=Gg(r,l),y=o&&o(r,f,d,g),m=Ty(r),b=h(new Float64Array(m)),v=p(new Float64Array(m)),_=[];for(const t of c){const n=f?Array.from(zt(t,t=>f[t]).values()):[t];if(y)for(const t of n)t.sort(y);for(const t of n){let n=0,e=0;a&&t.reverse();for(const r of t){const t=d[r];t<0?n=v[r]=(b[r]=n)+t:t>0?e=v[r]=(b[r]=e)+t:v[r]=b[r]=e}}_.push(n)}return i&&i(_,b,v,g),{data:r,facets:c}}),s,f,d]}(r,i,"x","y",t,o);return{...a,x1:e,x:c,y1:l,y2:s,y:Yy(l,s)}}function Cw({y:t,y1:n,y2:e,...r}={}){return r=N_(r,"x"),void 0===n&&void 0===e?Ew({y:t,...r}):([n,e]=function(t,n,e,r=ey){return void 0===n&&void 0===e?(n=0,e=void 0===t?r:t):void 0===n?n=void 0===t?0:t:void 0===e&&(e=void 0===t?0:t),[n,e]}(t,n,e),{...r,y1:n,y2:e})}const Nw={length:!0};function Tw(t,n){let e=0,r=0;for(const i of t){const t=n[i];t<e&&(e=t),t>r&&(r=t)}return[e,r]}function Rw(t,n,e){for(const r of t)for(const t of r){const[r,i]=Tw(t,e);for(const o of t){const t=1/(i-r||1);n[o]=t*(n[o]-r),e[o]=t*(e[o]-r)}}}function Aw(t,n,e){for(const r of t){for(const t of r){const[r,i]=Tw(t,e);for(const o of t){const t=(i+r)/2;n[o]-=t,e[o]-=t}}Sw(r,n,e)}Lw(t,n,e)}function $w(t,n,e,r){for(const i of t){const t=new Ut;let o=0;for(const a of i){let i=-1;const c=a.map(t=>Math.abs(e[t]-n[t])),l=a.map(o=>{i=r?r[o]:++i;const a=e[o]-n[o],c=t.has(i)?a-t.get(i):0;return t.set(i,a),c}),s=[0,...Rt(l)];for(const t of a)n[t]+=o,e[t]+=o;const u=xn(c);u&&(o-=xn(c,(t,n)=>(l[n]/2+s[n])*t)/u)}Sw(i,n,e)}Lw(t,n,e)}function Sw(t,n,e){const r=an(t,t=>an(t,t=>n[t]));for(const i of t)for(const t of i)n[t]-=r,e[t]-=r}function Lw(t,n,e){const r=t.length;if(1===r)return;const i=t.map(t=>t.flat()),o=i.map(t=>(an(t,t=>n[t])+rn(t,t=>e[t]))/2),a=an(o);for(let c=0;c<r;c++){const t=a-o[c];for(const r of i[c])n[r]+=t,e[r]+=t}}function Uw(t){return Dw(t,(t,n,e,r)=>{const i=Ry(t),o=Xt(i,t=>n[un(t,t=>e[t])],t=>r[t]),a=Bt(i,t=>xn(t,t=>e[t]),t=>r[t]),c=[],l=[];let s=0;for(const u of o)s<0?(s+=a.get(u),c.push(u)):(s-=a.get(u),l.push(u));return l.reverse().concat(c)})}function Ow(t){return n=>{const e=Gg(n,t);return(t,n)=>lg(e[t],e[n])}}function Yw(t){return n=>Hg(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function Dw(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Ut(n(e,r,i,o).map((t,n)=>[t,n]));return(n,e)=>t(a.get(o[n]),a.get(o[e]))}}function Iw(t,n,e,r,i,o){const{rx1y1:a,rx1y2:c,rx2y1:l,rx2y2:s}=o;"function"!=typeof n&&(n=sy(n)),"function"!=typeof e&&(e=sy(e)),"function"!=typeof r&&(r=sy(r)),"function"!=typeof i&&(i=sy(i));const u=Math.max(Math.abs(a+l),Math.abs(c+s)),f=Math.max(Math.abs(a+c),Math.abs(l+s));t.attr("d",t=>{const o=n(t),h=e(t),d=r(t),p=i(t),g=o>d,y=h>p,m=g?d:o,b=g?o:d,v=y?p:h,_=y?h:p,x=Math.min(1,(b-m)/u,(_-v)/f),w=x*(g?y?s:l:y?c:a),k=x*(g?y?c:a:y?s:l),M=x*(g?y?a:c:y?l:s),E=x*(g?y?l:s:y?a:c);return`M${m},${v+Pw(w,E)}A${w},${w} 0 0 ${w<0?0:1} ${m+Fw(w,E)},${v}H${b-Fw(k,M)}A${k},${k} 0 0 ${k<0?0:1} ${b},${v+Pw(k,M)}V${_-Pw(M,k)}A${M},${M} 0 0 ${M<0?0:1} ${b-Fw(M,k)},${_}H${m+Fw(E,w)}A${E},${E} 0 0 ${E<0?0:1} ${m},${_-Pw(E,w)}Z`})}function Fw(t,n){return n<0?t:Math.abs(t)}function Pw(t,n){return n<0?Math.abs(t):t}const zw={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Bw={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class jw extends k_{constructor(t={}){const{anchor:n=null}=t;super(Jg,void 0,t,null==n?zw:Bw),this.anchor=yy(n,"anchor",["top","right","bottom","left"]),function(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=ay(e),t.insetRight=ay(r),t.insetBottom=ay(i),t.insetLeft=ay(o)}(this,t),n||function(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:c=n,rx1y1:l=(void 0!==i?+i:void 0!==o?+o:0),rx1y2:s=(void 0!==i?+i:void 0!==c?+c:0),rx2y1:u=(void 0!==a?+a:void 0!==o?+o:0),rx2y2:f=(void 0!==a?+a:void 0!==c?+c:0)}={}){l||s||u||f?(t.rx1y1=l,t.rx1y2=s,t.rx2y1=u,t.rx2y2=f):(t.rx=m_(e,"auto"),t.ry=m_(r,"auto"))}(this,t)}render(t,n,e,r,i){const{marginTop:o,marginRight:a,marginBottom:c,marginLeft:l,width:s,height:u}=r,{anchor:f,insetTop:h,insetRight:d,insetBottom:p,insetLeft:g}=this,{rx:y,ry:m,rx1y1:b,rx1y2:v,rx2y1:_,rx2y2:x}=this,w=l+g,k=s-a-d,M=o+h,E=u-c-p;return Vv(f?"svg:line":b||v||_||x?"svg:path":"svg:rect",i).datum(0).call(h_,this,r,i).call(d_,this).call(a_,this,e).call(y_,this,{}).call("left"===f?t=>t.attr("x1",w).attr("x2",w).attr("y1",M).attr("y2",E):"right"===f?t=>t.attr("x1",k).attr("x2",k).attr("y1",M).attr("y2",E):"top"===f?t=>t.attr("x1",w).attr("x2",k).attr("y1",M).attr("y2",M):"bottom"===f?t=>t.attr("x1",w).attr("x2",k).attr("y1",E).attr("y2",E):b||v||_||x?t=>t.call(Iw,w,M,k,E,this):t=>t.attr("x",w).attr("y",M).attr("width",k-w).attr("height",E-M).attr("rx",y).attr("ry",m)).node()}}const Ww={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Hw=new Set(["geometry","href","src","ariaLabel","scales"]);class qw extends k_{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&jy(t)&&Wy(t)&&(n={...n,title:ey});const{x:e,y:r,x1:i,x2:o,y1:a,y2:c,anchor:l,preferredAnchor:s="bottom",monospace:u,fontFamily:f=(u?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:d,fontVariant:p,fontWeight:g,lineHeight:y=1,lineWidth:m=20,frameAnchor:b,format:v,textAnchor:_="start",textOverflow:x,textPadding:w=8,title:k,pointerSize:M=12,pathFilter:E="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=o?null:e,scale:"x",optional:!0},y:{value:null!=a&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==c},x2:{value:o,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==a},title:{value:k,optional:!0}},n,Ww),this.anchor=nm(l,"anchor"),this.preferredAnchor=nm(s,"preferredAnchor"),this.frameAnchor=em(b),this.textAnchor=m_(_,"middle"),this.textPadding=+w,this.pointerSize=+M,this.pathFilter=oy(E),this.lineHeight=+y,this.lineWidth=+m,this.textOverflow=fx(x),this.monospace=!!u,this.fontFamily=oy(f),this.fontSize=ay(h),this.fontStyle=oy(d),this.fontVariant=oy(p),this.fontWeight=oy(g);for(const C in Ww)C in this.channels&&(this[C]=Ww[C]);this.splitLines=wx(this),this.clipLine=kx(this),this.format="string"==typeof v||"function"==typeof v?{title:v}:{...v}}render(t,n,e,r,i){const o=this,{x:a,y:c,fx:l,fy:s}=n,{ownerSVGElement:u,document:f}=i,{anchor:h,monospace:d,lineHeight:p,lineWidth:g}=this,{textPadding:y,pointerSize:m,pathFilter:b}=this,{marginTop:v,marginLeft:_}=r,{x1:x,y1:w,x2:k,y2:M,x:E=x??k,y:C=w??M}=e,N=l?l(t.fx)-_:0,T=s?s(t.fy)-v:0,[R,A]=w_(this,r),$=O_(e,R),S=Y_(e,A),L=d?xx:_x,U=L(Mx);let O,Y;"title"in e?(O=Xw.call(this,{title:e.channels.title},n),Y=Zw):(O=Xw.call(this,e.channels,n),Y=Kw);const D=Vv("svg:g",i).call(h_,this,r,i).call(yx,this).call(y_,this,{x:E&&a,y:C&&c}).call(r=>r.selectAll().data(t).enter().append("g").attr("transform",t=>`translate(${Math.round($(t))},${Math.round(S(t))})`).call(d_,this).call(t=>t.append("path").attr("filter",b)).call(r=>r.append("text").each(function(r){const i=Ve(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=Y.call(o,r,t,O,n,e);if("string"==typeof a)for(const t of o.splitLines(a))I(i,{value:o.clipLine(t)});else{const t=new Set;for(const n of a){const{label:e=""}=n;e&&t.has(e)||(t.add(e),I(i,n))}}})));function I(t,{label:n,value:e,color:r,opacity:i}){n??(n=""),e??(e="");const o=null!=r||null!=i;let a,c=100*g;const[l]=Ex(n,c,L,U);if(l>=0)n=n.slice(0,l).trimEnd()+Mx,a=e.trim(),e="";else{(n||!e&&!o)&&(e=" "+e);const[t]=Ex(e,c-L(n),L,U);t>=0&&(a=e.trim(),e=e.slice(0,t).trimEnd()+Mx)}const s=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("");n&&s.append("tspan").attr("font-weight","bold").text(n),e&&s.append(()=>f.createTextNode(e)),o&&s.append("tspan").text(" ").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),a&&s.append("title").text(a)}function F(){const{width:t,height:n}=r.facet??r;D.selectChildren().each(function(e){let{x:r,width:i,height:a}=this.getBBox();i=Math.round(i),a=Math.round(a);let c=h;if(void 0===c){const r=$(e)+N,l=S(e)+T,s=r+i+m+2*y<t,u=r-i-m-2*y>0,f=l+a+m+2*y<n,h=l-a-m-2*y>0;c=s&&u?f&&h?o.preferredAnchor:h?"bottom":"top":f&&h?s?"left":"right":(s||u)&&(f||h)?`${h?"bottom":"top"}-${s?"left":"right"}`:o.preferredAnchor}const l=this.firstChild,s=this.lastChild;if(l.setAttribute("d",function(t,n,e,r,i){const o=r+2*e,a=i+2*e;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}(c,m,y,i,a)),r)for(const t of s.childNodes)t.setAttribute("x",-r);s.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,s.childNodes.length,p).toFixed(6)+"em"),s.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,m,y,i,a)})`)}),D.attr("visibility",null)}return t.length&&(D.attr("visibility","hidden"),u.isConnected?Promise.resolve().then(F):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(F)),D.node()}}function Vw(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Cy(n,e)),new qw(t,{...r,x:n,y:e})}function Xw(t,n){var e,r;const i={};let o=this.format;o=Gw(o,t,"x"),o=Gw(o,t,"y"),this.format=o;for(const a in o){const n=o[a];if(null!==n&&!1!==n)if("fx"===a||"fy"===a)i[a]=!0;else{const n=rb(t,a);n&&(i[a]=n)}}for(const a in t){if(a in i||a in o||Hw.has(a))continue;if(("x"===a||"y"===a)&&t.geometry)continue;const n=rb(t,a);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;i[a]=n}}this.facet&&(n.fx&&!("fx"in o)&&(i.fx=!0),n.fy&&!("fy"in o)&&(i.fy=!0));for(const a in i){const t=this.format[a];if("string"==typeof t){const o=(null==(e=i[a])?void 0:e.value)??(null==(r=n[a])?void 0:r.domain())??[];this.format[a]=(qy(o)?Yu:Xo)(t)}else if(void 0===t||!0===t){const t=n[a];this.format[a]=(null==t?void 0:t.bandwidth)?sw(t,t.domain()):t_}}return i}function Gw(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if(!(!(r in t)&&r in n||!(i in t)&&i in n))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([t])=>t===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function Zw(t,n,{title:e}){return this.format.title(e.value[t],t)}function*Kw(t,n,e,r,i){for(const o in e){if("fx"===o||"fy"===o){yield{label:tk(r,e,o),value:this.format[o](n[o],t)};continue}if("x1"===o&&"x2"in e)continue;if("y1"===o&&"y2"in e)continue;const a=e[o];if("x2"===o&&"x1"in e)yield{label:Jw(r,e,"x"),value:Qw(this.format.x2,e.x1,a,t)};else if("y2"===o&&"y1"in e)yield{label:Jw(r,e,"y"),value:Qw(this.format.y2,e.y1,a,t)};else{const n=a.value[t],c=a.scale;if(!cg(n)&&null==c)continue;yield{label:tk(r,e,o),value:this.format[o](n,t),color:"color"===c?i[o][t]:null,opacity:"opacity"===c?i[o][t]:null}}}}function Qw(t,n,e,r){var i;return(null==(i=e.hint)?void 0:i.length)?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function Jw(t,n,e){const r=tk(t,n,`${e}1`,e),i=tk(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function tk(t,n,e,r=e){const i=n[e],o=t[(null==i?void 0:i.scale)??e];return String((null==o?void 0:o.label)??(null==i?void 0:i.label)??r)}function nk(t={}){var n;const{facet:e,style:r,title:i,subtitle:o,caption:a,ariaLabel:c,ariaDescription:l}=t,s=__(t.className),u=void 0===t.marks?[]:rk(t.marks);u.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?L_:/^y$/i.test(r)?U_:S_,t=r(hk(e,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===U_?"left":"bottom");const o=Vw(e.data,t);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}(u));const f=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=by(t.data);if(null==i)throw new Error("missing facet data");const o={};null!=e&&(o.fx=Xm(i,{value:e,scale:"fx"}));null!=r&&(o.fy=Xm(i,{value:r,scale:"fy"}));ak(o,n);const a=xv(i,o);return{channels:o,groups:a,data:t.data}}(e,t),h=new Map;for(const Y of u){const n=fk(Y,f,t);n&&h.set(Y,n)}const d=new Map;f&&sk(d,[f],t),sk(d,h,t);const p=rk(function(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:c={},axis:l,grid:s,facet:u={},facet:{axis:f=l,grid:h}=u,x:{axis:d=l,grid:p=(null===d?null:s)}=i,y:{axis:g=l,grid:y=(null===g?null:s)}=o,fx:{axis:m=f,grid:b=(null===m?null:h)}=a,fy:{axis:v=f,grid:_=(null===v?null:h)}=c}=e;(r||!ky(i)&&!mk("x",t))&&(d=p=null);(r||!ky(o)&&!mk("y",t))&&(g=y=null);n.has("fx")||(m=b=null);n.has("fy")||(v=_=null);void 0===d&&(d=!yk(t,"x"));void 0===g&&(g=!yk(t,"y"));void 0===m&&(m=!yk(t,"fx"));void 0===v&&(v=!yk(t,"fy"));!0===d&&(d="bottom");!0===g&&(g="left");!0===m&&(m="top"===d||null===d?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return pk(x,_,tw,c),dk(x,v,Xx,"right","left",u,c),pk(x,b,ew,a),dk(x,m,Zx,"top","bottom",u,a),pk(x,y,Jx,o),dk(x,g,Vx,"left","right",e,o),pk(x,p,nw,i),dk(x,d,Gx,"bottom","top",e,i),x}(u,d,t));for(const Y of p){const n=fk(Y,f,t);n&&h.set(Y,n)}u.unshift(...p);let g=_v(d,t);if(void 0!==g){const t=f?Lv(g,f):void 0;for(const e of u){if(null===e.facet||"super"===e.facet)continue;const n=h.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?Lv(g,n):t)}const n=new Set;for(const{facetsIndex:e}of h.values())null==e||e.forEach((t,e)=>{(null==t?void 0:t.length)>0&&n.add(e)});g.forEach(0<n.size&&n.size<g.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of u)if("exclude"===e.facet){const t=h.get(e);void 0!==t&&(t.facetsIndex=wv(t.facetsIndex))}}for(const Y of pm.keys())ky(t[Y])&&"fx"!==Y&&"fy"!==Y&&d.set(Y,[]);const y=new Map;for(const Y of u){if(y.has(Y))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=h.get(Y)??{},{data:r,facets:i,channels:o}=Y.initialize(n,e,t);ak(o,t),y.set(Y,{data:r,facets:i,channels:o})}const m=tv(sk(d,y,t),t),b=function(t,n,e={}){let r=.5-n_,i=.5+n_,o=.5+n_,a=.5-n_;for(const{marginTop:g,marginRight:y,marginBottom:m,marginLeft:b}of n)g>r&&(r=g),y>i&&(i=y),m>o&&(o=m),b>a&&(a=b);let{margin:c,marginTop:l=(void 0!==c?c:r),marginRight:s=(void 0!==c?c:i),marginBottom:u=(void 0!==c?c:o),marginLeft:f=(void 0!==c?c:a)}=e;l=+l,s=+s,u=+u,f=+f;let{width:h=640,height:d=T_(t,e,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,l-r+u-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:l,marginRight:s,marginBottom:u,marginLeft:f};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:l),marginRight:r=(void 0!==t?t:s),marginBottom:i=(void 0!==t?t:u),marginLeft:o=(void 0!==t?t:f)}=e.facet??{};n=+n,r=+r,i=+i,o=+o,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:o}}return p}(m,u,t);!function(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?rv(n):n;i&&ov(i,a),o&&av(o,a);const c=i||o?iv(t,n):n;e&&ov(e,c),r&&av(r,c)}(m,b);const v=nv(m),{fx:_,fy:x}=v,w=_||x?iv(m,b):b,k=_||x?function({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:l}=rv(e),s=t&&bk(t),u=n&&bk(n);return{marginTop:n?u[0]:r,marginRight:t?c-s[1]:i,marginBottom:n?l-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:l}}(v,b):b,M=qv(t),E=M.document,C=Pn("svg").call(E.documentElement);let N=C;M.ownerSVGElement=C,M.className=s,M.projection=Dv(t,w),M.filterFacets=(t,n)=>Lv(g,{channels:n,groups:xv(t,n)}),M.getMarkState=t=>{const n=y.get(t),e=h.get(t);return{...n,channels:{...n.channels,...null==e?void 0:e.channels}}},M.dispatchValue=t=>{N.value!==t&&(N.value=t,N.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[Y,D]of y)if(null!=Y.initializer){const n="super"===Y.facet?k:w,e=Y.initializer(D.data,D.facets,D.channels,v,n,M);if(void 0!==e.data&&(D.data=e.data),void 0!==e.facets&&(D.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;lk(i),Object.assign(D.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null==n||gm(pm.get(n))||(ck(e,t),T.add(n))}null==n&&null==r||h.set(Y,!0)}}if(T.size){const n=new Map;sk(n,y,t,t=>T.has(t)),sk(d,y,t,t=>T.has(t));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(tv(n,t),m),{scales:r,...i}=nv(e);Object.assign(m,e),Object.assign(v,i),Object.assign(v.scales,r)}let R,A;void 0!==g&&(R={x:null==_?void 0:_.domain(),y:null==x?void 0:x.domain()},g=function(t,{x:n,y:e}){return n&&(n=Ev(n)),e&&(e=Ev(e)),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,r)=>n.get(t.x)-n.get(r.x)||e.get(t.y)-e.get(r.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(g,R),A=function(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:n})=>`translate(${t(n)-r},0)`:({y:t})=>`translate(0,${n(t)-e})`}(_,x,b));for(const[Y,D]of y)D.values=Y.scale(D.channels,v,M);const{width:$,height:S}=b;Ve(C).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",$).attr("height",S).attr("viewBox",`0 0 ${$} ${S}`).attr("aria-label",c).attr("aria-description",l).call(t=>t.append("style").text(`:where(.${s}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${s} text),\n:where(.${s} tspan) {\n  white-space: pre;\n}`)).call(x_,r);for(const Y of u){const{channels:t,values:e,facets:r}=y.get(Y);if(void 0===g||"super"===Y.facet){let n=null;if(r&&(n=r[0],n=Y.filter(n,t,e),0===n.length))continue;const i=Y.render(n,v,e,k,M);if(null==i)continue;C.appendChild(i)}else{let i;for(const o of g){if(!((null==(n=Y.facetAnchor)?void 0:n.call(Y,g,R,o))??!o.empty))continue;let a=null;if(r){const n=h.has(Y);if(a=r[n?o.i:0],a=Y.filter(a,t,e),0===a.length)continue;n||a!==r[0]||(a=$y(a)),a.fx=o.x,a.fy=o.y,a.fi=o.i}const c=Y.render(a,v,e,w,M);if(null!=c){(i??(i=Ve(C).append("g"))).append(()=>c).datum(o);for(const t of["aria-label","aria-description","aria-hidden","transform"])c.hasAttribute(t)&&(i.attr(t,c.getAttribute(t)),c.removeAttribute(t))}}null==i||i.selectChildren().attr("transform",A)}}const L=function(t,n,e){const r=[];for(const[i,o]of xw){const a=e[i];if((null==a?void 0:a.legend)&&i in t){const e=o(t[i],ww(n,t[i],a),n=>t[n]);null!=e&&r.push(e)}}return r}(m,M,t),{figure:U=null!=i||null!=o||null!=a||L.length>0}=t;U&&(N=E.createElement("figure"),N.className=`${s}-figure`,N.style.maxWidth="initial",null!=i&&N.append(ek(E,i,"h2")),null!=o&&N.append(ek(E,o,"h3")),N.append(...L,C),null!=a&&N.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}(E,a)),"value"in C&&(N.value=C.value,delete C.value)),N.scale=function(t){return n=>{if(!pm.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(v.scales),N.legend=function(t,n,e={}){return(r,i)=>{if(!xw.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return xw.get(r)(t[r],ww(n,e[r],i),n=>t[n])}}(m,M,t);const O=function(){const t=Ob;return Ob=0,Ub=void 0,t}();return O>0&&Ve(C).append("text").attr("x",$).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${O.toLocaleString("en-US")} warning${1===O?"":"s"}. Please check the console.`),N}function ek(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function rk(t){return t.flat(1/0).filter(t=>null!=t).map(ik)}function ik(t){return"function"==typeof t.render?t:new ok(t)}class ok extends k_{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function ak(t,n){for(const e in t)ck(t[e],n);return t}function ck(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:o,interval:a,transform:c=(o?t=>null==t?NaN:100*t:Iy(a,i))}=n[e]??{};null!=c&&(t.value=_y(t.value,c),t.transform=!1)}function lk(t){for(const n in t)Gm(n,t[n])}function sk(t,n,e,r=iy){var i,o;for(const{channels:a}of n.values())for(const n in a){const c=a[n],{scale:l}=c;if(null!=l&&r(l))if("projection"===l){if(!Wv(e)){const n=void 0===(null==(i=e.x)?void 0:i.domain),r=void 0===(null==(o=e.y)?void 0:o.domain);if(n||r){const[e,i]=Hv(c);n&&uk(t,"x",e),r&&uk(t,"y",i)}}}else uk(t,l,c)}return t}function uk(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function fk(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=by(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const o={};return null!=r&&(o.fx=Xm(n,{value:r,scale:"fx"})),null!=i&&(o.fy=Xm(n,{value:i,scale:"fy"})),ak(o,e),{channels:o,groups:xv(n,o)}}if(void 0===n)return;const{channels:o,groups:a,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:o,groups:a};c.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&Ty(by(t.data))===Ty(c)&&Yb(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function hk(t,n={}){return wm({...n,x:null,y:null},(n,e,r,i,o,a)=>a.getMarkState(t))}function dk(t,n,e,r,i,o,a){if(!n)return;const c=/^\s*both\s*$/i.test(n);a=function(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:l,fontVariant:s,ariaLabel:u,ariaDescription:f,label:h=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:l,fontVariant:s,ariaLabel:u,ariaDescription:f,label:h,labelAnchor:d,labelArrow:p,labelOffset:g}}(c?r:n,o,a);const{line:l}=a;e!==Vx&&e!==Gx||!l||tm(l)||t.push(function(t){return new jw(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(a))),t.push(e(a)),c&&t.push(e({...a,anchor:i,label:null}))}function pk(t,n,e,r){n&&!tm(n)&&t.push(e(function(t,{stroke:n=(Ky(t)?t:void 0),ticks:e=(gk(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}(n,r)))}function gk(t){switch(typeof t){case"number":return!0;case"string":return!Ky(t)}return jy(t)||"function"==typeof(null==t?void 0:t.range)}function yk(t,n){const e=`${n}-axis `;return t.some(t=>{var n;return null==(n=t.ariaLabel)?void 0:n.startsWith(e)})}function mk(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function bk(t){const n=t.domain();if(0===n.length)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const vk=new Map([["basis",function(t){return new Ap(t)}],["basis-closed",function(t){return new $p(t)}],["basis-open",function(t){return new Sp(t)}],["bundle",Up],["bump-x",function(t){return new tp(t,!0)}],["bump-y",function(t){return new tp(t,!1)}],["cardinal",Dp],["cardinal-closed",Fp],["cardinal-open",zp],["catmull-rom",Wp],["catmull-rom-closed",qp],["catmull-rom-open",Xp],["linear",Zd],["linear-closed",function(t){return new Gp(t)}],["monotone-x",function(t){return new tg(t)}],["monotone-y",function(t){return new ng(t)}],["natural",function(t){return new rg(t)}],["step",function(t){return new og(t,.5)}],["step-after",function(t){return new og(t,1)}],["step-before",function(t){return new og(t,0)}]]);function _k(t=Zd,n){if("function"==typeof t)return t;const e=vk.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(void 0!==n){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function xk(t){return Zd(t)}function wk(t={y:"count"},n={}){[t,n]=function({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}(t,n);const{x:e,y:r}=n;return function(t,n,e,r,{data:i=Fm,filter:o=jm,sort:a,reverse:c,...l}={},s={}){t=Mk(t),n=Mk(n),l=function(t,n){return function(t,n,e=Sm){const r=Object.entries(t);return null!=n.title&&void 0===t.title&&r.push(["title",zm]),null!=n.href&&void 0===t.href&&r.push(["href",Pm]),r.filter(([,t])=>void 0!==t).map(([t,r])=>null===r?function(t){return{name:t,initialize(){},scope(){},reduce(){}}}(t):e(t,r,n))}(t,n,Ek)}(l,s),i=Nk(i,ey),a=null==a?void 0:Ek("sort",a,s),o=null==o?void 0:Ck("filter",o,s),null!=r&&$m(l,"y","y1","y2")&&(r=null);const[u,f]=Uy(t),[h,d]=Uy(t),[p,g]=Uy(n),[y,m]=Uy(n),[b,v]=null!=r?[r,"y"]:[],[_,x]=Uy(b),{x:w,y:k,z:M,fill:E,stroke:C,x1:N,x2:T,y1:R,y2:A,domain:$,cumulative:S,thresholds:L,interval:U,...O}=s,[Y,D]=Uy(M),[I]=py(E),[F]=py(C),[P,z]=Uy(I),[B,j]=Uy(F);return{..."z"in s&&{z:Y||M},..."fill"in s&&{fill:P||E},..."stroke"in s&&{stroke:B||C},...xm(O,(e,r,s)=>{const u=Dy(Gg(e,b),null==s?void 0:s[v]),h=Gg(e,M),p=Gg(e,I),y=Gg(e,F),_=function(t,n){for(const e in n){const r=n[e];if(void 0!==r&&!t.some(t=>t.name===e))return r}}(l,{z:h,fill:p,stroke:y}),w=[],k=[],E=u&&x([]),C=h&&D([]),N=p&&z([]),T=y&&j([]),R=t&&f([]),A=t&&d([]),$=n&&g([]),S=n&&m([]),L=function(t,n,e){const r=null==t?void 0:t(e),i=null==n?void 0:n(e);return r&&i?function*(t){const n=r.bin(t);for(const[o,[a,c]]of r.entries()){const t=i.bin(n[o]);for(const[n,[r,o]]of i.entries())yield[t[n],{data:e,x1:a,y1:r,x2:c,y2:o}]}}:r?function*(t){const n=r.bin(t);for(const[i,[o,a]]of r.entries())yield[n[i],{data:e,x1:o,x2:a}]}:function*(t){const n=i.bin(t);for(const[r,[o,a]]of i.entries())yield[n[r],{data:e,y1:o,y2:a}]}}(t,n,e);let U=0;for(const t of l)t.initialize(e);a&&a.initialize(e),o&&o.initialize(e);for(const t of r){const n=[];for(const e of l)e.scope("facet",t);a&&a.scope("facet",t),o&&o.scope("facet",t);for(const[r,c]of Um(t,_))for(const[t,s]of Um(c,u))for(const[c,f]of L(s))if(_&&(f.z=r),!o||o.reduce(c,f)){n.push(U++),k.push(i.reduceIndex(c,e,f)),u&&E.push(t),h&&C.push(_===h?r:h[(c.length>0?c:s)[0]]),p&&N.push(_===p?r:p[(c.length>0?c:s)[0]]),y&&T.push(_===y?r:y[(c.length>0?c:s)[0]]),R&&(R.push(f.x1),A.push(f.x2)),$&&($.push(f.y1),S.push(f.y2));for(const t of l)t.reduce(c,f);a&&a.reduce(c,f)}w.push(n)}return function(t,n,e){if(n){const e=n.output.transform(),r=(t,n)=>lg(e[t],e[n]);t.forEach(t=>t.sort(r))}e&&t.forEach(t=>t.reverse())}(w,a,c),{data:k,facets:w}}),...!$m(l,"x")&&(u?{x1:u,x2:h,x:Yy(u,h)}:{x:w,x1:N,x2:T}),...!$m(l,"y")&&(p?{y1:p,y2:y,y:Yy(p,y)}:{y:k,y1:R,y2:A}),..._&&{[v]:_},...Object.fromEntries(l.map(({name:t,output:n})=>[t,n]))}}(function(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){void 0===(t={...By(t)}).domain&&(t.domain=e);void 0===t.cumulative&&(t.cumulative=n);void 0===t.thresholds&&(t.thresholds=r);void 0===t.interval&&(t.interval=i);void 0===t.value&&(t.value=o);return t.thresholds=function(t,n,e=Rk){if(void 0===t)return void 0===n?e:Py(n);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return dn;case"scott":return pn;case"sturges":return en;case"auto":return Rk}return Dg(t)}return t}(t.thresholds,t.interval),t}(e,n,ey),null,0,r,t,Z_(n))}function kk(t={}){return function(t,n,e={}){if(null==(null==e?void 0:e.interval))return e;const{reduce:r=Pm}=e,i={filter:null};return null!=e[n]&&(i[n]=r),null!=e[`${n}1`]&&(i[`${n}1`]=r),null!=e[`${n}2`]&&(i[`${n}2`]=r),t(i,e)}(wk,"y",N_(t,"x"))}function Mk(t){if(null==t)return;const{value:n,cumulative:e,domain:r=St,thresholds:i}=t,o=t=>{let o,a=Gg(t,n);if(qy(a)||(function(t){return zy(t)&&"function"==typeof(null==t?void 0:t.floor)&&t.floor()instanceof Date}(c=i)||jy(c)&&qy(c))){a=_y(a,dy,Float64Array);let[t,n]="function"==typeof r?r(a):r,e="function"!=typeof i||zy(i)?i:i(a,t,n);"number"==typeof e&&(e=Tu(t,n,e)),zy(e)&&(r===St&&(t=e.floor(t),n=e.offset(e.floor(n))),e=e.range(t,e.offset(n))),o=e}else{a=uy(a);let[t,n]="function"==typeof r?r(a):r,e="function"!=typeof i||zy(i)?i:i(a,t,n);if("number"==typeof e)if(r===St){let r=tn(t,n,e);if(isFinite(r))if(r>0){let i=Math.round(t/r),o=Math.round(n/r);i*r<=t||--i,o*r>n||++o;let a=o-i+1;e=new Float64Array(a);for(let t=0;t<a;++t)e[t]=(i+t)*r}else if(r<0){r=-r;let i=Math.round(t*r),o=Math.round(n*r);i/r<=t||--i,o/r>n||++o;let a=o-i+1;e=new Float64Array(a);for(let t=0;t<a;++t)e[t]=(i+t)/r}else e=[t];else e=[t]}else e=Jt(t,n,e);else zy(e)&&(r===St&&(t=e.floor(t),n=e.offset(e.floor(n))),e=e.range(t,e.offset(n)));o=e}var c;const l=[];if(1===o.length)l.push([o[0],o[0]]);else for(let n=1;n<o.length;++n)l.push([o[n-1],o[n]]);return l.bin=(e<0?Sk:e>0?$k:Ak)(l,o,a),l};return o.label=Oy(n),o}function Ek(t,n,e){return Sm(t,n,e,Ck)}function Ck(t,n,e){return Lm(t,n,e,Nk)}function Nk(t,n){return Om(t,n,Tk)}function Tk(t){switch(`${t}`.toLowerCase()){case"x":return Uk;case"x1":return Yk;case"x2":return Dk;case"y":return Ok;case"y1":return Ik;case"y2":return Fk;case"z":return Vm}throw new Error(`invalid bin reduce: ${t}`)}function Rk(t,n,e){return Math.min(200,pn(t,n,e))}function Ak(t,n,e){return n=uy(n),r=>{var i;const o=t.map(()=>[]);for(const t of r)null==(i=o[Mt(n,e[t])-1])||i.push(t);return o}}function $k(t,n,e){const r=Ak(t,n,e);return t=>{const n=r(t);for(let e=1,r=n.length;e<r;++e){const t=n[e-1],r=n[e];for(const n of t)r.push(n)}return n}}function Sk(t,n,e){const r=Ak(t,n,e);return t=>{const n=r(t);for(let e=n.length-2;e>=0;--e){const t=n[e+1],r=n[e];for(const n of t)r.push(n)}return n}}function Lk(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const Uk={reduceIndex:(t,n,{x1:e,x2:r})=>Lk(e,r)},Ok={reduceIndex:(t,n,{y1:e,y2:r})=>Lk(e,r)},Yk={reduceIndex:(t,n,{x1:e})=>e},Dk={reduceIndex:(t,n,{x2:e})=>e},Ik={reduceIndex:(t,n,{y1:e})=>e},Fk={reduceIndex:(t,n,{y2:e})=>e},Pk={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class zk extends k_{constructor(t,n={}){const{x1:e,y1:r,x2:i,y2:o,z:a,curve:c,tension:l}=n;super(t,{x1:{value:e,scale:"x"},y1:{value:r,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0},z:{value:Ny(n),optional:!0}},n,Pk),this.z=a,this.curve=_k(c,l)}filter(t){return t}render(t,n,e,r,i){const{x1:o,y1:a,x2:c=o,y2:l=a}=e;return Vv("svg:g",i).call(h_,this,r,i).call(y_,this,n,0,0).call(n=>n.selectAll().data(l_(t,[o,a,c,l],this,e)).enter().append("path").call(d_,this).call(c_,this,e).attr("d",Jd().curve(this.curve).defined(t=>t>=0).x0(t=>o[t]).y0(t=>a[t]).x1(t=>c[t]).y1(t=>l[t]))).node()}}function Bk(t,n){return void 0===n?function(t,n){const{x:e=ny,...r}=kk(n);return new zk(t,Cw(function(t={}){return function({y:t,y1:n,y2:e}){return void 0!==t||void 0!==n||void 0!==e}(t)?t:{...t,y:ey}}({...r,x1:e,x2:void 0})))}(t,{x:cy,y:ly}):new zk(t,n)}const jk={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Wk extends k_{constructor(t,n={}){const{x1:e,y1:r,x2:i,y2:o,curve:a,tension:c}=n;super(t,{x1:{value:e,scale:"x"},y1:{value:r,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,jk),this.curve=function(t=xk,n){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?xk:_k(t,n)}(a,c),P_(this,n)}project(t,n,e){this.curve!==xk&&super.project(t,n,e)}render(t,n,e,r,i){const{x1:o,y1:a,x2:c=o,y2:l=a}=e,{curve:s}=this;return Vv("svg:g",i).call(h_,this,r,i).call(y_,this,n).call(n=>n.selectAll().data(t).enter().append("path").call(d_,this).attr("d",s===xk&&i.projection?function(t,n,e,r,i){const o=il(t);return n=uy(n),e=uy(e),r=uy(r),i=uy(i),t=>o({type:"LineString",coordinates:[[n[t],e[t]],[r[t],i[t]]]})}(i.projection,o,a,c,l):t=>{const n=Do(),e=s(n);return e.lineStart(),e.point(o[t],a[t]),e.point(c[t],l[t]),e.lineEnd(),n}).call(a_,this,e).call(X_,this,e,i)).node()}}function Hk(t,{x:n,x1:e,x2:r,y:i,y1:o,y2:a,...c}={}){return[e,r]=qk(n,e,r),[o,a]=qk(i,o,a),new Wk(t,{...c,x1:e,x2:r,y1:o,y2:a})}function qk(t,n,e){if(void 0===t){if(void 0===n){if(void 0!==e)return[e]}else if(void 0===e)return[n]}else{if(void 0===n)return void 0===e?[t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}const Vk={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Xk(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:n,...e}={}){return{...(My(t)&&void 0!==t.channel?wm:Em)(e,Tm(t)),sort:Ey(n)?n:null}}({channel:"-r"},t):t}class Gk extends k_{constructor(t,n={}){const{x:e,y:r,r:i,rotate:o,symbol:a=rp,frameAnchor:c}=n,[l,s]=gy(o,0),[u,f]=function(t){if(null==t||bm(t))return[void 0,t];if("string"==typeof t){const n=mm.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}(a),[h,d]=gy(i,null==u?3:4.5);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:h,scale:"r",filter:hg,optional:!0},rotate:{value:l,optional:!0},symbol:{value:u,scale:"auto",optional:!0}},Xk(n),Vk),this.r=d,this.rotate=s,this.symbol=f,this.frameAnchor=em(c);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:t,stroke:n}=p;g.hint={fill:t?t.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:n?n.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:l,r:s,rotate:u,symbol:f}=e,{r:h,rotate:d,symbol:p}=this,[g,y]=w_(this,r),m=p===rp,b=s?void 0:h*h*Math.PI;return dg(h)&&(t=[]),Vv("svg:g",i).call(h_,this,r,i).call(y_,this,{x:c&&o,y:l&&a}).call(n=>n.selectAll().data(t).enter().append(m?"circle":"path").call(d_,this).call(m?t=>{t.attr("cx",c?t=>c[t]:g).attr("cy",l?t=>l[t]:y).attr("r",s?t=>s[t]:h)}:t=>{t.attr("transform",lx`translate(${c?t=>c[t]:g},${l?t=>l[t]:y})${u?t=>` rotate(${u[t]})`:d?` rotate(${d})`:""}`).attr("d",s&&f?t=>{const n=Do();return f[t].draw(n,s[t]*s[t]*Math.PI),n}:s?t=>{const n=Do();return p.draw(n,s[t]*s[t]*Math.PI),n}:f?t=>{const n=Do();return f[t].draw(n,b),n}:(()=>{const t=Do();return p.draw(t,b),t})())}).call(a_,this,e)).node()}}function Zk(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Cy(n,e)),new Gk(t,{...r,x:n,y:e})}const Kk={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Qk extends k_{constructor(t,n={}){const[e,r]=gy(n.r,3);super(t,{x:{value:n.tip?n.x:null,scale:"x",optional:!0},y:{value:n.tip?n.y:null,scale:"y",optional:!0},r:{value:e,scale:"r",filter:hg,optional:!0},geometry:{value:n.geometry,scale:"projection"}},Xk(n),Kk),this.r=r}render(t,n,e,r,i){const{geometry:o,r:a}=e,c=il(i.projection??function({x:t,y:n}){if(t||n)return t??(t=t=>t),n??(n=t=>t),ol({point(e,r){this.stream.point(t(e),n(r))}})}(n)),{r:l}=this;return dg(l)?t=[]:void 0!==l&&c.pointRadius(l),Vv("svg:g",i).call(h_,this,r,i).call(y_,this,n).call(n=>{n.selectAll().data(t).enter().append("path").call(d_,this).attr("d",a?t=>c.pointRadius(a[t])(o[t]):t=>c(o[t])).call(a_,this,e)}).node()}}function Jk(t,n={}){return n.tip&&void 0===n.x&&void 0===n.y?n=function({geometry:t=ey,...n}={}){const e=Gv(n=>Gg(n,t));return wm({...n,x:null,y:null,geometry:{transform:e}},(t,n,r,i,o,{projection:a})=>{const c=e(t),l=c.length,s=new Float64Array(l),u=new Float64Array(l),f=il(a);for(let e=0;e<l;++e)[s[e],u[e]]=f.centroid(c[e]);return{data:t,facets:n,channels:{x:{value:s,scale:null==a?"x":null,source:null},y:{value:u,scale:null==a?"y":null,source:null}}}})}(n):void 0===n.geometry&&(n={...n,geometry:ey}),new Qk(t,n)}var tM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};k_.prototype.plot=function({marks:t=[],...n}={}){return nk({...n,marks:[...t,this]})};var nM,eM,rM,iM,oM,aM,cM,lM,sM={},uM={};nM=uM,Object.defineProperty(nM,"__esModule",{value:!0}),(eM=nM.ConceptType||(nM.ConceptType={})).METRIC="METRIC",eM.DIMENSION="DIMENSION",(nM.MessageType||(nM.MessageType={})).RENDER="RENDER",(rM=nM.FieldType||(nM.FieldType={})).YEAR="YEAR",rM.YEAR_QUARTER="YEAR_QUARTER",rM.YEAR_MONTH="YEAR_MONTH",rM.YEAR_WEEK="YEAR_WEEK",rM.YEAR_MONTH_DAY="YEAR_MONTH_DAY",rM.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",rM.QUARTER="QUARTER",rM.MONTH="MONTH",rM.WEEK="WEEK",rM.MONTH_DAY="MONTH_DAY",rM.DAY_OF_WEEK="DAY_OF_WEEK",rM.DAY="DAY",rM.HOUR="HOUR",rM.MINUTE="MINUTE",rM.DURATION="DURATION",rM.COUNTRY="COUNTRY",rM.COUNTRY_CODE="COUNTRY_CODE",rM.CONTINENT="CONTINENT",rM.CONTINENT_CODE="CONTINENT_CODE",rM.SUB_CONTINENT="SUB_CONTINENT",rM.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",rM.REGION="REGION",rM.REGION_CODE="REGION_CODE",rM.CITY="CITY",rM.CITY_CODE="CITY_CODE",rM.METRO_CODE="METRO_CODE",rM.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",rM.NUMBER="NUMBER",rM.PERCENT="PERCENT",rM.TEXT="TEXT",rM.BOOLEAN="BOOLEAN",rM.URL="URL",rM.IMAGE="IMAGE",rM.CURRENCY_AED="CURRENCY_AED",rM.CURRENCY_ALL="CURRENCY_ALL",rM.CURRENCY_ARS="CURRENCY_ARS",rM.CURRENCY_AUD="CURRENCY_AUD",rM.CURRENCY_BDT="CURRENCY_BDT",rM.CURRENCY_BGN="CURRENCY_BGN",rM.CURRENCY_BOB="CURRENCY_BOB",rM.CURRENCY_BRL="CURRENCY_BRL",rM.CURRENCY_CAD="CURRENCY_CAD",rM.CURRENCY_CDF="CURRENCY_CDF",rM.CURRENCY_CHF="CURRENCY_CHF",rM.CURRENCY_CLP="CURRENCY_CLP",rM.CURRENCY_CNY="CURRENCY_CNY",rM.CURRENCY_COP="CURRENCY_COP",rM.CURRENCY_CRC="CURRENCY_CRC",rM.CURRENCY_CZK="CURRENCY_CZK",rM.CURRENCY_DKK="CURRENCY_DKK",rM.CURRENCY_DOP="CURRENCY_DOP",rM.CURRENCY_EGP="CURRENCY_EGP",rM.CURRENCY_ETB="CURRENCY_ETB",rM.CURRENCY_EUR="CURRENCY_EUR",rM.CURRENCY_GBP="CURRENCY_GBP",rM.CURRENCY_HKD="CURRENCY_HKD",rM.CURRENCY_HRK="CURRENCY_HRK",rM.CURRENCY_HUF="CURRENCY_HUF",rM.CURRENCY_IDR="CURRENCY_IDR",rM.CURRENCY_ILS="CURRENCY_ILS",rM.CURRENCY_INR="CURRENCY_INR",rM.CURRENCY_IRR="CURRENCY_IRR",rM.CURRENCY_ISK="CURRENCY_ISK",rM.CURRENCY_JMD="CURRENCY_JMD",rM.CURRENCY_JPY="CURRENCY_JPY",rM.CURRENCY_KRW="CURRENCY_KRW",rM.CURRENCY_LKR="CURRENCY_LKR",rM.CURRENCY_LTL="CURRENCY_LTL",rM.CURRENCY_MNT="CURRENCY_MNT",rM.CURRENCY_MVR="CURRENCY_MVR",rM.CURRENCY_MXN="CURRENCY_MXN",rM.CURRENCY_MYR="CURRENCY_MYR",rM.CURRENCY_NOK="CURRENCY_NOK",rM.CURRENCY_NZD="CURRENCY_NZD",rM.CURRENCY_PAB="CURRENCY_PAB",rM.CURRENCY_PEN="CURRENCY_PEN",rM.CURRENCY_PHP="CURRENCY_PHP",rM.CURRENCY_PKR="CURRENCY_PKR",rM.CURRENCY_PLN="CURRENCY_PLN",rM.CURRENCY_RON="CURRENCY_RON",rM.CURRENCY_RSD="CURRENCY_RSD",rM.CURRENCY_RUB="CURRENCY_RUB",rM.CURRENCY_SAR="CURRENCY_SAR",rM.CURRENCY_SEK="CURRENCY_SEK",rM.CURRENCY_SGD="CURRENCY_SGD",rM.CURRENCY_THB="CURRENCY_THB",rM.CURRENCY_TRY="CURRENCY_TRY",rM.CURRENCY_TWD="CURRENCY_TWD",rM.CURRENCY_TZS="CURRENCY_TZS",rM.CURRENCY_UAH="CURRENCY_UAH",rM.CURRENCY_USD="CURRENCY_USD",rM.CURRENCY_UYU="CURRENCY_UYU",rM.CURRENCY_VEF="CURRENCY_VEF",rM.CURRENCY_VND="CURRENCY_VND",rM.CURRENCY_YER="CURRENCY_YER",rM.CURRENCY_ZAR="CURRENCY_ZAR",(iM=nM.TableType||(nM.TableType={})).DEFAULT="DEFAULT",iM.COMPARISON="COMPARISON",iM.SUMMARY="SUMMARY",(oM=nM.DateRangeType||(nM.DateRangeType={})).DEFAULT="DEFAULT",oM.COMPARISON="COMPARISON",(aM=nM.ConfigDataElementType||(nM.ConfigDataElementType={})).METRIC="METRIC",aM.DIMENSION="DIMENSION",aM.MAX_RESULTS="MAX_RESULTS",(cM=nM.ConfigStyleElementType||(nM.ConfigStyleElementType={})).TEXTINPUT="TEXTINPUT",cM.SELECT_SINGLE="SELECT_SINGLE",cM.CHECKBOX="CHECKBOX",cM.FONT_COLOR="FONT_COLOR",cM.FONT_SIZE="FONT_SIZE",cM.FONT_FAMILY="FONT_FAMILY",cM.FILL_COLOR="FILL_COLOR",cM.BORDER_COLOR="BORDER_COLOR",cM.AXIS_COLOR="AXIS_COLOR",cM.GRID_COLOR="GRID_COLOR",cM.OPACITY="OPACITY",cM.LINE_WEIGHT="LINE_WEIGHT",cM.LINE_STYLE="LINE_STYLE",cM.BORDER_RADIUS="BORDER_RADIUS",cM.INTERVAL="INTERVAL",cM.SELECT_RADIO="SELECT_RADIO",(nM.DSInteractionType||(nM.DSInteractionType={})).FILTER="FILTER",(lM=nM.ToDSMessageType||(nM.ToDSMessageType={})).VIZ_READY="vizReady",lM.INTERACTION="vizAction",(nM.InteractionType||(nM.InteractionType={})).FILTER="FILTER",function(t){var n=tM&&tM.__assign||function(){return n=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});
/*!
      	  @license
      	  Copyright 2019 Google LLC
    
      	  Licensed under the Apache License, Version 2.0 (the "License");
      	  you may not use this file except in compliance with the License.
      	  You may obtain a copy of the License at
    
      	  https://www.apache.org/licenses/LICENSE-2.0
    
      	  Unless required by applicable law or agreed to in writing, software
      	  distributed under the License is distributed on an "AS IS" BASIS,
      	  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      	  See the License for the specific language governing permissions and
      	  limitations under the License.
      	*/
var e=uM;!function(n){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}(uM),t.getWidth=function(){return document.body.clientWidth},t.getHeight=function(){return document.documentElement.clientHeight},t.getComponentId=function(){var t=new URLSearchParams(window.location.search);if(null!==t.get("dscId"))return t.get("dscId");throw new Error("dscId must be in the query parameters. This is a bug in ds-component, please file a bug: https://github.com/googledatastudio/ds-component/issues/new")};var r=function(t){return t.type===e.ConfigDataElementType.DIMENSION||t.type===e.ConfigDataElementType.METRIC},i=function(t){return t===e.ConfigDataElementType.DIMENSION?-1:1},o=function(t){var n=[];t.config.data.forEach(function(t){t.elements.filter(r).forEach(function(t){n.push(t)})});var e,o=(e=function(t,n){return i(t.type)-i(n.type)},n.map(function(t,n){return{item:t,index:n}}).sort(function(t,n){return e(t.item,n.item)||t.index-n.index}).map(function(t){return t.item})),a=[];return o.forEach(function(t){t.value.forEach(function(){return a.push(t.id)})}),a},a=function(t){var n,r=o(t),i=((n={})[e.TableType.DEFAULT]=[],n);return t.dataResponse.tables.forEach(function(t){var n=t.rows.map(function(t){return function(n){var e,r,i={};return(e=n,r=t,e.length<r.length?e.map(function(t,n){return[t,r[n]]}):r.map(function(t,n){return[e[n],t]})).forEach(function(t){var n=t[0],e=t[1];void 0===i[e]&&(i[e]=[]),i[e].push(n)},{}),i}}(r));t.id===e.TableType.DEFAULT?i[t.id]=n:(void 0===i[t.id]&&(i[t.id]=[]),i[t.id]=i[t.id].concat(n))}),i},c=function(r){var i,a=t.fieldsByConfigId(r),c=o(r),l={},s=c.map(function(t){void 0===l[t]?l[t]=0:l[t]++;var e=l[t],r=a[t][e];return n(n({},r),{configId:t})}),u=((i={})[e.TableType.DEFAULT]={headers:[],rows:[]},i);return r.dataResponse.tables.forEach(function(t){u[t.id]={headers:s,rows:t.rows}}),u};t.fieldsByConfigId=function(t){var n=function(t){return t.fields.reduce(function(t,n){return t[n.id]=n,t},{})}(t),e={};return t.config.data.forEach(function(t){t.elements.filter(r).forEach(function(t){e[t.id]=t.value.map(function(t){return n[t]})})}),e};var l=function(t){var n={};return(t.config.style||[]).forEach(function(t){t.elements.forEach(function(t){if(void 0!==n[t.id])throw new Error("styleIds must be unique. Your styleId: '"+t.id+"' is used more than once.");n[t.id]={value:t.value,defaultValue:t.defaultValue}})},{}),n},s=function(t){return t.config.themeStyle},u=function(t){if(t===e.DSInteractionType.FILTER)return e.InteractionType.FILTER},f=function(t){var n=t.config.interactions;return void 0===n?{}:n.reduce(function(t,n){var e=n.supportedActions.map(u),r={type:u(n.value.type),data:n.value.data};return t[n.id]={value:r,supportedActions:e},t},{})},h=function(t){return(t.dataResponse.dateRanges||[]).reduce(function(t,n){return t[n.id]={start:n.start,end:n.end},t},{})},d=function(t){var e=t.dataResponse.colorMap||{};return n({},e)};t.tableTransform=function(n){return{tables:c(n),dateRanges:h(n),fields:t.fieldsByConfigId(n),style:l(n),theme:s(n),interactions:f(n),colorMap:d(n)}},t.objectTransform=function(n){return{tables:a(n),dateRanges:h(n),fields:t.fieldsByConfigId(n),style:l(n),theme:s(n),interactions:f(n),colorMap:d(n)}};t.subscribeToData=function(n,r){if(a=r.transform,c=!1,(a===t.tableTransform||a===t.objectTransform||function(t){var n=!1;return"identity"===t("identity")&&(n=!0),n}(a))&&(c=!0),c){var i=function(t){t.data.type===e.MessageType.RENDER&&n(r.transform(t.data))};window.addEventListener("message",i);var o={componentId:t.getComponentId(),type:e.ToDSMessageType.VIZ_READY};return window.parent.postMessage(o,"*"),function(){return window.removeEventListener("message",i)}}throw new Error("Only the built in transform functions are supported.");var a,c},t.sendInteraction=function(n,r,i){var o=t.getComponentId(),a={type:e.ToDSMessageType.INTERACTION,id:n,data:i,componentId:o};window.parent.postMessage(a,"*")},t.clearInteraction=function(n,e){t.sendInteraction(n,e,void 0)}}(sM);"undefined"!=typeof window&&(window.LOCAL=false);const fM=Du("%Y%m%d");let hM;function dM(t){var n,i,o,a,c,l,s,u,f,h,d,p,g,y,m,b,v,_,x,w;const k=function(t){if(!Array.isArray(t)||0===t.length)return[];const n=[],e=void 0!==t[0].name?"name":null,r=Object.keys(t[0]).filter(t=>t!==e&&!t.startsWith("dimensionName")&&!t.startsWith("dimension")&&"date"!==t);if(0===r.length){const r=Object.keys(t[0]).filter(t=>t.startsWith("dimension")&&!t.startsWith("dimensionName")).length;t.forEach(t=>{const i=e?t[e]:"default_group";for(let o=0;o<r;o++){const r=`dimension${o}`,a=`dimensionName${o}`;if(void 0!==t[r]&&void 0!==t[a]){const o=t[a],c="number"==typeof t[r]?t[r]:parseFloat(t[r]),l=isNaN(c)?0:c;n.push({[e||"name"]:i,key:o,value:l})}}})}else t.forEach(t=>{const i=e?t[e]:"default_group";r.forEach(r=>{const o="number"==typeof t[r]?t[r]:parseFloat(t[r]),a=isNaN(o)?0:o;n.push({[e||"name"]:i,key:r,value:a})})});return n}(t);if(0===k.length){const t=document.createElement("div");t.textContent="No data available to display the chart.",t.style.textAlign="center",t.style.padding="20px";const n=document.getElementById("mainsite-center");return void(n?(n.innerHTML="",n.appendChild(t)):(document.body.innerHTML="",document.body.appendChild(t)))}const M=document.getElementById("mainsite-center");M&&M.remove();const E=document.createElement("div");function C(t,n){var e,r;if(!t)return n;const i=[null==(e=null==t?void 0:t.value)?void 0:e.color,null==(r=null==t?void 0:t.color)?void 0:r.value,null==t?void 0:t.value,null==t?void 0:t.color,t];for(const o of i)if(o&&"string"==typeof o&&o.startsWith("#"))return o;return n}E.id="mainsite-center",document.body.appendChild(E);const N=C(null==hM?void 0:hM.fillColor,"#ffffff"),T=C(null==hM?void 0:hM.fontColor,"#000000"),R=e`
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: ${N};
      color: ${T};
    }
    
    .radar-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      height: 100%;
      min-height: 500px;
      padding: 0.2rem 1rem 1rem 1rem;
      background-color: ${N};
      color: ${T};
    }
    
    .radar-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
      text-align: center;
      color: ${T};
    }
    
    .radar-chart {
      width: 100%;
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: ${N};
    }
    
    /* Critical for label visibility */
    .radar-chart svg {
      overflow: visible !important;
    }
    
    /* Apply background color to all Plot.js elements */
    [class*="plot-"],
    [class*="plot-"] *,
    .plot-d6a7b5-figure,
    .plot-d6a7b5-swatches,
    .plot-d6a7b5-swatches-wrap,
    .plot-d6a7b5-swatch {
      background-color: ${N} !important;
      color: ${T} !important;
    }
    
    /* Ensure the main SVG container uses the background color */
    svg.plot-d6a7b5 {
      background-color: ${N} !important;
    }
    
    @media (min-width: 768px) {
      .radar-container {
        min-height: 600px;
      }
    }
  </style>
  <main id="mainsite-main" class="mainsite">
    <div class="radar-container">
      <div id="radar-chart" class="radar-chart"></div>
    </div>
  </main>
  `;E.appendChild(R);const A=document.getElementById("radar-chart"),$=sM.getWidth(),S=sM.getHeight(),L="true"===String((null==(n=null==hM?void 0:hM.usePercentage)?void 0:n.value)??"").toLowerCase(),U=function(t,n={}){const{width:e=450,height:i=450,lineType:o="cardinal-closed",fontSize:a="10",fontWeight:c="normal",usePercentage:l=!1,backgroundColor:s="#ffffff",textColor:u="#000000",ringStrokeWidth:f="0.5",axisStrokeWidth:h="1.5",textStrokeWidth:d="2",axisLabelStrokeWidth:p="3",pointRadius:g="3",hoverMaxRadius:y="15",ringFillOpacity:m="0.3",areaFillOpacity:b="0.2",axisStrokeOpacity:v="0.5",marginTop:_="15",marginRight:x="50",marginBottom:w="60",marginLeft:k="60",colorScheme:M="category10"}=n;if(!t||0===t.length)return document.createElement("div");const E=Object.keys(t[0]).find(t=>"key"!==t&&"value"!==t)||"name",C=cs(Array.from(new Set(Gg(t,"key"))),[180,-180]).padding(.5).align(1);let N,T,R;rn(t,t=>t.value),T=1,N=5,R=5;const A=_n(0,5.01,1).map(t=>parseFloat(t.toFixed(5))),$=A.filter(t=>t>0).reverse();return Math.max(-89.99,Math.min(89.99,84.5)),nk({width:e,height:i,marginTop:Number(_),marginRight:Number(x),marginBottom:Number(w),marginLeft:Number(k),style:{backgroundColor:s},projection:{type:"azimuthal-equidistant",rotate:[0,-90],domain:Ba().center([0,90]).radius(5)()},color:{legend:!0,scheme:M,domain:Array.from(new Set(Gg(t,E)))},marks:[Jk($,{geometry:t=>Ba().center([0,90]).radius(t)(),stroke:"#ccc",fill:"#eee",fillOpacity:Number(m),strokeWidth:Number(f)}),Hk(C.domain(),{x1:C,y1:t=>85.05,x2:0,y2:90,stroke:"white",strokeOpacity:Number(v),strokeWidth:Number(h)}),dx(A.filter(t=>t<=4.9),{x:180,y:t=>90-t,dx:4,textAnchor:"start",text:t=>t.toFixed(0),fill:u,stroke:s,strokeWidth:Number(d),fontSize:Number(a)-1,fontWeight:c}),dx(C.domain(),{x:C,y:85.02,text:ey,fill:u,stroke:s,strokeWidth:Number(p),lineWidth:10,fontSize:Number(a),fontWeight:c}),Bk(t,{x1:({key:t})=>C(t),y1:({value:t})=>90-t,x2:0,y2:90,fill:E,stroke:E,fillOpacity:Number(b),curve:o,sort:{x:"key",reduce:null},z:E}),Zk(t,{x:({key:t})=>C(t),y:({value:t})=>90-t,fill:E,stroke:"white",r:Number(g)}),dx(t,S_({x:({key:t})=>C(t),y:({value:t})=>90-t,text:t=>l?`${Math.round(100*t.value)}%`:t.value.toFixed(0),textAnchor:"start",dx:6,dy:-4,fill:u,stroke:s,strokeWidth:Number(d),maxRadius:Number(y),fontSize:Number(a)+1,fontWeight:"normal"===c?"bold":c})),()=>r`<style>
            g[aria-label=area] path {fill-opacity: 0.2; transition: fill-opacity .2s;}
            g[aria-label=area]:hover path:not(:hover) {fill-opacity: 0.1; transition: fill-opacity .2s;}
            g[aria-label=area] path:hover {fill-opacity: 0.5; transition: fill-opacity .2s;}
        `]})}(k,{width:Math.min($,S),height:Math.min($,S),lineType:null==(i=null==hM?void 0:hM.lineType)?void 0:i.value,fontSize:(null==(o=null==hM?void 0:hM.fontSize)?void 0:o.value)||"10",fontWeight:(null==(a=null==hM?void 0:hM.fontWeight)?void 0:a.value)||"normal",tickStep:null==(c=null==hM?void 0:hM.tickStep)?void 0:c.value,usePercentage:L,maxTickValue:null==(l=null==hM?void 0:hM.maxTickValue)?void 0:l.value,backgroundColor:N,textColor:T,ringStrokeWidth:(null==(s=null==hM?void 0:hM.ringStrokeWidth)?void 0:s.value)||"0.5",axisStrokeWidth:(null==(u=null==hM?void 0:hM.axisStrokeWidth)?void 0:u.value)||"1.5",textStrokeWidth:(null==(f=null==hM?void 0:hM.textStrokeWidth)?void 0:f.value)||"2",axisLabelStrokeWidth:(null==(h=null==hM?void 0:hM.axisLabelStrokeWidth)?void 0:h.value)||"3",pointRadius:(null==(d=null==hM?void 0:hM.pointRadius)?void 0:d.value)||"3",hoverMaxRadius:(null==(p=null==hM?void 0:hM.hoverMaxRadius)?void 0:p.value)||"15",ringFillOpacity:(null==(g=null==hM?void 0:hM.ringFillOpacity)?void 0:g.value)||"0.3",areaFillOpacity:(null==(y=null==hM?void 0:hM.areaFillOpacity)?void 0:y.value)||"0.2",axisStrokeOpacity:(null==(m=null==hM?void 0:hM.axisStrokeOpacity)?void 0:m.value)||"0.5",marginTop:(null==(b=null==hM?void 0:hM.marginTop)?void 0:b.value)||"15",marginRight:(null==(v=null==hM?void 0:hM.marginRight)?void 0:v.value)||"50",marginBottom:(null==(_=null==hM?void 0:hM.marginBottom)?void 0:_.value)||"60",marginLeft:(null==(x=null==hM?void 0:hM.marginLeft)?void 0:x.value)||"60",colorScheme:(null==(w=null==hM?void 0:hM.colorScheme)?void 0:w.value)||"category10"});A.appendChild(U)}sM.subscribeToData(function(t){try{dM(function(t){const{tables:n,fields:e,style:r}=t;hM=r;const i=n.DEFAULT,o={};for(const[a,c]of Object.entries(e))o[a]=c.map(t=>t.name);return i.map(t=>{const n={};if(t.dim&&Array.isArray(t.dim)&&(n.name=t.dim[0]),t.metric&&Array.isArray(t.metric))return t.metric.forEach((t,e)=>{var r;const i=null==(r=o.metric)?void 0:r[e];if(i){const r="string"==typeof t?parseFloat(t):t;n[i]=r,n[`dimension${e}`]=r,n[`dimensionName${e}`]=i}}),n;for(const[e,r]of Object.entries(t))Array.isArray(r)&&r.forEach((t,r)=>{var i;const a=null==(i=o[e])?void 0:i[r];if(a)if("date"===a.toLowerCase())n.date=fM(t);else if("name"===e)n.name=t;else{const e="string"==typeof t?parseFloat(t):t;n[a]=e,n[`dimension${r}`]=e,n[`dimensionName${r}`]=a}});return n})}(t))}catch(n){const t=document.createElement("div");t.style.padding="20px",t.style.color="red",t.style.textAlign="center",t.innerHTML=`\n        <h3>Error Processing Data</h3>\n        <p>${n.message}</p>\n        <p>Check browser console for details</p>\n      `,document.body.innerHTML="",document.body.appendChild(t)}},{transform:sM.objectTransform})}();
